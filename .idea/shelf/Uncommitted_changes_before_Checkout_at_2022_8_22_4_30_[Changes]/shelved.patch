Index: app/build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>plugins {\r\n    id 'com.android.application'\r\n    id 'org.jetbrains.kotlin.android'\r\n}\r\n\r\napply plugin: 'kotlin-android'\r\napply plugin: 'kotlin-kapt'\r\n\r\nandroid {\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId \"com.qxy.siegelions\"\r\n        minSdk 21\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName \"1.0\"\r\n\r\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\r\n\r\n        javaCompileOptions {\r\n            annotationProcessorOptions {\r\n                arguments = [\"room.schemaLocation\":\r\n                                     \"$projectDir/schemas\".toString()]\r\n            }\r\n        }\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_11\r\n        targetCompatibility JavaVersion.VERSION_11\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = '1.8'\r\n    }\r\n\r\n    signingConfigs {\r\n        debug {\r\n            storeFile file('siegelions.jks')\r\n            storePassword '123456'\r\n            keyAlias 'siegelions_key'\r\n            keyPassword '123456'\r\n        }\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\r\n            signingConfig signingConfigs.debug\r\n        }\r\n\r\n        debug {\r\n            signingConfig signingConfigs.debug\r\n        }\r\n    }\r\n\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation 'androidx.appcompat:appcompat:1.4.2'\r\n    implementation 'com.google.android.material:material:1.6.1'\r\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\r\n    implementation 'androidx.room:room-common:2.3.0'\r\n    implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.3.1'\r\n    implementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.3.1'\r\n    implementation 'androidx.navigation:navigation-fragment:2.3.5'\r\n    implementation 'androidx.navigation:navigation-ui:2.3.5'\r\n    testImplementation 'junit:junit:4.13.2'\r\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\r\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\r\n\r\n    implementation 'com.squareup.okhttp3:okhttp:3.14.9'\r\n\r\n    implementation 'com.squareup.retrofit2:retrofit:2.4.0'\r\n    //Gson 数据解析器依赖库\r\n    implementation 'com.squareup.retrofit2:converter-gson:2.4.0'\r\n\r\n    implementation 'com.bytedance.ies.ugc.aweme:opensdk-china-external:0.1.9.0'\r\n    implementation 'com.bytedance.ies.ugc.aweme:opensdk-common:0.1.9.0'\r\n\r\n    def room_version = \"2.4.3\"\r\n\r\n    implementation(\"androidx.room:room-runtime:$room_version\")\r\n    annotationProcessor(\"androidx.room:room-compiler:$room_version\")\r\n    // To use Kotlin annotation processing tool (kapt)\r\n    kapt(\"androidx.room:room-compiler:$room_version\")\r\n\r\n// Test helpers\r\n    testImplementation \"androidx.room:room-testing:2.4.3\"\r\n    implementation \"androidx.core:core-ktx:1.8.0\"\r\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\r\n\r\n    implementation 'com.android.volley:volley:1.2.0'\r\n    implementation 'androidx.swiperefreshlayout:swiperefreshlayout:1.1.0'\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/build.gradle b/app/build.gradle
--- a/app/build.gradle	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/app/build.gradle	(date 1661113162552)
@@ -5,14 +5,15 @@
 
 apply plugin: 'kotlin-android'
 apply plugin: 'kotlin-kapt'
+apply plugin: 'kotlin-android-extensions'
 
 android {
-    compileSdk 32
+    compileSdk 30
 
     defaultConfig {
         applicationId "com.qxy.siegelions"
         minSdk 21
-        targetSdk 32
+        targetSdk 30
         versionCode 1
         versionName "1.0"
 
@@ -32,12 +33,17 @@
             proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
         }
     }
+
+    dataBinding {
+        enabled = true
+    }
+
     compileOptions {
         sourceCompatibility JavaVersion.VERSION_11
         targetCompatibility JavaVersion.VERSION_11
     }
     kotlinOptions {
-        jvmTarget = '1.8'
+        jvmTarget = '11'
     }
 
     signingConfigs {
@@ -67,9 +73,8 @@
 }
 
 dependencies {
-
-    implementation 'androidx.appcompat:appcompat:1.4.2'
-    implementation 'com.google.android.material:material:1.6.1'
+    implementation fileTree(dir: 'libs', include: ['*.jar', '*.aar'])
+    implementation 'androidx.appcompat:appcompat:1.0.2'
     implementation 'androidx.constraintlayout:constraintlayout:2.1.4'
     implementation 'androidx.room:room-common:2.3.0'
     implementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.3.1'
@@ -89,7 +94,7 @@
     implementation 'com.bytedance.ies.ugc.aweme:opensdk-china-external:0.1.9.0'
     implementation 'com.bytedance.ies.ugc.aweme:opensdk-common:0.1.9.0'
 
-    def room_version = "2.4.3"
+    def room_version = "2.3.0"
 
     implementation("androidx.room:room-runtime:$room_version")
     annotationProcessor("androidx.room:room-compiler:$room_version")
@@ -97,10 +102,31 @@
     kapt("androidx.room:room-compiler:$room_version")
 
 // Test helpers
-    testImplementation "androidx.room:room-testing:2.4.3"
-    implementation "androidx.core:core-ktx:1.8.0"
+    testImplementation "androidx.room:room-testing:2.3.0"
+    implementation "androidx.core:core-ktx:1.6.0"
     implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version"
 
     implementation 'com.android.volley:volley:1.2.0'
     implementation 'androidx.swiperefreshlayout:swiperefreshlayout:1.1.0'
+
+    implementation 'androidx.legacy:legacy-support-v4:1.0.0'
+
+    implementation 'com.github.bumptech.glide:glide:4.6.1'
+
+    implementation 'com.google.android.material:material:1.4.0'
+
+    implementation 'com.jakewharton:butterknife:10.2.1'
+    annotationProcessor 'com.jakewharton:butterknife-compiler:10.2.1'
+
+    implementation 'com.geyifeng.immersionbar:immersionbar:3.2.2'
+
+    implementation 'com.androidkun:XTabLayout:1.1.4'
+
+    implementation 'io.reactivex:rxjava:1.1.0'
+
+    implementation 'com.airbnb.android:lottie:2.8.0'
+
+    implementation 'com.github.markzhai:blockcanary-android:1.5.0'
+
+    debugImplementation 'com.squareup.leakcanary:leakcanary-android:2.5'
 }
\ No newline at end of file
Index: build.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>buildscript {\r\n    ext.kotlin_version = '1.7.10'\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\r\n    }\r\n}\r\n\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nplugins {\r\n    id 'com.android.application' version '7.2.1' apply false\r\n    id 'com.android.library' version '7.2.1' apply false\r\n    id 'org.jetbrains.kotlin.android' version '1.7.10' apply false\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n\r\ntasks.withType(JavaCompile) {\r\n    options.fork = true\r\n    options.forkOptions.jvmArgs += [\"-Duser.language=en\"]\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/build.gradle b/build.gradle
--- a/build.gradle	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/build.gradle	(date 1661113109983)
@@ -2,12 +2,16 @@
     ext.kotlin_version = '1.7.10'
     repositories {
         mavenCentral()
+        google()
+        jcenter()
+        maven { url "https://dl.google.com/dl/android/maven2/" }
+        maven { url 'https://jitpack.io'}
+
     }
     dependencies {
         classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version"
     }
 }
-
 // Top-level build file where you can add configuration options common to all sub-projects/modules.
 plugins {
     id 'com.android.application' version '7.2.1' apply false
Index: app/src/main/res/layout/item_share.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/item_share.xml b/app/src/main/res/layout/item_share.xml
new file mode 100644
--- /dev/null	(date 1661103872528)
+++ b/app/src/main/res/layout/item_share.xml	(date 1661103872528)
@@ -0,0 +1,39 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:orientation="vertical"
+    android:layout_width="70dp"
+    android:layout_height="80dp"
+    android:gravity="center_horizontal">
+
+    <androidx.cardview.widget.CardView
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        app:cardCornerRadius="24dp"
+        app:cardElevation="0dp">
+
+        <View
+            android:id="@+id/view_bg"
+            android:layout_width="48dp"
+            android:layout_height="48dp"
+            android:background="@color/color_00BC1B"/>
+
+        <com.qxy.siegelions.view.IconFontTextView
+            android:id="@+id/tv_icon"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:textSize="30sp"
+            tools:text="@string/icon_friends"
+            android:textColor="@color/white"
+            android:layout_gravity="center"/>
+    </androidx.cardview.widget.CardView>
+
+    <TextView
+        android:id="@+id/tv_text"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:text="朋友圈"
+        android:layout_marginTop="8dp"/>
+
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/util/RankingVersionGetUtil.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/util/RankingVersionGetUtil.java b/app/src/main/java/com/qxy/siegelions/utils/RankingVersionGetUtil.java
rename from app/src/main/java/com/qxy/siegelions/util/RankingVersionGetUtil.java
rename to app/src/main/java/com/qxy/siegelions/utils/RankingVersionGetUtil.java
--- a/app/src/main/java/com/qxy/siegelions/util/RankingVersionGetUtil.java	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/app/src/main/java/com/qxy/siegelions/utils/RankingVersionGetUtil.java	(date 1661103406345)
@@ -1,4 +1,4 @@
-package com.qxy.siegelions.util;
+package com.qxy.siegelions.utils;
 
 import android.content.Context;
 import android.widget.Toast;
Index: app/src/main/res/layout/item_work.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/item_work.xml b/app/src/main/res/layout/item_work.xml
new file mode 100644
--- /dev/null	(date 1661103872632)
+++ b/app/src/main/res/layout/item_work.xml	(date 1661103872632)
@@ -0,0 +1,37 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:orientation="vertical"
+    android:layout_width="match_parent"
+    android:layout_height="185dp"
+    android:layout_margin="1dp">
+
+    <ImageView
+        android:id="@+id/iv_cover"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:scaleType="centerCrop"/>
+
+    <LinearLayout
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_alignParentBottom="true"
+        android:layout_margin="8dp">
+
+        <com.qxy.siegelions.view.IconFontTextView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="@string/icon_like_fill"
+            android:textSize="12sp"
+            android:textColor="@color/white"/>
+
+        <TextView
+            android:id="@+id/tv_likecount"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:textColor="@color/white"
+            android:textSize="12sp"
+            android:layout_marginLeft="3dp"
+            tools:text="8242"/>
+    </LinearLayout>
+</RelativeLayout>
\ No newline at end of file
Index: app/src/main/res/layout/item_fans.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/item_fans.xml b/app/src/main/res/layout/item_fans.xml
new file mode 100644
--- /dev/null	(date 1661111692287)
+++ b/app/src/main/res/layout/item_fans.xml	(date 1661111692287)
@@ -0,0 +1,42 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:orientation="horizontal"
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content"
+    tools:background="@color/color_bg_theme"
+    android:paddingLeft="20dp"
+    android:paddingRight="20dp"
+    android:paddingTop="10dp"
+    android:paddingBottom="10dp"
+    android:gravity="center_vertical">
+
+    <com.qxy.siegelions.view.CircleImageView
+        android:id="@+id/iv_head"
+        android:layout_width="48dp"
+        android:layout_height="48dp"
+        app:es_shape_type="round"
+        tools:src="@mipmap/head_six"/>
+
+    <TextView
+        android:id="@+id/tv_nickname"
+        android:layout_width="0dp"
+        android:layout_weight="1"
+        android:layout_height="wrap_content"
+        tools:text="一个人的表演"
+        android:textSize="15sp"
+        android:layout_margin="12dp"
+        android:textColor="@color/white"/>
+
+    <TextView
+        android:id="@+id/tv_focus"
+        android:layout_width="100dp"
+        android:layout_height="32dp"
+        android:text="关注"
+        android:textColor="@color/white"
+        android:textSize="13sp"
+        android:background="@drawable/shape_round_red"
+        android:gravity="center"/>
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/res/layout/fragment_fans.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_fans.xml b/app/src/main/res/layout/fragment_fans.xml
new file mode 100644
--- /dev/null	(date 1661105422852)
+++ b/app/src/main/res/layout/fragment_fans.xml	(date 1661105422852)
@@ -0,0 +1,14 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    tools:context=".ui.FansFragment">
+
+    <androidx.recyclerview.widget.RecyclerView
+        android:id="@+id/recyclerview"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"/>
+
+</RelativeLayout>
\ No newline at end of file
Index: app/src/main/res/layout/item_comment.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/item_comment.xml b/app/src/main/res/layout/item_comment.xml
new file mode 100644
--- /dev/null	(date 1661111692295)
+++ b/app/src/main/res/layout/item_comment.xml	(date 1661111692295)
@@ -0,0 +1,63 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:orientation="horizontal"
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content"
+    android:paddingTop="10dp">
+
+    <com.qxy.siegelions.view.CircleImageView
+        android:id="@+id/iv_head"
+        android:layout_width="34dp"
+        android:layout_height="34dp"
+        app:es_shape_type="round"
+        android:layout_marginLeft="12dp"
+        tools:src="@mipmap/head_six"/>
+
+    <LinearLayout
+        android:layout_width="0dp"
+        android:layout_weight="1"
+        android:layout_height="wrap_content"
+        android:layout_marginLeft="12dp"
+        android:layout_marginTop="2dp"
+        android:orientation="vertical">
+
+        <TextView
+            android:id="@+id/tv_nickname"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:textSize="12sp"
+            tools:text="抬棺副指挥"/>
+
+        <TextView
+            android:id="@+id/tv_content"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="这个也太好看了吧"
+            android:textColor="@color/black"
+            android:textSize="14sp"
+            android:layout_marginTop="5dp" />
+    </LinearLayout>
+
+    <LinearLayout
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:orientation="vertical"
+        android:gravity="center_horizontal"
+        android:padding="12dp">
+
+        <com.qxy.siegelions.view.IconFontTextView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:textSize="18sp"
+            android:text="@string/icon_like_fill"
+            android:textColor="#609b9b9b"/>
+
+        <TextView
+            android:id="@+id/tv_likecount"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="89"/>
+    </LinearLayout>
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/res/layout/dialog_share.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/dialog_share.xml b/app/src/main/res/layout/dialog_share.xml
new file mode 100644
--- /dev/null	(date 1624607919000)
+++ b/app/src/main/res/layout/dialog_share.xml	(date 1624607919000)
@@ -0,0 +1,49 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    android:orientation="vertical"
+    android:background="@drawable/shape_top_round_white"
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content">
+
+    <TextView
+        android:layout_width="wrap_content"
+        android:layout_height="40dp"
+        android:text="私信给"
+        android:textColor="@color/black"
+        android:textSize="14sp"
+        android:gravity="center"
+        android:layout_gravity="center_horizontal"/>
+
+    <androidx.recyclerview.widget.RecyclerView
+        android:id="@+id/rvPrivateLetter"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:padding="10dp"/>
+
+    <View
+        android:layout_width="match_parent"
+        android:layout_height="1dp"
+        android:background="@color/light_gray"
+        android:layout_margin="15dp"/>
+
+    <androidx.recyclerview.widget.RecyclerView
+        android:id="@+id/rvShare"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:padding="10dp"/>
+
+    <View
+        android:layout_width="match_parent"
+        android:layout_height="1dp"
+        android:background="@color/light_gray"
+        android:layout_marginTop="20dp"/>
+
+    <TextView
+        android:layout_width="match_parent"
+        android:layout_height="48dp"
+        android:text="取消"
+        android:textSize="15sp"
+        android:gravity="center"/>
+
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/res/layout/item_video.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/item_video.xml b/app/src/main/res/layout/item_video.xml
new file mode 100644
--- /dev/null	(date 1661103872586)
+++ b/app/src/main/res/layout/item_video.xml	(date 1661103872586)
@@ -0,0 +1,39 @@
+<?xml version="1.0" encoding="utf-8"?>
+<layout xmlns:android="http://schemas.android.com/apk/res/android">
+
+    <data>
+
+    </data>
+
+    <RelativeLayout
+        android:id="@+id/rl_container"
+        android:orientation="vertical"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent">
+
+        <ImageView
+            android:id="@+id/iv_cover"
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            android:scaleType="centerCrop"/>
+
+        <com.qxy.siegelions.view.LikeView
+            android:id="@+id/likeview"
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"/>
+
+        <com.qxy.siegelions.view.ControllerView
+            android:id="@+id/controller"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:layout_alignParentBottom="true"/>
+
+        <ImageView
+            android:id="@+id/iv_play"
+            android:layout_width="60dp"
+            android:layout_height="60dp"
+            android:background="@mipmap/ic_play"
+            android:layout_centerInParent="true"
+            android:visibility="gone"/>
+    </RelativeLayout>
+</layout>
\ No newline at end of file
Index: app/src/main/res/layout/dialog_comment.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/dialog_comment.xml b/app/src/main/res/layout/dialog_comment.xml
new file mode 100644
--- /dev/null	(date 1624607919000)
+++ b/app/src/main/res/layout/dialog_comment.xml	(date 1624607919000)
@@ -0,0 +1,29 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout
+    android:layout_width="match_parent"
+    android:layout_height="500dp"
+    android:orientation="vertical"
+    android:background="@drawable/shape_top_round_white"
+    xmlns:android="http://schemas.android.com/apk/res/android">
+
+    <RelativeLayout
+        android:layout_width="match_parent"
+        android:layout_height="40dp">
+
+        <TextView
+            android:id="@+id/tv_title"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="9221条评论"
+            android:layout_centerInParent="true"/>
+
+        <TextView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"/>
+    </RelativeLayout>
+
+    <androidx.recyclerview.widget.RecyclerView
+        android:id="@+id/recyclerView"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"/>
+</LinearLayout>
\ No newline at end of file
Index: .idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"DesignSurface\">\r\n    <option name=\"filePathToZoomLevelMap\">\r\n      <map>\r\n        <entry key=\"..\\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/drawable-v24/ic_launcher_foreground.xml\" value=\"0.193\" />\r\n        <entry key=\"..\\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/drawable/ic_home_black_24dp.xml\" value=\"0.1905\" />\r\n        <entry key=\"..\\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/drawable/ic_launcher_background.xml\" value=\"0.193\" />\r\n        <entry key=\"..\\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/drawable/store_item_default.xml\" value=\"0.192\" />\r\n        <entry key=\"..\\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/activity_main.xml\" value=\"0.33\" />\r\n        <entry key=\"..\\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/activity_main2.xml\" value=\"0.23125\" />\r\n        <entry key=\"..\\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/activity_menu.xml\" value=\"0.33\" />\r\n        <entry key=\"..\\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/activity_ranking.xml\" value=\"0.22083333333333333\" />\r\n        <entry key=\"..\\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/fragment_dashboard.xml\" value=\"0.18333333333333332\" />\r\n        <entry key=\"..\\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/fragment_home.xml\" value=\"0.18489583333333334\" />\r\n        <entry key=\"..\\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/fragment_movie.xml\" value=\"0.22\" />\r\n        <entry key=\"..\\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/fragment_notifications.xml\" value=\"0.18333333333333332\" />\r\n        <entry key=\"..\\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/fragment_show.xml\" value=\"0.20625\" />\r\n        <entry key=\"..\\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/fragment_teleplay.xml\" value=\"0.20625\" />\r\n        <entry key=\"..\\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/list_item.xml\" value=\"0.33\" />\r\n        <entry key=\"..\\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/menu/bottom_nav_menu.xml\" value=\"0.18489583333333334\" />\r\n        <entry key=\"..\\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/mipmap-anydpi-v26/ic_launcher.xml\" value=\"0.1455\" />\r\n        <entry key=\"..\\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml\" value=\"0.1455\" />\r\n        <entry key=\"..\\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/xml/network_security_config.xml\" value=\"0.1796875\" />\r\n        <entry key=\"..\\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/xml/provider_paths.xml\" value=\"0.18229166666666666\" />\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_11\" project-jdk-name=\"1.8\" project-jdk-type=\"JavaSDK\">\r\n    <output url=\"file://$PROJECT_DIR$/build/classes\" />\r\n  </component>\r\n  <component name=\"ProjectType\">\r\n    <option name=\"id\" value=\"Android\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/misc.xml b/.idea/misc.xml
--- a/.idea/misc.xml	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/.idea/misc.xml	(date 1661111895745)
@@ -6,18 +6,39 @@
         <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/drawable-v24/ic_launcher_foreground.xml" value="0.193" />
         <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/drawable/ic_home_black_24dp.xml" value="0.1905" />
         <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/drawable/ic_launcher_background.xml" value="0.193" />
+        <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/drawable/shape_circle_halfwhite.xml" value="0.1865" />
         <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/drawable/store_item_default.xml" value="0.192" />
+        <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/activity_focus.xml" value="0.178125" />
         <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/activity_main.xml" value="0.33" />
         <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/activity_main2.xml" value="0.23125" />
         <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/activity_menu.xml" value="0.33" />
+        <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/activity_play_list.xml" value="0.178125" />
         <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/activity_ranking.xml" value="0.22083333333333333" />
+        <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/activity_show_image.xml" value="0.178125" />
+        <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/activity_splash.xml" value="0.178125" />
+        <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/activity_tiktok.xml" value="0.178125" />
+        <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/dialog_comment.xml" value="0.178125" />
+        <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/dialog_share.xml" value="0.178125" />
+        <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/fragment_current_location.xml" value="0.178125" />
         <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/fragment_dashboard.xml" value="0.18333333333333332" />
+        <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/fragment_fans.xml" value="0.178125" />
         <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/fragment_home.xml" value="0.18489583333333334" />
+        <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/fragment_main.xml" value="0.178125" />
         <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/fragment_movie.xml" value="0.22" />
         <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/fragment_notifications.xml" value="0.18333333333333332" />
         <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/fragment_show.xml" value="0.20625" />
         <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/fragment_teleplay.xml" value="0.20625" />
+        <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/fragment_work.xml" value="0.178125" />
+        <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/item_comment.xml" value="0.178125" />
+        <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/item_fans.xml" value="0.16302083333333334" />
+        <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/item_gridvideo.xml" value="0.178125" />
+        <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/item_private_letter.xml" value="0.178125" />
+        <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/item_share.xml" value="0.178125" />
+        <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/item_video.xml" value="0.178125" />
+        <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/item_work.xml" value="0.178125" />
         <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/list_item.xml" value="0.33" />
+        <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/personal_home_header.xml" value="0.178125" />
+        <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/layout/view_controller.xml" value="0.178125" />
         <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/menu/bottom_nav_menu.xml" value="0.18489583333333334" />
         <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/mipmap-anydpi-v26/ic_launcher.xml" value="0.1455" />
         <entry key="..\:/Users/MSI/Documents/GitHub/simplified-tiktok/app/src/main/res/mipmap-anydpi-v26/ic_launcher_round.xml" value="0.1455" />
Index: app/src/main/res/layout/activity_focus.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_focus.xml b/app/src/main/res/layout/activity_focus.xml
new file mode 100644
--- /dev/null	(date 1661108241941)
+++ b/app/src/main/res/layout/activity_focus.xml	(date 1661108241941)
@@ -0,0 +1,46 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    tools:context=".FocusActivity"
+    android:background="@color/color_bg_theme"
+    android:orientation="vertical">
+
+    <RelativeLayout
+        android:layout_width="match_parent"
+        android:layout_height="48dp">
+
+        <ImageView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:src="@mipmap/return_white"
+            android:layout_centerVertical="true"
+            android:padding="10dp"/>
+
+        <TextView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:textColor="@color/white"
+            android:textSize="16sp"
+            android:textStyle="bold"
+            android:layout_centerInParent="true"/>
+    </RelativeLayout>
+
+    <com.androidkun.xtablayout.XTabLayout
+        android:id="@+id/tablayout"
+        android:layout_width="match_parent"
+        android:layout_height="44dp"
+        app:xTabIndicatorColor="#FF9F00"
+        app:xTabSelectedTextColor="@color/white"
+        app:xTabTextColor="#CCCCCC"
+        app:xTabIndicatorWidth="90dp"
+        app:xTabTextBold="true"
+        app:xTabTextSize="14sp"/>
+
+    <androidx.viewpager.widget.ViewPager
+        android:id="@+id/viewpager"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"/>
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/res/layout/fragment_work.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_work.xml b/app/src/main/res/layout/fragment_work.xml
new file mode 100644
--- /dev/null	(date 1624607919000)
+++ b/app/src/main/res/layout/fragment_work.xml	(date 1624607919000)
@@ -0,0 +1,14 @@
+<?xml version="1.0" encoding="utf-8"?>
+<FrameLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    tools:context=".fragment.WorkFragment">
+
+    <androidx.recyclerview.widget.RecyclerView
+        android:id="@+id/recyclerview"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"/>
+
+</FrameLayout>
\ No newline at end of file
Index: app/src/main/res/layout/fragment_main.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_main.xml b/app/src/main/res/layout/fragment_main.xml
new file mode 100644
--- /dev/null	(date 1624607919000)
+++ b/app/src/main/res/layout/fragment_main.xml	(date 1624607919000)
@@ -0,0 +1,75 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    tools:context=".fragment.MainFragment">
+
+    <androidx.viewpager.widget.ViewPager
+        android:id="@+id/viewPager"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:layout_marginBottom="48dp"/>
+
+    <RelativeLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:orientation="horizontal">
+
+        <TextView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="直播"
+            android:textSize="14sp"
+            android:layout_centerVertical="true"
+            android:layout_marginLeft="12dp"
+            android:textColor="#cccccc"
+            android:padding="10dp"/>
+
+        <com.androidkun.xtablayout.XTabLayout
+            android:id="@+id/tabTitle"
+            android:layout_width="160dp"
+            app:xTabIndicatorColor="@color/white"
+            app:xTabSelectedTextColor="@color/white"
+            app:xTabTextColor="#CCCCCC"
+            app:xTabTextBold="true"
+            app:xTabTextSize="18sp"
+            app:xTabIndicatorWidth="20dp"
+            android:layout_height="44dp"
+            android:layout_centerInParent="true"/>
+
+        <ImageView
+            android:layout_width="20dp"
+            android:layout_height="20dp"
+            android:background="@mipmap/iv_search"
+            android:layout_centerVertical="true"
+            android:layout_alignParentRight="true"
+            android:layout_marginRight="20dp"/>
+    </RelativeLayout>
+
+    <RelativeLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_alignParentBottom="true">
+
+        <com.androidkun.xtablayout.XTabLayout
+            android:id="@+id/tabMainMenu"
+            android:layout_width="match_parent"
+            app:xTabSelectedTextColor="@color/white"
+            app:xTabTextColor="#8F8F94"
+            app:xTabTextBold="true"
+            app:xTabTextSize="15sp"
+            app:xTabSelectedTextSize="16sp"
+            android:layout_height="50dp"
+            android:background="@color/black" />
+
+        <ImageView
+            android:layout_width="50dp"
+            android:layout_height="35dp"
+            android:background="@mipmap/ic_main_menu"
+            android:layout_centerInParent="true"/>
+    </RelativeLayout>
+
+</RelativeLayout>
\ No newline at end of file
Index: app/src/main/res/layout/activity_play_list.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_play_list.xml b/app/src/main/res/layout/activity_play_list.xml
new file mode 100644
--- /dev/null	(date 1624607919000)
+++ b/app/src/main/res/layout/activity_play_list.xml	(date 1624607919000)
@@ -0,0 +1,13 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    tools:context=".activity.PlayListActivity">
+
+    <FrameLayout
+        android:id="@+id/framelayout"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"/>
+</RelativeLayout>
\ No newline at end of file
Index: app/src/main/res/layout/view_controller.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/view_controller.xml b/app/src/main/res/layout/view_controller.xml
new file mode 100644
--- /dev/null	(date 1661103872488)
+++ b/app/src/main/res/layout/view_controller.xml	(date 1661103872488)
@@ -0,0 +1,168 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:orientation="vertical"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    tools:background="@color/black">
+
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:layout_alignParentBottom="true"
+        android:orientation="vertical"
+        android:layout_marginLeft="12dp"
+        android:layout_marginBottom="18dp"
+        android:layout_marginRight="120dp">
+
+        <TextView
+            android:id="@+id/tvNickname"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text=" @XXX"
+            android:textStyle="bold"
+            android:textSize="16sp"
+            android:textColor="@color/white"/>
+
+        <com.qxy.siegelions.utils.autolinktextview.AutoLinkTextView
+            android:id="@+id/autoLinkTextView"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            tools:text="XX #XX XXXXXXXXXX"
+            android:textColor="@color/white"
+            android:textSize="14sp"
+            android:layout_marginTop="10dp"
+            app:highlight_textcolor="@color/color_link"/>
+
+        <com.qxy.siegelions.view.MarqueeTextView
+            android:layout_width="180dp"
+            android:layout_height="wrap_content"
+            android:text=" @XXX XXXXXX - XXX"
+            android:textColor="@color/white"
+            android:textSize="14sp"
+            android:ellipsize="marquee"
+            android:singleLine="true"
+            android:marqueeRepeatLimit="marquee_forever"
+            android:layout_marginTop="10dp"/>
+    </LinearLayout>
+
+    <LinearLayout
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:orientation="vertical"
+        android:gravity="center_horizontal"
+        android:layout_alignParentRight="true"
+        android:layout_alignParentBottom="true">
+
+        <RelativeLayout
+            android:layout_width="52dp"
+            android:layout_height="62dp">
+
+            <com.qxy.siegelions.view.CircleImageView
+                android:id="@+id/ivHead"
+                android:layout_width="52dp"
+                android:layout_height="52dp"
+                app:es_shape_type="round"
+                android:scaleType="centerCrop"/>
+
+            <ImageView
+                android:id="@+id/ivFocus"
+                android:layout_width="25dp"
+                android:layout_height="25dp"
+                android:padding="3dp"
+                android:src="@mipmap/add_focus"
+                android:layout_alignParentBottom="true"
+                android:layout_centerHorizontal="true"/>
+        </RelativeLayout>
+
+        <RelativeLayout
+            android:id="@+id/rlLike"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content">
+
+            <com.qxy.siegelions.view.IconFontTextView
+                android:id="@+id/ivLike"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:textSize="32sp"
+                android:textColor="@color/white"
+                android:layout_centerInParent="true"
+                android:text="@string/icon_like_fill" />
+
+            <com.airbnb.lottie.LottieAnimationView
+                android:id="@+id/animationView"
+                android:layout_width="85dp"
+                android:layout_height="85dp" />
+        </RelativeLayout>
+
+        <TextView
+            android:id="@+id/tvLikecount"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            tools:text="22.5w"
+            android:textSize="12sp"
+            android:textColor="@color/white"
+            android:layout_marginTop="-22dp"/>
+
+        <com.qxy.siegelions.view.IconFontTextView
+            android:id="@+id/ivComment"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:textSize="32sp"
+            android:textColor="@color/white"
+            android:layout_marginTop="15dp"
+            android:text="@string/icon_comment"/>
+
+        <TextView
+            android:id="@+id/tvCommentcount"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            tools:text="3823"
+            android:layout_marginTop="2dp"
+            android:textSize="12sp"
+            android:textColor="@color/white"/>
+
+        <com.qxy.siegelions.view.IconFontTextView
+            android:id="@+id/ivShare"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:textSize="32sp"
+            android:textColor="@color/white"
+            android:layout_marginTop="12dp"
+            android:text="@string/icon_more"/>
+
+        <TextView
+            android:id="@+id/tvSharecount"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            tools:text="3371"
+            android:textSize="12sp"
+            android:layout_marginTop="-5dp"
+            android:textColor="@color/white"/>
+
+        <RelativeLayout
+            android:id="@+id/rlRecord"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_marginTop="45dp"
+            android:layout_marginBottom="15dp">
+
+            <ImageView
+                android:id="@+id/ivRecord"
+                android:layout_width="58dp"
+                android:layout_height="58dp"
+                android:background="@mipmap/ic_record" />
+
+            <com.qxy.siegelions.view.CircleImageView
+                android:id="@+id/ivHeadAnim"
+                android:layout_width="34dp"
+                android:layout_height="34dp"
+                app:ease_radius="15dp"
+                app:es_shape_type="round"
+                android:layout_centerInParent="true"/>
+        </RelativeLayout>
+
+    </LinearLayout>
+
+</RelativeLayout>
\ No newline at end of file
Index: app/src/main/res/layout/activity_splash.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_splash.xml b/app/src/main/res/layout/activity_splash.xml
new file mode 100644
--- /dev/null	(date 1624607919000)
+++ b/app/src/main/res/layout/activity_splash.xml	(date 1624607919000)
@@ -0,0 +1,15 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    tools:context=".activity.SplashActivity"
+    android:background="#140c16">
+
+    <ImageView
+        android:layout_width="240dp"
+        android:layout_height="160dp"
+        android:background="@mipmap/logo"
+        android:layout_centerInParent="true"/>
+</RelativeLayout>
\ No newline at end of file
Index: app/src/main/res/layout/item_gridvideo.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/item_gridvideo.xml b/app/src/main/res/layout/item_gridvideo.xml
new file mode 100644
--- /dev/null	(date 1661111692291)
+++ b/app/src/main/res/layout/item_gridvideo.xml	(date 1661111692291)
@@ -0,0 +1,65 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:orientation="vertical"
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content"
+    android:layout_margin="2dp">
+
+    <RelativeLayout
+        android:layout_width="wrap_content"
+        android:layout_height="300dp">
+
+        <ImageView
+            android:id="@+id/iv_cover"
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            android:scaleType="centerCrop" />
+
+        <LinearLayout
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_alignParentBottom="true"
+            android:layout_margin="10dp">
+
+            <com.qxy.siegelions.view.IconFontTextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:text="@string/icon_location_fill"
+                android:textSize="13sp"
+                android:textColor="@color/white"/>
+
+            <com.qxy.siegelions.view.IconFontTextView
+                android:id="@+id/tv_distance"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                tools:text="10km"
+                android:layout_marginLeft="2dp"
+                android:textSize="13sp"
+                android:textColor="@color/white"/>
+        </LinearLayout>
+
+        <com.qxy.siegelions.view.CircleImageView
+            android:id="@+id/iv_head"
+            android:layout_width="25dp"
+            android:layout_height="25dp"
+            app:es_shape_type="round"
+            android:layout_alignParentRight="true"
+            android:layout_alignParentBottom="true"
+            android:layout_margin="10dp"/>
+    </RelativeLayout>
+
+    <TextView
+        android:id="@+id/tv_content"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        tools:text="能看得出来什么情况吗？"
+        android:textColor="@color/white"
+        android:textSize="14sp"
+        android:paddingLeft="5dp"
+        android:paddingRight="5dp"
+        android:paddingBottom="30dp"
+        android:paddingTop="5dp"/>
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/res/layout/personal_home_header.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/personal_home_header.xml b/app/src/main/res/layout/personal_home_header.xml
new file mode 100644
--- /dev/null	(date 1661111540491)
+++ b/app/src/main/res/layout/personal_home_header.xml	(date 1661111540491)
@@ -0,0 +1,196 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    android:layout_width="match_parent"
+    android:layout_height="wrap_content"
+    android:orientation="vertical"
+    android:layout_marginTop="100dp"
+    xmlns:android="http://schemas.android.com/apk/res/android">
+
+    <RelativeLayout
+        android:layout_width="match_parent"
+        android:layout_height="144dp">
+
+        <View
+            android:layout_width="match_parent"
+            android:layout_height="115dp"
+            android:background="@color/color_bg_theme"
+            android:layout_alignParentBottom="true"/>
+
+        <com.qxy.siegelions.view.CircleImageView
+            android:id="@+id/ivHead"
+            android:layout_width="100dp"
+            android:layout_height="100dp"
+            android:layout_marginLeft="20dp"
+            android:scaleType="centerCrop"
+            android:layout_centerVertical="true"/>
+
+        <TextView
+            android:id="@+id/tvAddfocus"
+            android:layout_width="160dp"
+            android:layout_height="40dp"
+            android:text="关注"
+            android:textColor="@color/white"
+            android:textSize="15sp"
+            android:gravity="center"
+            android:layout_marginRight="4dp"
+            android:layout_centerVertical="true"
+            android:layout_toLeftOf="@id/rl_dropdown"
+            android:background="@drawable/shape_round_red"/>
+
+        <RelativeLayout
+            android:id="@+id/rl_dropdown"
+            android:layout_width="42dp"
+            android:layout_height="42dp"
+            android:background="@drawable/shape_round_halfwhite"
+            android:layout_centerVertical="true"
+            android:layout_marginRight="12dp"
+            android:layout_alignParentRight="true">
+
+            <ImageView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:layout_centerInParent="true"
+                android:background="@mipmap/ic_down_arrow" />
+        </RelativeLayout>
+    </RelativeLayout>
+
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content"
+        android:orientation="vertical"
+        android:background="@color/color_bg_theme"
+        android:paddingLeft="12dp"
+        android:paddingRight="12dp"
+        android:paddingBottom="12dp">
+
+        <TextView
+            android:id="@+id/tvNickname"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="MadSamurai"
+            android:textColor="@color/white"
+            android:textSize="25sp"/>
+
+        <TextView
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:textColor="@color/white"
+            android:text="抖音号: SuJakads0133"
+            android:textSize="12sp"
+            android:layout_marginTop="8dp"/>
+
+        <View
+            android:layout_width="match_parent"
+            android:layout_height="0.5dp"
+            android:background="#2fff"
+            android:layout_marginTop="10dp"/>
+
+        <TextView
+            android:id="@+id/tvSign"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="这个人很懒 \n什么都没有写"
+            android:textColor="@color/white"
+            android:textSize="14sp"
+            android:layout_marginTop="15dp"/>
+
+        <LinearLayout
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_marginTop="12dp">
+
+            <TextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:background="@drawable/shape_round_halfwhite"
+                android:text="22岁"
+                android:paddingLeft="5dp"
+                android:paddingRight="5dp"
+                android:paddingTop="2dp"
+                android:paddingBottom="2dp"
+                android:textSize="12sp"
+                android:textColor="@color/color_tag"/>
+
+            <TextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:background="@drawable/shape_round_halfwhite"
+                android:text="苏州"
+                android:paddingLeft="5dp"
+                android:paddingRight="5dp"
+                android:paddingTop="2dp"
+                android:paddingBottom="2dp"
+                android:layout_marginLeft="5dp"
+                android:textSize="12sp"
+                android:textColor="@color/color_tag"/>
+        </LinearLayout>
+
+        <LinearLayout
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_marginTop="20dp">
+
+            <TextView
+                android:id="@+id/tvGetLikeCount"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:text="14w"
+                android:textColor="@color/white"
+                android:textSize="16sp"/>
+
+            <TextView
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content"
+                android:text=" 获赞"
+                android:textColor="@color/color_tag"
+                android:textSize="14sp"/>
+
+            <LinearLayout
+                android:id="@+id/llFocus"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content">
+
+                <TextView
+                    android:id="@+id/tvFocusCount"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="310"
+                    android:textColor="@color/white"
+                    android:textSize="16sp"
+                    android:layout_marginLeft="15dp"/>
+
+                <TextView
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text=" 关注"
+                    android:textColor="@color/color_tag"
+                    android:textSize="14sp"/>
+            </LinearLayout>
+
+            <LinearLayout
+                android:id="@+id/llFans"
+                android:layout_width="wrap_content"
+                android:layout_height="wrap_content">
+
+                <TextView
+                    android:id="@+id/tvFansCount"
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="291w"
+                    android:textColor="@color/white"
+                    android:textSize="16sp"
+                    android:layout_marginLeft="15dp"/>
+
+                <TextView
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text=" 粉丝"
+                    android:textColor="@color/color_tag"
+                    android:textSize="14sp"/>
+            </LinearLayout>
+
+        </LinearLayout>
+    </LinearLayout>
+
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/res/layout/item_private_letter.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/item_private_letter.xml b/app/src/main/res/layout/item_private_letter.xml
new file mode 100644
--- /dev/null	(date 1661111692299)
+++ b/app/src/main/res/layout/item_private_letter.xml	(date 1661111692299)
@@ -0,0 +1,32 @@
+<?xml version="1.0" encoding="utf-8"?>
+<LinearLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    android:orientation="vertical"
+    android:layout_width="70dp"
+    android:layout_height="95dp"
+    android:gravity="center_horizontal">
+
+    <com.qxy.siegelions.view.CircleImageView
+        android:id="@+id/iv_head"
+        android:layout_width="48dp"
+        android:layout_height="48dp"
+        app:es_shape_type="round" />
+
+    <TextView
+        android:id="@+id/tv_nickname"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:textSize="12sp"
+        android:layout_marginTop="8dp"
+        android:maxLines="1"
+        android:ellipsize="end"
+        android:text="迪丽冷巴" />
+
+    <TextView
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:textSize="12sp"
+        android:layout_marginTop="3dp"
+        android:text="1小时前在线" />
+</LinearLayout>
\ No newline at end of file
Index: app/src/main/res/layout/activity_show_image.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_show_image.xml b/app/src/main/res/layout/activity_show_image.xml
new file mode 100644
--- /dev/null	(date 1661103872364)
+++ b/app/src/main/res/layout/activity_show_image.xml	(date 1661103872364)
@@ -0,0 +1,25 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    tools:context=".activity.ShowImageActivity"
+    android:background="@color/color_bg_theme">
+
+    <com.qxy.siegelions.view.SquareWidthImageView
+        android:id="@+id/ivHead"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:layout_centerInParent="true"
+        android:scaleType="centerCrop"
+        android:transitionName="@string/trans"/>
+
+    <ImageView
+        android:layout_width="25dp"
+        android:layout_height="25dp"
+        android:background="@mipmap/ic_download"
+        android:layout_alignParentRight="true"
+        android:layout_alignParentBottom="true"
+        android:layout_margin="20dp"/>
+</RelativeLayout>
\ No newline at end of file
Index: app/src/main/res/layout/fragment_recommend.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_recommend.xml b/app/src/main/res/layout/fragment_recommend.xml
new file mode 100644
--- /dev/null	(date 1624607919000)
+++ b/app/src/main/res/layout/fragment_recommend.xml	(date 1624607919000)
@@ -0,0 +1,27 @@
+<?xml version="1.0" encoding="utf-8"?>
+<layout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools">
+
+    <data>
+
+    </data>
+
+    <RelativeLayout
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        tools:context=".fragment.RecommendFragment"
+        android:background="@color/black">
+
+        <androidx.swiperefreshlayout.widget.SwipeRefreshLayout
+            android:id="@+id/refreshLayout"
+            android:layout_width="match_parent"
+            android:layout_height="match_parent">
+
+            <androidx.recyclerview.widget.RecyclerView
+                android:id="@+id/recyclerView"
+                android:layout_width="match_parent"
+                android:layout_height="match_parent"/>
+        </androidx.swiperefreshlayout.widget.SwipeRefreshLayout>
+
+    </RelativeLayout>
+</layout>
\ No newline at end of file
Index: app/src/main/res/layout/activity_main.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<ScrollView xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    tools:context=\".MainActivity\">\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/title\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"授权\"\r\n            android:layout_marginTop=\"100dp\"\r\n            app:layout_constraintLeft_toLeftOf=\"parent\"\r\n            app:layout_constraintRight_toRightOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\" />\r\n\r\n        <Button\r\n            android:id=\"@+id/go_to_auth\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"抖音授权\"\r\n            android:layout_marginTop=\"20dp\" />\r\n\r\n        <Button\r\n            android:id=\"@+id/get_ranking\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:text=\"查看榜单\" />\r\n\r\n        <Button\r\n            android:id=\"@+id/require_mobile\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"必选电话\"\r\n            android:layout_marginTop=\"20dp\" />\r\n        <Button\r\n            android:id=\"@+id/option_mobile\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"可选电话\"\r\n            android:layout_marginTop=\"20dp\" />\r\n\r\n        <Button\r\n            android:id=\"@+id/is_support_mix_share_button\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"是否支持混合分享\"/>\r\n\r\n        <Button\r\n            android:id=\"@+id/go_to_system_picture\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"@string/open_system_photo\"\r\n            android:layout_marginTop=\"20dp\" />\r\n\r\n        <Button\r\n            android:id=\"@+id/share_to_tiktok\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"@string/share_to_aweme\"\r\n            app:layout_constraintLeft_toLeftOf=\"parent\"\r\n            app:layout_constraintRight_toRightOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@id/go_to_system_picture\"\r\n            android:visibility=\"gone\"/>\r\n        <Button\r\n            android:id=\"@+id/share_to_contact\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"分享到联系人图片\" />\r\n        <Button\r\n            android:id=\"@+id/share_to_contact_html\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"分享到联系人html\"\r\n            />\r\n        <Button\r\n            android:id=\"@+id/open_record\"\r\n            android:text=\"测试打开拍摄页\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:layout_height=\"wrap_content\"/>\r\n\r\n        <Button\r\n            android:id=\"@+id/use_file_provider\"\r\n            android:text=\"使用FileProvider\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_marginTop=\"20dp\"\r\n            android:layout_height=\"wrap_content\"/>\r\n\r\n\r\n\r\n        <Button\r\n            android:id=\"@+id/share_to_douyin_with_shareid_no_callback\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"@string/share_to_aweme_with_shareid_no_callbacK\"\r\n            android:visibility=\"gone\"/>\r\n\r\n        <Button\r\n            android:id=\"@+id/microbutton\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:text=\"分享携带小程序\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:visibility=\"gone\"/>\r\n\r\n        <Button\r\n            android:id=\"@+id/share_to_douyin_with_shareid_callback\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"@string/share_to_aweme_with_shareid_callback\"\r\n            app:layout_constraintLeft_toLeftOf=\"parent\"\r\n            app:layout_constraintRight_toRightOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@id/share_to_douyin_with_shareid_no_callback\"\r\n            android:visibility=\"gone\"/>\r\n\r\n        <EditText\r\n            android:id=\"@+id/set_default_hashtag\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"@string/set_default_title\"\r\n            android:visibility=\"gone\"/>\r\n\r\n        <EditText\r\n            android:id=\"@+id/set_default_hashtag1\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"第二个默认话题\"\r\n            android:visibility=\"gone\"/>\r\n\r\n        <EditText\r\n            android:id=\"@+id/media_text\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"@string/media_path\"\r\n            android:textSize=\"16sp\"\r\n            app:layout_constraintLeft_toLeftOf=\"parent\"\r\n            app:layout_constraintRight_toRightOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@id/set_default_hashtag\"\r\n            android:visibility=\"gone\"/>\r\n\r\n\r\n        <Button\r\n            android:id=\"@+id/clear_media\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:text=\"@string/clear\"\r\n            android:layout_marginRight=\"20dp\"\r\n            app:layout_constraintRight_toRightOf=\"parent\"\r\n            app:layout_constraintTop_toBottomOf=\"@id/media_text\"\r\n            android:visibility=\"gone\"/>\r\n\r\n    </LinearLayout>\r\n\r\n</ScrollView>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_main.xml b/app/src/main/res/layout/activity_main.xml
--- a/app/src/main/res/layout/activity_main.xml	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/app/src/main/res/layout/activity_main.xml	(date 1624607919000)
@@ -1,161 +1,14 @@
 <?xml version="1.0" encoding="utf-8"?>
-<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
-    xmlns:app="http://schemas.android.com/apk/res-auto"
+<RelativeLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
     xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
-    tools:context=".MainActivity">
-    <LinearLayout
+    tools:context=".activity.MainActivity">
+
+    <androidx.viewpager.widget.ViewPager
+        android:id="@+id/viewPager"
         android:layout_width="match_parent"
-        android:layout_height="match_parent"
-        android:orientation="vertical">
-
-        <TextView
-            android:id="@+id/title"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="授权"
-            android:layout_marginTop="100dp"
-            app:layout_constraintLeft_toLeftOf="parent"
-            app:layout_constraintRight_toRightOf="parent"
-            app:layout_constraintTop_toTopOf="parent" />
-
-        <Button
-            android:id="@+id/go_to_auth"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="抖音授权"
-            android:layout_marginTop="20dp" />
-
-        <Button
-            android:id="@+id/get_ranking"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:layout_marginTop="20dp"
-            android:text="查看榜单" />
-
-        <Button
-            android:id="@+id/require_mobile"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="必选电话"
-            android:layout_marginTop="20dp" />
-        <Button
-            android:id="@+id/option_mobile"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="可选电话"
-            android:layout_marginTop="20dp" />
-
-        <Button
-            android:id="@+id/is_support_mix_share_button"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="是否支持混合分享"/>
-
-        <Button
-            android:id="@+id/go_to_system_picture"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="@string/open_system_photo"
-            android:layout_marginTop="20dp" />
-
-        <Button
-            android:id="@+id/share_to_tiktok"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="@string/share_to_aweme"
-            app:layout_constraintLeft_toLeftOf="parent"
-            app:layout_constraintRight_toRightOf="parent"
-            app:layout_constraintTop_toBottomOf="@id/go_to_system_picture"
-            android:visibility="gone"/>
-        <Button
-            android:id="@+id/share_to_contact"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="分享到联系人图片" />
-        <Button
-            android:id="@+id/share_to_contact_html"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="分享到联系人html"
-            />
-        <Button
-            android:id="@+id/open_record"
-            android:text="测试打开拍摄页"
-            android:layout_width="wrap_content"
-            android:layout_marginTop="20dp"
-            android:layout_height="wrap_content"/>
-
-        <Button
-            android:id="@+id/use_file_provider"
-            android:text="使用FileProvider"
-            android:layout_width="wrap_content"
-            android:layout_marginTop="20dp"
-            android:layout_height="wrap_content"/>
-
-
-
-        <Button
-            android:id="@+id/share_to_douyin_with_shareid_no_callback"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="@string/share_to_aweme_with_shareid_no_callbacK"
-            android:visibility="gone"/>
-
-        <Button
-            android:id="@+id/microbutton"
-            android:layout_width="wrap_content"
-            android:text="分享携带小程序"
-            android:layout_height="wrap_content"
-            android:visibility="gone"/>
-
-        <Button
-            android:id="@+id/share_to_douyin_with_shareid_callback"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="@string/share_to_aweme_with_shareid_callback"
-            app:layout_constraintLeft_toLeftOf="parent"
-            app:layout_constraintRight_toRightOf="parent"
-            app:layout_constraintTop_toBottomOf="@id/share_to_douyin_with_shareid_no_callback"
-            android:visibility="gone"/>
-
-        <EditText
-            android:id="@+id/set_default_hashtag"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="@string/set_default_title"
-            android:visibility="gone"/>
-
-        <EditText
-            android:id="@+id/set_default_hashtag1"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="第二个默认话题"
-            android:visibility="gone"/>
-
-        <EditText
-            android:id="@+id/media_text"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="@string/media_path"
-            android:textSize="16sp"
-            app:layout_constraintLeft_toLeftOf="parent"
-            app:layout_constraintRight_toRightOf="parent"
-            app:layout_constraintTop_toBottomOf="@id/set_default_hashtag"
-            android:visibility="gone"/>
-
-
-        <Button
-            android:id="@+id/clear_media"
-            android:layout_width="wrap_content"
-            android:layout_height="wrap_content"
-            android:text="@string/clear"
-            android:layout_marginRight="20dp"
-            app:layout_constraintRight_toRightOf="parent"
-            app:layout_constraintTop_toBottomOf="@id/media_text"
-            android:visibility="gone"/>
-
-    </LinearLayout>
+        android:layout_height="match_parent"/>
 
-</ScrollView>
\ No newline at end of file
+</RelativeLayout>
\ No newline at end of file
Index: app/src/main/res/layout/fragment_current_location.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_current_location.xml b/app/src/main/res/layout/fragment_current_location.xml
new file mode 100644
--- /dev/null	(date 1661105422877)
+++ b/app/src/main/res/layout/fragment_current_location.xml	(date 1661105422877)
@@ -0,0 +1,22 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    tools:context=".ui.CurrentLocationFragment"
+    android:background="@color/color_bg_theme">
+
+    <androidx.swiperefreshlayout.widget.SwipeRefreshLayout
+        android:id="@+id/refreshLayout"
+        android:layout_width="match_parent"
+        android:layout_height="match_parent">
+
+        <androidx.recyclerview.widget.RecyclerView
+            android:id="@+id/recyclerView"
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            android:padding="2dp"/>
+    </androidx.swiperefreshlayout.widget.SwipeRefreshLayout>
+
+</RelativeLayout>
\ No newline at end of file
Index: app/src/main/res/layout/fragment_personal_home.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_personal_home.xml b/app/src/main/res/layout/fragment_personal_home.xml
new file mode 100644
--- /dev/null	(date 1661105669997)
+++ b/app/src/main/res/layout/fragment_personal_home.xml	(date 1661105669997)
@@ -0,0 +1,124 @@
+<?xml version="1.0" encoding="utf-8"?>
+<RelativeLayout
+    xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    tools:context=".ui.PersonalHomeFragment"
+    android:background="@color/color_bg_theme">
+
+    <androidx.coordinatorlayout.widget.CoordinatorLayout
+        android:layout_width="match_parent"
+        android:layout_height="match_parent">
+
+        <com.google.android.material.appbar.AppBarLayout
+            android:id="@+id/appbarlayout"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            android:background="@color/transparent"
+            app:layout_behavior=".utils.AppbarZoomBehavior">
+
+            <com.google.android.material.appbar.CollapsingToolbarLayout
+                android:layout_width="match_parent"
+                android:layout_height="wrap_content"
+                android:background="@color/transparent"
+                app:contentScrim="@color/color_bg_theme"
+                app:layout_scrollFlags="scroll|exitUntilCollapsed">
+
+                <RelativeLayout
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content">
+
+                    <ImageView
+                        android:id="@+id/ivBg"
+                        android:layout_width="match_parent"
+                        android:layout_height="wrap_content"
+                        android:scaleType="centerCrop"/>
+
+                    <include layout="@layout/personal_home_header"/>
+                </RelativeLayout>
+
+                <androidx.appcompat.widget.Toolbar
+                    android:id="@+id/toolbar"
+                    android:layout_width="match_parent"
+                    android:layout_height="48dp"
+                    app:layout_collapseMode="pin">
+
+                    <RelativeLayout
+                        android:layout_width="match_parent"
+                        android:layout_height="match_parent">
+
+                        <ImageView
+                            android:id="@+id/ivReturn"
+                            android:layout_width="32dp"
+                            android:layout_height="32dp"
+                            android:src="@mipmap/return_white"
+                            android:background="@drawable/shape_circle_halfwhite"
+                            android:padding="8dp"
+                            android:layout_marginLeft="10dp"
+                            android:layout_centerVertical="true"/>
+
+                        <TextView
+                            android:id="@+id/tvTitle"
+                            android:layout_width="wrap_content"
+                            android:layout_height="wrap_content"
+                            tools:text="小橘子衣橱"
+                            android:textColor="@color/white"
+                            android:textSize="18sp"
+                            android:visibility="gone"
+                            android:layout_centerInParent="true"/>
+
+                        <TextView
+                            android:id="@+id/tvFocus"
+                            android:layout_width="60dp"
+                            android:layout_height="30dp"
+                            android:background="@drawable/shape_round_red"
+                            android:text="关注"
+                            android:textColor="@color/white"
+                            android:textSize="14sp"
+                            android:layout_centerVertical="true"
+                            android:layout_toLeftOf="@id/iv_more"
+                            android:layout_marginRight="10dp"
+                            android:visibility="gone"
+                            android:gravity="center"/>
+
+                        <com.qxy.siegelions.view.IconFontTextView
+                            android:id="@+id/iv_more"
+                            android:layout_width="32dp"
+                            android:layout_height="32dp"
+                            android:text="@string/icon_more"
+                            android:textSize="16sp"
+                            android:textColor="@color/white"
+                            android:layout_alignParentRight="true"
+                            android:gravity="center"
+                            android:layout_marginRight="10dp"
+                            android:layout_centerVertical="true"
+                            android:background="@drawable/shape_circle_halfwhite"/>
+
+                    </RelativeLayout>
+                </androidx.appcompat.widget.Toolbar>
+
+            </com.google.android.material.appbar.CollapsingToolbarLayout>
+
+            <com.androidkun.xtablayout.XTabLayout
+                android:id="@+id/tabLayout"
+                android:layout_width="match_parent"
+                android:layout_height="45dp"
+                app:xTabIndicatorColor="#FF9F00"
+                app:xTabSelectedTextColor="@color/white"
+                app:xTabTextColor="#CCCCCC"
+                app:xTabIndicatorWidth="90dp"
+                app:xTabTextBold="true"
+                app:xTabTextSize="15sp"/>
+        </com.google.android.material.appbar.AppBarLayout>
+
+        <androidx.viewpager.widget.ViewPager
+            android:id="@+id/viewPager"
+            android:layout_width="match_parent"
+            android:layout_height="wrap_content"
+            app:layout_behavior="@string/appbar_scrolling_view_behavior"/>
+
+    </androidx.coordinatorlayout.widget.CoordinatorLayout>
+
+</RelativeLayout>
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/SplashActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/SplashActivity.kt b/app/src/main/java/com/qxy/siegelions/SplashActivity.kt
new file mode 100644
--- /dev/null	(date 1661103872645)
+++ b/app/src/main/java/com/qxy/siegelions/SplashActivity.kt	(date 1661103872645)
@@ -0,0 +1,29 @@
+package com.qxy.siegelions.activity
+
+import android.content.Intent
+import android.os.CountDownTimer
+import com.qxy.siegelions.R
+import com.qxy.siegelions.base.BaseActivity
+
+/**
+ * create by libo
+ * create on 2020/5/19
+ * description App启动页面
+ */
+class SplashActivity : BaseActivity() {
+
+    override fun setLayoutId(): Int {
+        return R.layout.activity_splash
+    }
+
+    override fun init() {
+        setFullScreen()
+        object : CountDownTimer(500, 500) {
+            override fun onTick(millisUntilFinished: Long) {}
+            override fun onFinish() {
+                startActivity(Intent(this@SplashActivity, MainActivity::class.java))
+                finish()
+            }
+        }.start()
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/ShowImageActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/ShowImageActivity.kt b/app/src/main/java/com/qxy/siegelions/ShowImageActivity.kt
new file mode 100644
--- /dev/null	(date 1661103872476)
+++ b/app/src/main/java/com/qxy/siegelions/ShowImageActivity.kt	(date 1661103872476)
@@ -0,0 +1,19 @@
+package com.qxy.siegelions.activity
+
+import android.view.View
+import com.qxy.siegelions.R
+import com.qxy.siegelions.base.BaseActivity
+import kotlinx.android.synthetic.main.activity_show_image.*
+
+class ShowImageActivity : BaseActivity() {
+
+    override fun setLayoutId(): Int {
+        return R.layout.activity_show_image
+    }
+
+    override fun init() {
+        ivHead!!.setOnClickListener { v: View? -> finish() }
+        val headRes = intent.getIntExtra("res", 0)
+        ivHead!!.setImageResource(headRes)
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/PlayListActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/PlayListActivity.kt b/app/src/main/java/com/qxy/siegelions/PlayListActivity.kt
new file mode 100644
--- /dev/null	(date 1661103872381)
+++ b/app/src/main/java/com/qxy/siegelions/PlayListActivity.kt	(date 1661103872381)
@@ -0,0 +1,26 @@
+package com.qxy.siegelions.activity
+
+import com.qxy.siegelions.R
+import com.qxy.siegelions.base.BaseActivity
+import com.qxy.siegelions.fragment.RecommendFragment
+
+/**
+ * create by libo
+ * create on 2020-05-24
+ * description 视频全屏播放页
+ */
+class PlayListActivity : BaseActivity() {
+
+    override fun setLayoutId(): Int {
+        return R.layout.activity_play_list
+    }
+
+    override fun init() {
+        supportFragmentManager.beginTransaction().add(R.id.framelayout, RecommendFragment()).commit()
+    }
+
+    companion object {
+        @JvmField
+        var initPos = 0
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/FocusActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/FocusActivity.kt b/app/src/main/java/com/qxy/siegelions/FocusActivity.kt
new file mode 100644
--- /dev/null	(date 1661108241957)
+++ b/app/src/main/java/com/qxy/siegelions/FocusActivity.kt	(date 1661108241957)
@@ -0,0 +1,34 @@
+package com.qxy.siegelions
+
+import androidx.fragment.app.Fragment
+import com.qxy.siegelions.base.BaseActivity
+import com.qxy.siegelions.base.CommPagerAdapter
+import com.qxy.siegelions.ui.FansFragment
+import kotlinx.android.synthetic.main.activity_focus.*
+import java.util.*
+
+/**
+ * create by libo
+ * create on 2020-05-14
+ * description 粉丝关注人页面
+ */
+class FocusActivity : BaseActivity() {
+
+    private val fragments = ArrayList<Fragment>()
+    private var pagerAdapter: CommPagerAdapter? = null
+    private val titles = arrayOf("关注 128", "粉丝 128", "推荐关注")
+
+    override fun setLayoutId(): Int {
+        return R.layout.activity_focus
+    }
+
+    override fun init() {
+        for (i in titles.indices) {
+            fragments.add(FansFragment())
+            tablayout!!.addTab(tablayout!!.newTab().setText(titles[i]))
+        }
+        pagerAdapter = CommPagerAdapter(supportFragmentManager, fragments, titles)
+        viewpager!!.adapter = pagerAdapter
+        tablayout!!.setupWithViewPager(viewpager)
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/MainActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/MainActivity.kt b/app/src/main/java/com/qxy/siegelions/MainActivity.kt
new file mode 100644
--- /dev/null	(date 1661105669990)
+++ b/app/src/main/java/com/qxy/siegelions/MainActivity.kt	(date 1661105669990)
@@ -0,0 +1,91 @@
+package com.qxy.siegelions.activity
+
+import android.widget.Toast
+import androidx.fragment.app.Fragment
+import androidx.viewpager.widget.ViewPager.OnPageChangeListener
+import com.qxy.siegelions.R
+import com.qxy.siegelions.base.BaseActivity
+import com.qxy.siegelions.base.CommPagerAdapter
+import com.qxy.siegelions.bean.MainPageChangeEvent
+import com.qxy.siegelions.bean.PauseVideoEvent
+import com.qxy.siegelions.fragment.MainFragment
+import com.qxy.siegelions.ui.PersonalHomeFragment
+import com.qxy.siegelions.utils.RxBus
+import kotlinx.android.synthetic.main.activity_main.*
+import rx.functions.Action1
+import java.util.*
+
+/**
+ * create by libo
+ * create on 2020/5/19
+ * description 主页面
+ */
+class MainActivity : BaseActivity() {
+    private var pagerAdapter: CommPagerAdapter? = null
+    private val fragments = ArrayList<Fragment>()
+    private val mainFragment = MainFragment()
+    private val personalHomeFragment = PersonalHomeFragment()
+
+    /** 上次点击返回键时间  */
+    private var lastTime: Long = 0
+
+    /** 连续按返回键退出时间  */
+    private val EXIT_TIME = 2000
+    override fun setLayoutId(): Int {
+        return R.layout.activity_main
+    }
+
+    override fun init() {
+
+        try {
+            Thread.sleep(2000)
+        } catch(e: Exception) {
+            e.printStackTrace()
+        }
+
+
+        fragments.add(mainFragment)
+        fragments.add(personalHomeFragment)
+        pagerAdapter = CommPagerAdapter(supportFragmentManager, fragments, arrayOf("", ""))
+        viewPager!!.adapter = pagerAdapter
+
+        //点击头像切换页面
+        RxBus.getDefault().toObservable(MainPageChangeEvent::class.java)
+                .subscribe(Action1 { event: MainPageChangeEvent ->
+                    if (viewPager != null) {
+                        viewPager!!.currentItem = event.page
+                    }
+                } as Action1<MainPageChangeEvent>)
+        viewPager!!.addOnPageChangeListener(object : OnPageChangeListener {
+            override fun onPageScrolled(position: Int, positionOffset: Float, positionOffsetPixels: Int) {}
+            override fun onPageSelected(position: Int) {
+                curMainPage = position
+                if (position == 0) {
+                    RxBus.getDefault().post(PauseVideoEvent(true))
+                } else if (position == 1) {
+                    RxBus.getDefault().post(PauseVideoEvent(false))
+                }
+            }
+
+            override fun onPageScrollStateChanged(state: Int) {}
+        })
+    }
+
+    override fun onBackPressed() {
+        //双击返回退出App
+        if (System.currentTimeMillis() - lastTime > EXIT_TIME) {
+            if (viewPager!!.currentItem == 1) {
+                viewPager!!.currentItem = 0
+            } else {
+                Toast.makeText(applicationContext, "再按一次退出", Toast.LENGTH_SHORT).show()
+                lastTime = System.currentTimeMillis()
+            }
+        } else {
+            super.onBackPressed()
+        }
+    }
+
+    companion object {
+        var curMainPage = 0
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/douyinapi/DouYinEntryActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.qxy.siegelions.douyinapi;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.widget.Toast;\r\n\r\nimport com.bytedance.sdk.open.aweme.CommonConstants;\r\nimport com.bytedance.sdk.open.aweme.authorize.model.Authorization;\r\nimport com.bytedance.sdk.open.aweme.common.handler.IApiEventHandler;\r\nimport com.bytedance.sdk.open.aweme.common.model.BaseReq;\r\nimport com.bytedance.sdk.open.aweme.common.model.BaseResp;\r\nimport com.bytedance.sdk.open.aweme.share.Share;\r\nimport com.bytedance.sdk.open.douyin.DouYinOpenApiFactory;\r\nimport com.bytedance.sdk.open.douyin.api.DouYinOpenApi;\r\nimport com.qxy.siegelions.MainActivity;\r\n\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.IOException;\r\n\r\nimport okhttp3.FormBody;\r\nimport okhttp3.OkHttpClient;\r\nimport okhttp3.Request;\r\nimport okhttp3.RequestBody;\r\nimport okhttp3.Response;\r\n\r\npublic class DouYinEntryActivity extends Activity implements IApiEventHandler {\r\n    DouYinOpenApi douYinOpenApi;\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        douYinOpenApi = DouYinOpenApiFactory.create(this);\r\n        douYinOpenApi.handleIntent(getIntent(), this);\r\n    }\r\n\r\n    @Override\r\n    public void onReq(BaseReq req) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onResp(BaseResp resp) {\r\n        if (resp.getType() == CommonConstants.ModeType.SHARE_CONTENT_TO_TT_RESP) {\r\n            Share.Response response = (Share.Response) resp;\r\n            Toast.makeText(this, \" code：\" + response.errorCode + \" 文案：\" + response.errorMsg, Toast.LENGTH_SHORT).show();\r\n            Intent intent = new Intent(this, MainActivity.class);\r\n            startActivity(intent);\r\n        } else if (resp.getType() == CommonConstants.ModeType.SEND_AUTH_RESPONSE) {\r\n            Authorization.Response response = (Authorization.Response) resp;\r\n            Intent intent = null;\r\n            if (resp.isSuccess()) {\r\n\r\n                Toast.makeText(this, \"授权成功，获得权限：\" + response.grantedPermissions + response.authCode,\r\n                        Toast.LENGTH_LONG).show();\r\n\r\n                new Thread() {\r\n                    @Override\r\n                    public void run() {\r\n                        networkRequest(response.authCode);\r\n                    }\r\n                }.start();\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\n    private void networkRequest(String authCode) {\r\n        try {\r\n            OkHttpClient client = new OkHttpClient();//创建OkHttpClient对象\r\n            Request request = new Request.Builder()\r\n                    .url(\"https://open.douyin.com/oauth/access_token/?client_key=awobitbo8w4mf83r&\" +\r\n                            \"client_secret=9108c9df11a7c5649c28e3ed426a0363&code=\" + authCode + \"&grant_type=authorization_code\")\r\n                    .build();//创建Request 对象\r\n            Response response;\r\n            response = client.newCall(request).execute();//得到Response 对象\r\n            if (response.isSuccessful()) {\r\n                Log.d(\"siegeLions\", \"response.code()==\" + response.code());\r\n                Log.d(\"siegeLions\", \"response.message()==\" + response.message());\r\n                assert response.body() != null;\r\n                String accessJson = response.body().string();\r\n                Log.d(\"siegeLions\", \"res==\" + accessJson);\r\n                //此时的代码执行在子线程，修改UI的操作请使用handler跳转到UI线程。\r\n                getUserInfo(accessJson);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void getUserInfo(String json) {\r\n        try {\r\n            JSONObject jsonObject = new JSONObject(json);\r\n            String accessToken = jsonObject.getJSONObject(\"data\").getString(\"access_token\");\r\n            String openId = jsonObject.getJSONObject(\"data\").getString(\"open_id\");\r\n\r\n            OkHttpClient client = new OkHttpClient();//创建OkHttpClient对象\r\n            RequestBody formBody = new FormBody.Builder()\r\n                    .add(\"access_token\", accessToken)\r\n                    .add(\"open_id\", openId)\r\n                    .build();\r\n\r\n            Request request = new Request.Builder()\r\n                    .url(\"https://open.douyin.com/oauth/userinfo/\")\r\n                    .header(\"Content-Type\", \"application/json\")\r\n                    .header(\"access-token\", accessToken)\r\n                    .post(formBody)\r\n                    .build();//创建Request 对象\r\n\r\n            Response response;\r\n            response = client.newCall(request).execute();//得到Response 对象\r\n            if (response.isSuccessful()) {\r\n                Log.d(\"siegeLions\", \"response.code()==\" + response.code());\r\n                Log.d(\"siegeLions\", \"response.message()==\" + response.message());\r\n                assert response.body() != null;\r\n                String userInfoJson = response.body().string();\r\n                Log.d(\"siegeLions\", \"res==\" + userInfoJson);\r\n            }\r\n        } catch (IOException | JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onErrorIntent(Intent intent) {\r\n        // 错误数据\r\n        Toast.makeText(this, \"Intent出错\", Toast.LENGTH_LONG).show();\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/douyinapi/DouYinEntryActivity.java b/app/src/main/java/com/qxy/siegelions/douyinapi/DouYinEntryActivity.java
--- a/app/src/main/java/com/qxy/siegelions/douyinapi/DouYinEntryActivity.java	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/app/src/main/java/com/qxy/siegelions/douyinapi/DouYinEntryActivity.java	(date 1661103318579)
@@ -14,7 +14,7 @@
 import com.bytedance.sdk.open.aweme.share.Share;
 import com.bytedance.sdk.open.douyin.DouYinOpenApiFactory;
 import com.bytedance.sdk.open.douyin.api.DouYinOpenApi;
-import com.qxy.siegelions.MainActivity;
+import com.qxy.siegelions.TiktokActivity;
 
 import org.json.JSONException;
 import org.json.JSONObject;
@@ -47,7 +47,7 @@
         if (resp.getType() == CommonConstants.ModeType.SHARE_CONTENT_TO_TT_RESP) {
             Share.Response response = (Share.Response) resp;
             Toast.makeText(this, " code：" + response.errorCode + " 文案：" + response.errorMsg, Toast.LENGTH_SHORT).show();
-            Intent intent = new Intent(this, MainActivity.class);
+            Intent intent = new Intent(this, TiktokActivity.class);
             startActivity(intent);
         } else if (resp.getType() == CommonConstants.ModeType.SEND_AUTH_RESPONSE) {
             Authorization.Response response = (Authorization.Response) resp;
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    package=\"com.qxy.siegelions\">\r\n\r\n    <uses-permission android:name=\"android.permission.INTERNET\" />\r\n    <uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" />\r\n    <uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" />\r\n    <uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" />\r\n\r\n    <queries>\r\n\r\n        <!-- 允许查询抖音和抖音极速版的信息 -->\r\n        <package android:name=\"com.ss.android.ugc.aweme\" />\r\n        <package android:name=\"com.ss.android.ugc.aweme.lite\" />\r\n    </queries>\r\n\r\n    <application\r\n        android:name=\".CustomApplication\"\r\n        android:allowBackup=\"true\"\r\n        android:icon=\"@mipmap/ic_launcher\"\r\n        android:label=\"@string/app_name\"\r\n        android:networkSecurityConfig=\"@xml/network_security_config\"\r\n        android:requestLegacyExternalStorage=\"true\"\r\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\r\n        android:supportsRtl=\"true\"\r\n        android:theme=\"@style/AppTheme\">\r\n        <activity\r\n            android:name=\".MainActivity\"\r\n            android:exported=\"true\">\r\n            <intent-filter>\r\n                <action android:name=\"android.intent.action.MAIN\" />\r\n\r\n                <category android:name=\"android.intent.category.LAUNCHER\" />\r\n            </intent-filter>\r\n        </activity>\r\n        <activity\r\n            android:name=\".MenuActivity\"\r\n            android:exported=\"false\"\r\n            android:label=\"@string/title_activity_menu\" />\r\n        <activity\r\n            android:name=\".douyinapi.DouYinEntryActivity\"\r\n            android:exported=\"true\"\r\n            android:usesCleartextTraffic=\"true\"\r\n            tools:targetApi=\"m\" />\r\n\r\n        <receiver\r\n            android:name=\".StayInDyReceiver\"\r\n            android:exported=\"true\">\r\n            <intent-filter>\r\n                <action android:name=\"com.aweme.opensdk.action.stay.in.dy\" />\r\n                <action android:name=\"com.aweme.opensdk.action.stay.in.dy.im\" />\r\n            </intent-filter>\r\n        </receiver>\r\n\r\n        <provider\r\n            android:name=\"androidx.core.content.FileProvider\"\r\n            android:authorities=\"com.qxy.siegelions.fileProvider\"\r\n            android:exported=\"false\"\r\n            android:grantUriPermissions=\"true\">\r\n            <meta-data\r\n                android:name=\"android.support.FILE_PROVIDER_PATHS\"\r\n                android:resource=\"@xml/provider_paths\" />\r\n        </provider>\r\n    </application>\r\n\r\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
--- a/app/src/main/AndroidManifest.xml	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/app/src/main/AndroidManifest.xml	(date 1661110207148)
@@ -26,12 +26,16 @@
         android:supportsRtl="true"
         android:theme="@style/AppTheme">
         <activity
-            android:name=".MainActivity"
+            android:name=".activity.SplashActivity"
+            android:screenOrientation="fullSensor"
             android:exported="true">
             <intent-filter>
                 <action android:name="android.intent.action.MAIN" />
 
                 <category android:name="android.intent.category.LAUNCHER" />
+
+                <action android:name="android.intent.action.VIEW" />
+
             </intent-filter>
         </activity>
         <activity
Index: app/src/main/java/com/qxy/siegelions/util/CommonUtil.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/util/CommonUtil.kt b/app/src/main/java/com/qxy/siegelions/utils/CommonUtil.kt
rename from app/src/main/java/com/qxy/siegelions/util/CommonUtil.kt
rename to app/src/main/java/com/qxy/siegelions/utils/CommonUtil.kt
--- a/app/src/main/java/com/qxy/siegelions/util/CommonUtil.kt	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/app/src/main/java/com/qxy/siegelions/utils/CommonUtil.kt	(date 1661103406290)
@@ -1,4 +1,4 @@
-package com.qxy.siegelions.util
+package com.qxy.siegelions.utils
 
 import android.content.Context
 
Index: app/src/main/res/anim/dialog_exit.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/anim/dialog_exit.xml b/app/src/main/res/anim/dialog_exit.xml
new file mode 100644
--- /dev/null	(date 1624607919000)
+++ b/app/src/main/res/anim/dialog_exit.xml	(date 1624607919000)
@@ -0,0 +1,7 @@
+<?xml version="1.0" encoding="utf-8"?>
+<set xmlns:android="http://schemas.android.com/apk/res/android">
+    <translate
+        android:duration="250"
+        android:fromYDelta="0"
+        android:toYDelta="100%p" />
+</set>
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/MainActivity.java b/app/src/main/java/com/qxy/siegelions/TiktokActivity.java
rename from app/src/main/java/com/qxy/siegelions/MainActivity.java
rename to app/src/main/java/com/qxy/siegelions/TiktokActivity.java
--- a/app/src/main/java/com/qxy/siegelions/MainActivity.java	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/app/src/main/java/com/qxy/siegelions/TiktokActivity.java	(date 1661103496690)
@@ -7,9 +7,7 @@
 import android.net.Uri;
 import android.os.Build;
 import android.os.Bundle;
-import android.os.Looper;
 import android.text.TextUtils;
-import android.util.Log;
 import android.view.View;
 import android.view.WindowManager;
 import android.widget.Button;
@@ -41,7 +39,7 @@
 import java.nio.channels.FileChannel;
 import java.util.ArrayList;
 
-public class MainActivity extends AppCompatActivity {
+public class TiktokActivity extends AppCompatActivity {
     public static final String CODE_KEY = "code";
     public static Boolean isBoe = false;
 
@@ -83,7 +81,7 @@
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
-        setContentView(R.layout.activity_main);
+        setContentView(R.layout.activity_tiktok);
 
 
         if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT) {
@@ -103,7 +101,7 @@
         findViewById(R.id.get_ranking).setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View v) {
-                Intent intent = new Intent(MainActivity.this , MenuActivity.class);
+                Intent intent = new Intent(TiktokActivity.this , MenuActivity.class);
                 startActivity(intent);
             }
         });
@@ -111,7 +109,7 @@
         findViewById(R.id.go_to_system_picture).setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View v) {
-                ActivityCompat.requestPermissions(MainActivity.this, mPermissionList, 100);
+                ActivityCompat.requestPermissions(TiktokActivity.this, mPermissionList, 100);
             }
         });
         findViewById(R.id.require_mobile).setOnClickListener(new View.OnClickListener() {
@@ -131,7 +129,7 @@
                     request.mState = "state";
                     douYinOpenApi.openRecordPage(request);
                 } else {
-                    Toast.makeText(MainActivity.this, "抖音版本不支持", Toast.LENGTH_LONG).show();
+                    Toast.makeText(TiktokActivity.this, "抖音版本不支持", Toast.LENGTH_LONG).show();
                 }
 
             }
@@ -162,7 +160,7 @@
                 if (douYinOpenApi.isAppSupportShareToContacts()) {
                     shareToContact();
                 } else {
-                    Toast.makeText(MainActivity.this, "当前抖音版本不支持", Toast.LENGTH_LONG).show();
+                    Toast.makeText(TiktokActivity.this, "当前抖音版本不支持", Toast.LENGTH_LONG).show();
                 }
             }
         });
@@ -173,7 +171,7 @@
                 if (douYinOpenApi.isAppSupportShareToContacts()) {
                     shareToContactHtml();
                 } else {
-                    Toast.makeText(MainActivity.this, "当前抖音版本不支持", Toast.LENGTH_LONG).show();
+                    Toast.makeText(TiktokActivity.this, "当前抖音版本不支持", Toast.LENGTH_LONG).show();
                 }
             }
         });
Index: app/src/main/res/anim/dialog_enter.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/anim/dialog_enter.xml b/app/src/main/res/anim/dialog_enter.xml
new file mode 100644
--- /dev/null	(date 1624607919000)
+++ b/app/src/main/res/anim/dialog_enter.xml	(date 1624607919000)
@@ -0,0 +1,8 @@
+<?xml version="1.0" encoding="utf-8"?>
+<set xmlns:android="http://schemas.android.com/apk/res/android">
+
+    <translate
+        android:fromYDelta="100%p"
+        android:toYDelta="0"
+        android:duration="250" />
+</set>
\ No newline at end of file
Index: app/src/main/res/values/attrs.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/attrs.xml b/app/src/main/res/values/attrs.xml
new file mode 100644
--- /dev/null	(date 1624607919000)
+++ b/app/src/main/res/values/attrs.xml	(date 1624607919000)
@@ -0,0 +1,23 @@
+<?xml version="1.0" encoding="utf-8"?>
+<resources>
+    <!--圆角或者圆形图片组件-->
+    <declare-styleable name="CircleImageView">
+        <attr name="ease_border_color" format="color" />
+        <attr name="ease_border_width" format="dimension" />
+        <attr name="ease_press_alpha" format="integer" />
+        <attr name="ease_press_color" format="color" />
+        <attr name="ease_radius" format="dimension" />
+        <attr name="es_shape_type" format="enum">
+            <enum name="none" value="0" />
+            <enum name="round" value="1" />
+            <enum name="rectangle" value="2" />
+        </attr>
+    </declare-styleable>
+
+    <declare-styleable name="AutoLinkTextView">
+        <!-- 链接高亮颜色 -->
+        <attr name="highlight_textcolor" format="color" />
+        <!-- 默认文字颜色 -->
+        <attr name="default_textcolor" format="color" />
+    </declare-styleable>
+</resources>
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/util/NetCheckUtil.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/util/NetCheckUtil.java b/app/src/main/java/com/qxy/siegelions/utils/NetCheckUtil.java
rename from app/src/main/java/com/qxy/siegelions/util/NetCheckUtil.java
rename to app/src/main/java/com/qxy/siegelions/utils/NetCheckUtil.java
--- a/app/src/main/java/com/qxy/siegelions/util/NetCheckUtil.java	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/app/src/main/java/com/qxy/siegelions/utils/NetCheckUtil.java	(date 1661103406324)
@@ -1,4 +1,4 @@
-package com.qxy.siegelions.util;
+package com.qxy.siegelions.utils;
 
 import android.content.Context;
 import android.net.ConnectivityManager;
Index: app/src/main/java/com/qxy/siegelions/base/BaseRvAdapter.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/base/BaseRvAdapter.kt b/app/src/main/java/com/qxy/siegelions/base/BaseRvAdapter.kt
new file mode 100644
--- /dev/null	(date 1661103318568)
+++ b/app/src/main/java/com/qxy/siegelions/base/BaseRvAdapter.kt	(date 1661103318568)
@@ -0,0 +1,56 @@
+package com.qxy.siegelions.base
+
+import android.content.Context
+import androidx.recyclerview.widget.RecyclerView
+
+/**
+ * create by libo
+ * create on 2018/11/15
+ * description RecyclerAdapter基类
+ * tip多套布局T传Object类型，其他直接传具体类型
+ */
+abstract class BaseRvAdapter<T, VH : BaseRvViewHolder?>(val context: Context, protected var mDatas: MutableList<T>) : RecyclerView.Adapter<VH>() {
+
+    override fun onBindViewHolder(holder: VH, position: Int) {
+        onBindData(holder, mDatas!![position], position)
+    }
+
+    override fun getItemCount(): Int {
+        return if (mDatas == null) 0 else mDatas.size
+    }
+
+    protected abstract fun onBindData(holder: VH, data: T, position: Int)
+
+    fun addData(data: T) {
+        mDatas!!.add(data)
+        notifyDataSetChanged()
+    }
+
+    fun addDataToPostion(data: T, position: Int) {
+        mDatas!!.add(position, data)
+        notifyItemInserted(position)
+    }
+
+    fun addDatas(datas: List<T>) {
+        val oldCount = mDatas!!.size
+        mDatas!!.addAll(datas)
+        notifyItemRangeInserted(oldCount, datas.size)
+    }
+
+    fun removeDataFromPosition(position: Int) {
+        mDatas!!.removeAt(position)
+        notifyDataSetChanged()
+    }
+
+    fun onlyRemoveItem(position: Int) {
+        mDatas!!.removeAt(position)
+    }
+
+    val datas: List<T>?
+        get() = mDatas
+
+    fun clearDatas() {
+        mDatas!!.clear()
+        notifyDataSetChanged()
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/base/BaseFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/base/BaseFragment.kt b/app/src/main/java/com/qxy/siegelions/base/BaseFragment.kt
new file mode 100644
--- /dev/null	(date 1661103318611)
+++ b/app/src/main/java/com/qxy/siegelions/base/BaseFragment.kt	(date 1661103318611)
@@ -0,0 +1,32 @@
+package com.qxy.siegelions.base
+
+import android.os.Bundle
+import android.view.LayoutInflater
+import android.view.View
+import android.view.ViewGroup
+import androidx.fragment.app.Fragment
+import butterknife.ButterKnife
+
+/**
+ * create by libo
+ * create on 2020-05-19
+ * description
+ */
+abstract class BaseFragment : Fragment() {
+
+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,
+                              savedInstanceState: Bundle?): View? {
+        var rootView = inflater.inflate(setLayoutId(), container, false)
+        ButterKnife.bind(this, rootView)
+        return rootView
+    }
+
+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
+        super.onViewCreated(view, savedInstanceState)
+        init()
+    }
+
+    protected abstract fun setLayoutId(): Int
+
+    protected abstract fun init()
+}
\ No newline at end of file
Index: settings.gradle
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>pluginManagement {\r\n    repositories {\r\n        gradlePluginPortal()\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        maven { url 'https://artifact.bytedance.com/repository/AwemeOpenSDK' }\r\n    }\r\n}\r\nrootProject.name = \"Simplyfied Tik-Tok\"\r\ninclude ':app'\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/settings.gradle b/settings.gradle
--- a/settings.gradle	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/settings.gradle	(date 1661109254466)
@@ -3,6 +3,7 @@
         gradlePluginPortal()
         google()
         mavenCentral()
+        jcenter()
     }
 }
 dependencyResolutionManagement {
@@ -11,6 +12,7 @@
         google()
         mavenCentral()
         maven { url 'https://artifact.bytedance.com/repository/AwemeOpenSDK' }
+        jcenter()
     }
 }
 rootProject.name = "Simplyfied Tik-Tok"
Index: app/src/main/java/com/qxy/siegelions/base/BaseActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/base/BaseActivity.kt b/app/src/main/java/com/qxy/siegelions/base/BaseActivity.kt
new file mode 100644
--- /dev/null	(date 1661103318619)
+++ b/app/src/main/java/com/qxy/siegelions/base/BaseActivity.kt	(date 1661103318619)
@@ -0,0 +1,68 @@
+package com.qxy.siegelions.base
+
+import android.os.Bundle
+import android.view.WindowManager
+import androidx.appcompat.app.AppCompatActivity
+import butterknife.ButterKnife
+import butterknife.Unbinder
+import com.gyf.immersionbar.BarHide
+import com.gyf.immersionbar.ImmersionBar
+
+/**
+ * create by libo
+ * create on 2020-05-19
+ * description activity基类
+ */
+abstract class BaseActivity : AppCompatActivity() {
+    protected var unbinder: Unbinder? = null
+
+    override fun onCreate(savedInstanceState: Bundle?) {
+        super.onCreate(savedInstanceState)
+        setContentView(setLayoutId())
+        unbinder = ButterKnife.bind(this)
+        init()
+    }
+
+    protected abstract fun setLayoutId(): Int
+    protected abstract fun init()
+
+    /**
+     * 设置状态栏颜色
+     */
+    protected fun setSystemBarColor(color: Int) {
+        ImmersionBar.with(this).statusBarColor(color)
+    }
+
+    /**
+     * 去除状态栏
+     */
+    protected fun hideStatusBar() {
+        ImmersionBar.with(this).hideBar(BarHide.FLAG_HIDE_STATUS_BAR).init()
+    }
+
+    /**
+     * 保持不息屏
+     */
+    protected fun keepScreenOn() {
+        window.addFlags(WindowManager.LayoutParams.FLAG_KEEP_SCREEN_ON)
+    }
+
+    /**
+     * Activity退出动画
+     */
+    protected fun setExitAnimation(animId: Int) {
+        overridePendingTransition(0, animId)
+    }
+
+    /**
+     * 全屏
+     */
+    protected fun setFullScreen() {
+        ImmersionBar.with(this).init()
+    }
+
+    override fun onDestroy() {
+        super.onDestroy()
+        unbinder!!.unbind()
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/base/AppBlockCanaryContext.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/base/AppBlockCanaryContext.kt b/app/src/main/java/com/qxy/siegelions/base/AppBlockCanaryContext.kt
new file mode 100644
--- /dev/null	(date 1661103318654)
+++ b/app/src/main/java/com/qxy/siegelions/base/AppBlockCanaryContext.kt	(date 1661103318654)
@@ -0,0 +1,160 @@
+package com.qxy.siegelions.base
+
+import android.content.Context
+import com.github.moduth.blockcanary.BlockCanaryContext
+import com.github.moduth.blockcanary.internal.BlockInfo
+import java.io.File
+import java.util.*
+
+/**
+ * create by apple
+ * create on 2021/5/28
+ * description BlockCanary监测卡顿方案
+ */
+class AppBlockCanaryContext : BlockCanaryContext() {
+
+    /**
+     * Implement in your project.
+     *
+     * @return Qualifier which can specify this installation, like version + flavor.
+     */
+    override fun provideQualifier(): String? {
+        return "unknown"
+    }
+
+    /**
+     * Implement in your project.
+     *
+     * @return user id
+     */
+    override fun provideUid(): String? {
+        return "uid"
+    }
+
+    /**
+     * Network type
+     *
+     * @return [String] like 2G, 3G, 4G, wifi, etc.
+     */
+    override fun provideNetworkType(): String? {
+        return "unknown"
+    }
+
+    /**
+     * Config monitor duration, after this time BlockCanary will stop, use
+     * with `BlockCanary`'s isMonitorDurationEnd
+     *
+     * @return monitor last duration (in hour)
+     */
+    override fun provideMonitorDuration(): Int {
+        return -1
+    }
+
+    /**
+     * config block threshold (in millis), dispatch over this duration is regarded as a block. you may set it
+     * from performance of device.
+     *
+     * @return threshold in mills
+     */
+    override fun provideBlockThreshold(): Int {
+        return 1000
+    }
+
+    /**
+     * Thread stack dump interval, use when block happens, BlockCanary will dump on main thread
+     * stack according to current sample cycle.
+     *
+     *
+     * Because the implementation mechanism of Looper, real dump interval would be longer than
+     * the period specified here (especially when cpu is busier).
+     *
+     *
+     * @return dump interval (in millis)
+     */
+    override fun provideDumpInterval(): Int {
+        return provideBlockThreshold()
+    }
+
+    /**
+     * Path to save log, like "/blockcanary/", will save to sdcard if can.
+     *
+     * @return path of log files
+     */
+    override fun providePath(): String? {
+        return "/blockcanary/"
+    }
+
+    /**
+     * If need notification to notice block.
+     *
+     * @return true if need, else if not need.
+     */
+    override fun displayNotification(): Boolean {
+        return true
+    }
+
+    /**
+     * Implement in your project, bundle files into a zip file.
+     *
+     * @param src  files before compress
+     * @param dest files compressed
+     * @return true if compression is successful
+     */
+    override fun zip(src: Array<File?>?, dest: File?): Boolean {
+        return false
+    }
+
+    /**
+     * Implement in your project, bundled log files.
+     *
+     * @param zippedFile zipped file
+     */
+    override fun upload(zippedFile: File?) {
+        throw UnsupportedOperationException()
+    }
+
+
+    /**
+     * Packages that developer concern, by default it uses process name,
+     * put high priority one in pre-order.
+     *
+     * @return null if simply concern only package with process name.
+     */
+    override fun concernPackages(): List<String?>? {
+        return null
+    }
+
+    /**
+     * Filter stack without any in concern package, used with @{code concernPackages}.
+     *
+     * @return true if filter, false it not.
+     */
+    override fun filterNonConcernStack(): Boolean {
+        return false
+    }
+
+    /**
+     * Provide white list, entry in white list will not be shown in ui list.
+     *
+     * @return return null if you don't need white-list filter.
+     */
+    override fun provideWhiteList(): List<String?>? {
+        val whiteList: LinkedList<String?> = LinkedList()
+        whiteList.add("org.chromium")
+        return whiteList
+    }
+
+    /**
+     * Whether to delete files whose stack is in white list, used with white-list.
+     *
+     * @return true if delete, false it not.
+     */
+    override fun deleteFilesInWhiteList(): Boolean {
+        return true
+    }
+
+    /**
+     * Block interceptor, developer may provide their own actions.
+     */
+    override fun onBlock(context: Context?, blockInfo: BlockInfo?) {}
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/base/CommPagerAdapter.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/base/CommPagerAdapter.kt b/app/src/main/java/com/qxy/siegelions/base/CommPagerAdapter.kt
new file mode 100644
--- /dev/null	(date 1661103318683)
+++ b/app/src/main/java/com/qxy/siegelions/base/CommPagerAdapter.kt	(date 1661103318683)
@@ -0,0 +1,34 @@
+package com.qxy.siegelions.base
+
+import android.os.Parcelable
+import androidx.fragment.app.Fragment
+import androidx.fragment.app.FragmentManager
+import androidx.fragment.app.FragmentStatePagerAdapter
+import java.util.*
+
+/**
+ * create by libo
+ * create on 2020/5/19
+ * description 公共viewPageradapter
+ */
+class CommPagerAdapter(fm: FragmentManager?, private val items: ArrayList<out Fragment>, private val mTitles: Array<String>) : FragmentStatePagerAdapter(fm!!) {
+    override fun getCount(): Int {
+        return if (items.size == 0) 0 else items.size
+    }
+
+    override fun getItem(position: Int): Fragment {
+        return items[position]
+    }
+
+    override fun getPageTitle(position: Int): CharSequence? {
+        return mTitles[position]
+    }
+
+    override fun getItemPosition(`object`: Any): Int {
+        return POSITION_NONE
+    }
+
+    override fun saveState(): Parcelable? {
+        return null
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/base/BaseRvViewHolder.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/base/BaseRvViewHolder.kt b/app/src/main/java/com/qxy/siegelions/base/BaseRvViewHolder.kt
new file mode 100644
--- /dev/null	(date 1661103318550)
+++ b/app/src/main/java/com/qxy/siegelions/base/BaseRvViewHolder.kt	(date 1661103318550)
@@ -0,0 +1,16 @@
+package com.qxy.siegelions.base
+
+import android.view.View
+import androidx.recyclerview.widget.RecyclerView
+import butterknife.ButterKnife
+
+/**
+ * create by libo
+ * create on 2018/11/15
+ * description Recycler ViewHolder基类
+ */
+open class BaseRvViewHolder(itemView: View?) : RecyclerView.ViewHolder(itemView!!) {
+    init {
+        ButterKnife.bind(this, itemView!!)
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/ui/teleplay/TeleplayFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.qxy.siegelions.ui.teleplay\r\n\r\nimport android.graphics.Color\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.ImageButton\r\nimport android.widget.ListView\r\nimport android.widget.TextView\r\nimport androidx.fragment.app.Fragment\r\nimport androidx.lifecycle.ViewModelProvider\r\nimport androidx.room.Room\r\nimport androidx.swiperefreshlayout.widget.SwipeRefreshLayout\r\nimport androidx.swiperefreshlayout.widget.SwipeRefreshLayout.OnRefreshListener\r\nimport com.qxy.siegelions.R\r\nimport com.qxy.siegelions.database.RankingEntryDatabase\r\nimport com.qxy.siegelions.database.RankingVersionDatabase\r\nimport com.qxy.siegelions.databinding.FragmentTeleplayBinding\r\nimport com.qxy.siegelions.ui.EntryAdapter\r\nimport com.qxy.siegelions.util.RankingGetUtil\r\nimport com.qxy.siegelions.util.RankingVersionGetUtil\r\nimport java.text.SimpleDateFormat\r\nimport java.util.*\r\n\r\nclass TeleplayFragment : Fragment() {\r\n    private var binding: FragmentTeleplayBinding? = null\r\n    private lateinit var listView: ListView\r\n    private lateinit var refreshLayout: SwipeRefreshLayout\r\n    private lateinit var showPrev: ImageButton\r\n    private lateinit var showNext: ImageButton\r\n    private lateinit var refreshTime: TextView\r\n    private var entryAdapter: EntryAdapter? = null\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater,\r\n        container: ViewGroup?, savedInstanceState: Bundle?\r\n    ): View? {\r\n        ViewModelProvider(this).get(\r\n            TeleplayViewModel::class.java\r\n        )\r\n\r\n        binding = FragmentTeleplayBinding.inflate(inflater, container, false)\r\n        val root: View = binding!!.root\r\n        val view = inflater.inflate(R.layout.fragment_teleplay, container, false)\r\n        listView = view.findViewById(R.id.list_view)\r\n\r\n        val rankingVersionGetUtil = RankingVersionGetUtil(context)\r\n        rankingVersionGetUtil.saveRankingVersion(2)\r\n\r\n        val rankingEntryDatabase = context?.let {\r\n            Room.databaseBuilder(\r\n                it,\r\n                RankingEntryDatabase::class.java, \"ranking_entry_database\"\r\n            ) //new a database\r\n                .allowMainThreadQueries()\r\n                .build()\r\n        }\r\n        val rankingEntryDao = rankingEntryDatabase?.entryDao\r\n\r\n        val fmt = SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\").format(Date())\r\n        refreshTime = view.findViewById(R.id.info_refresh_date)\r\n        refreshTime.text = \"$fmt 更新\"\r\n\r\n        val rankingVersionDatabase = context?.let {\r\n            Room.databaseBuilder(\r\n                it,\r\n                RankingVersionDatabase::class.java, \"ranking_version_database\"\r\n            ) //new a database\r\n                .allowMainThreadQueries()\r\n                .build()\r\n        }\r\n        val rankingVersionDao = rankingVersionDatabase?.versionDao\r\n\r\n        refreshLayout = view.findViewById(R.id.refresh_layout)\r\n        refreshLayout.setProgressBackgroundColorSchemeColor(Color.LTGRAY) //刷新控件的背景\r\n\r\n        refreshLayout.setOnRefreshListener(OnRefreshListener {\r\n            val rankingGetUtil = RankingGetUtil(context)\r\n            val versionView = view.findViewById(R.id.version_id) as TextView\r\n            val version = versionView.text.toString().toInt()\r\n            val entries = rankingGetUtil.getRankingEntry(2, version)\r\n            val fmt = SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\").format(Date())\r\n            refreshTime = view.findViewById(R.id.info_refresh_date)\r\n            refreshTime.text = \"$fmt 更新\"\r\n            //在获取数据后重新调用适配器设置数据显示\r\n            entryAdapter = EntryAdapter(entries, context)\r\n            listView.adapter = entryAdapter\r\n            //在适配器类中设置数据完毕时，关闭动画\r\n            refreshLayout.isRefreshing = false //关闭刷新动画\r\n        })\r\n\r\n        showPrev = view.findViewById(R.id.show_prev)\r\n        showNext = view.findViewById(R.id.show_next)\r\n\r\n        showPrev.setOnClickListener(View.OnClickListener {\r\n            val rankingGetUtil = RankingGetUtil(context)\r\n            val versionView = view.findViewById(R.id.version_id) as TextView\r\n            val version = versionView.text.toString().toInt()\r\n            val entries = rankingGetUtil.getRankingEntry(2, version - 1)\r\n            versionView.text = (version - 1).toString()\r\n            //在获取数据后重新调用适配器设置数据显示\r\n            entryAdapter = EntryAdapter(entries, context)\r\n            listView.adapter = entryAdapter\r\n        })\r\n\r\n        showNext.setOnClickListener(View.OnClickListener {\r\n            val rankingGetUtil = RankingGetUtil(context)\r\n            val versionView = view.findViewById(R.id.version_id) as TextView\r\n            val version = versionView.text.toString().toInt()\r\n            val entries = rankingGetUtil.getRankingEntry(2, version + 1)\r\n            versionView.text = (version - 1).toString()\r\n            //在获取数据后重新调用适配器设置数据显示\r\n            entryAdapter = EntryAdapter(entries, context)\r\n            listView.adapter = entryAdapter\r\n        })\r\n\r\n        val rankingGetUtil = RankingGetUtil(context)\r\n        val entries = rankingGetUtil.getRankingEntry(2)\r\n\r\n        entryAdapter = EntryAdapter(entries, context)\r\n        listView.adapter = entryAdapter\r\n\r\n        return view\r\n    }\r\n\r\n\r\n    private fun buttonDateClicked(v: View) {\r\n        Log.d(\"Date_button_test\", \"Pressed\")\r\n    }\r\n\r\n    override fun onDestroyView() {\r\n        super.onDestroyView()\r\n        binding = null\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/ui/teleplay/TeleplayFragment.kt b/app/src/main/java/com/qxy/siegelions/ui/teleplay/TeleplayFragment.kt
--- a/app/src/main/java/com/qxy/siegelions/ui/teleplay/TeleplayFragment.kt	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/app/src/main/java/com/qxy/siegelions/ui/teleplay/TeleplayFragment.kt	(date 1661103406331)
@@ -19,8 +19,8 @@
 import com.qxy.siegelions.database.RankingVersionDatabase
 import com.qxy.siegelions.databinding.FragmentTeleplayBinding
 import com.qxy.siegelions.ui.EntryAdapter
-import com.qxy.siegelions.util.RankingGetUtil
-import com.qxy.siegelions.util.RankingVersionGetUtil
+import com.qxy.siegelions.utils.RankingGetUtil
+import com.qxy.siegelions.utils.RankingVersionGetUtil
 import java.text.SimpleDateFormat
 import java.util.*
 
Index: app/src/main/java/com/qxy/siegelions/ui/show/ShowFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.qxy.siegelions.ui.show\r\n\r\nimport android.graphics.Color\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.ImageButton\r\nimport android.widget.ListView\r\nimport android.widget.TextView\r\nimport androidx.fragment.app.Fragment\r\nimport androidx.lifecycle.ViewModelProvider\r\nimport androidx.room.Room\r\nimport androidx.swiperefreshlayout.widget.SwipeRefreshLayout\r\nimport androidx.swiperefreshlayout.widget.SwipeRefreshLayout.OnRefreshListener\r\nimport com.qxy.siegelions.R\r\nimport com.qxy.siegelions.database.RankingEntryDatabase\r\nimport com.qxy.siegelions.database.RankingVersionDatabase\r\nimport com.qxy.siegelions.databinding.FragmentShowBinding\r\nimport com.qxy.siegelions.ui.EntryAdapter\r\nimport com.qxy.siegelions.util.RankingGetUtil\r\nimport com.qxy.siegelions.util.RankingVersionGetUtil\r\nimport java.text.SimpleDateFormat\r\nimport java.util.*\r\n\r\nclass ShowFragment : Fragment() {\r\n    private var binding: FragmentShowBinding? = null\r\n    private lateinit var listView: ListView\r\n    private lateinit var refreshLayout: SwipeRefreshLayout\r\n    private lateinit var showPrev: ImageButton\r\n    private lateinit var showNext: ImageButton\r\n    private lateinit var refreshTime: TextView\r\n    private var entryAdapter: EntryAdapter? = null\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater,\r\n        container: ViewGroup?, savedInstanceState: Bundle?\r\n    ): View? {\r\n        ViewModelProvider(this).get(\r\n            ShowViewModel::class.java\r\n        )\r\n\r\n        binding = FragmentShowBinding.inflate(inflater, container, false)\r\n        val root: View = binding!!.root\r\n        val view = inflater.inflate(R.layout.fragment_show, container, false)\r\n        listView = view.findViewById(R.id.list_view)\r\n\r\n        val rankingVersionGetUtil = RankingVersionGetUtil(context)\r\n        rankingVersionGetUtil.saveRankingVersion(3)\r\n\r\n        val rankingEntryDatabase = context?.let {\r\n            Room.databaseBuilder(\r\n                it,\r\n                RankingEntryDatabase::class.java, \"ranking_entry_database\"\r\n            ) //new a database\r\n                .allowMainThreadQueries()\r\n                .build()\r\n        }\r\n        val rankingEntryDao = rankingEntryDatabase?.entryDao\r\n\r\n        val fmt = SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\").format(Date())\r\n        refreshTime = view.findViewById(R.id.info_refresh_date)\r\n        refreshTime.text = \"$fmt 更新\"\r\n\r\n        val rankingVersionDatabase = context?.let {\r\n            Room.databaseBuilder(\r\n                it,\r\n                RankingVersionDatabase::class.java, \"ranking_version_database\"\r\n            ) //new a database\r\n                .allowMainThreadQueries()\r\n                .build()\r\n        }\r\n        val rankingVersionDao = rankingVersionDatabase?.versionDao\r\n\r\n        refreshLayout = view.findViewById(R.id.refresh_layout)\r\n        refreshLayout.setProgressBackgroundColorSchemeColor(Color.LTGRAY) //刷新控件的背景\r\n\r\n        refreshLayout.setOnRefreshListener(OnRefreshListener {\r\n            val rankingGetUtil = RankingGetUtil(context)\r\n            val versionView = view.findViewById(R.id.version_id) as TextView\r\n            val version = versionView.text.toString().toInt()\r\n            val entries = rankingGetUtil.getRankingEntry(3, version)\r\n            val fmt = SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\").format(Date())\r\n            refreshTime = view.findViewById(R.id.info_refresh_date)\r\n            refreshTime.text = \"$fmt 更新\"\r\n            //在获取数据后重新调用适配器设置数据显示\r\n            entryAdapter = EntryAdapter(entries, context)\r\n            listView.adapter = entryAdapter\r\n            //在适配器类中设置数据完毕时，关闭动画\r\n            refreshLayout.isRefreshing = false //关闭刷新动画\r\n        })\r\n\r\n        showPrev = view.findViewById(R.id.show_prev)\r\n        showNext = view.findViewById(R.id.show_next)\r\n\r\n        showPrev.setOnClickListener(View.OnClickListener {\r\n            val rankingGetUtil = RankingGetUtil(context)\r\n            val versionView = view.findViewById(R.id.version_id) as TextView\r\n            val version = versionView.text.toString().toInt()\r\n            val entries = rankingGetUtil.getRankingEntry(3, version - 1)\r\n            versionView.text = (version - 1).toString()\r\n            //在获取数据后重新调用适配器设置数据显示\r\n            entryAdapter = EntryAdapter(entries, context)\r\n            listView.adapter = entryAdapter\r\n        })\r\n\r\n        showNext.setOnClickListener(View.OnClickListener {\r\n            val rankingGetUtil = RankingGetUtil(context)\r\n            val versionView = view.findViewById(R.id.version_id) as TextView\r\n            val version = versionView.text.toString().toInt()\r\n            val entries = rankingGetUtil.getRankingEntry(3, version + 1)\r\n            versionView.text = (version - 1).toString()\r\n            //在获取数据后重新调用适配器设置数据显示\r\n            entryAdapter = EntryAdapter(entries, context)\r\n            listView.adapter = entryAdapter\r\n        })\r\n\r\n        val rankingGetUtil = RankingGetUtil(context)\r\n        val entries = rankingGetUtil.getRankingEntry(3)\r\n\r\n        entryAdapter = EntryAdapter(entries, context)\r\n        listView.adapter = entryAdapter\r\n\r\n        return view\r\n    }\r\n\r\n    private fun buttonDateClicked(v: View) {\r\n        Log.d(\"Date_button_test\", \"Pressed\")\r\n    }\r\n\r\n    override fun onDestroyView() {\r\n        super.onDestroyView()\r\n        binding = null\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/ui/show/ShowFragment.kt b/app/src/main/java/com/qxy/siegelions/ui/show/ShowFragment.kt
--- a/app/src/main/java/com/qxy/siegelions/ui/show/ShowFragment.kt	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/app/src/main/java/com/qxy/siegelions/ui/show/ShowFragment.kt	(date 1661103406353)
@@ -19,8 +19,8 @@
 import com.qxy.siegelions.database.RankingVersionDatabase
 import com.qxy.siegelions.databinding.FragmentShowBinding
 import com.qxy.siegelions.ui.EntryAdapter
-import com.qxy.siegelions.util.RankingGetUtil
-import com.qxy.siegelions.util.RankingVersionGetUtil
+import com.qxy.siegelions.utils.RankingGetUtil
+import com.qxy.siegelions.utils.RankingVersionGetUtil
 import java.text.SimpleDateFormat
 import java.util.*
 
Index: app/src/main/res/values/strings.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><resources>\r\n    <string name=\"app_name\">Ranking</string>\r\n    <!-- TODO: Remove or change this placeholder text -->\r\n    <string name=\"hello_blank_fragment\">Hello blank fragment</string>\r\n\r\n    <string name=\"authorize_web\">通过web页授权</string>\r\n    <string name=\"open_system_photo\">打开系统相册并分享</string>\r\n    <string name=\"share_to_aweme\">启动分享</string>\r\n    <string name=\"set_default_title\">设置默认话题</string>\r\n    <string name=\"media_path\">路径</string>\r\n\r\n    <string name=\"add_photo_video\">添加相片或视频</string>\r\n    <string name=\"clear\">清空</string>\r\n    <string name=\"image\">照片</string>\r\n    <string name=\"video\">视频</string>\r\n    <string name=\"auth_success\">授权成功</string>\r\n    <string name=\"share_success\">分享成功</string>\r\n    <string name=\"scope_hint\">必选权限(以 , 号间隔)</string>\r\n    <string name=\"optional_scope\">可选权限，默认不选（以 , 号间隔)</string>\r\n    <string name=\"optional_1_scope\">可选权限，默认选择（以 , 号间隔)</string>\r\n    <string name=\"set_scope_btn\">设置</string>\r\n\r\n    <string name=\"share_to_aweme_with_shareid_no_callbacK\">启动带shareId无回调</string>\r\n    <string name=\"share_to_aweme_with_shareid_callback\">启动带shareId有回调</string>\r\n    <string name=\"share_user_file_provider\">使用FileProvider=</string>\r\n\r\n    <string name=\"title_movie\">抖音电影榜</string>\r\n    <string name=\"toolbar_bio\">Bio</string>\r\n    <string name=\"toolbar_details\">Details</string>\r\n    <string name=\"title_activity_menu\">MenuActivity</string>\r\n    <string name=\"title_home\">电影</string>\r\n    <string name=\"title_dashboard\">电视剧</string>\r\n    <string name=\"title_notifications\">综艺</string>\r\n    <string name=\"title_update_time\">2022.8.18 22:58 更新</string>\r\n\r\n    <string name=\"rank_test_title\">独行月球</string>\r\n    <string name=\"rank_test_score\">导演：张吃鱼</string>\r\n    <string name=\"rank_test_type\">喜剧/科幻</string>\r\n    <string name=\"rank_test_up_time\">2022–07–29 上映</string>\r\n    <string name=\"rank_test_hot_level\">热度：1221.7万</string>\r\n    <string name=\"title_activity_main2\">MainActivity2</string>\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/strings.xml b/app/src/main/res/values/strings.xml
--- a/app/src/main/res/values/strings.xml	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/app/src/main/res/values/strings.xml	(date 1661109600079)
@@ -1,5 +1,5 @@
-<resources>
-    <string name="app_name">Ranking</string>
+<resources tools:ignore="ExtraTranslation" xmlns:tools="http://schemas.android.com/tools">
+    <string name="app_name">极简Tik</string>
     <!-- TODO: Remove or change this placeholder text -->
     <string name="hello_blank_fragment">Hello blank fragment</string>
 
@@ -39,4 +39,26 @@
     <string name="rank_test_up_time">2022–07–29 上映</string>
     <string name="rank_test_hot_level">热度：1221.7万</string>
     <string name="title_activity_main2">MainActivity2</string>
+
+    <string name="trans">trans</string>
+
+    <!-- 点赞选中 -->
+    <string name="icon_like_fill">&#xe60d;</string>
+    <!--评论-->
+    <string name="icon_comment">&#xe621;</string>
+    <!-- 微博 -->
+    <string name="icon_weibo">&#xe620;</string>
+    <!-- 微信 -->
+    <string name="icon_wechat">&#xe61d;</string>
+    <!-- 微信朋友圈 -->
+    <string name="icon_friends">&#xe61c;</string>
+    <!-- QQ -->
+    <string name="icon_qq">&#xe61e;</string>
+    <!-- QQ空间 -->
+    <string name="icon_qq_space">&#xe61f;</string>
+    <!-- 更多 -->
+    <string name="icon_more">&#xe61b;</string>
+    <!-- 地理位置 -->
+    <string name="icon_location_fill">&#xe624;</string>
+
 </resources>
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/entity/DataCreate.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/entity/DataCreate.kt b/app/src/main/java/com/qxy/siegelions/entity/DataCreate.kt
new file mode 100644
--- /dev/null	(date 1661103872386)
+++ b/app/src/main/java/com/qxy/siegelions/entity/DataCreate.kt	(date 1661103872386)
@@ -0,0 +1,240 @@
+package com.qxy.siegelions.bean
+
+import com.qxy.siegelions.R
+import com.qxy.siegelions.bean.VideoBean.UserBean
+import java.util.*
+
+/**
+ * create by libo
+ * create on 2020-06-03
+ * description 本地数据创建，代替接口获取数据
+ */
+class DataCreate {
+
+    fun initData() {
+
+        val videoBeanOne = VideoBean()
+        videoBeanOne.coverRes = R.mipmap.cover1
+        videoBeanOne.content = "#街坊 #颜值打分 给自己颜值打100分的女生集合"
+        videoBeanOne.videoRes = R.raw.video1
+        videoBeanOne.distance = 7.9f
+        videoBeanOne.isFocused = false
+        videoBeanOne.isLiked = true
+        videoBeanOne.likeCount = 226823
+        videoBeanOne.commentCount = 3480
+        videoBeanOne.shareCount = 4252
+
+        val userBeanOne = UserBean()
+        userBeanOne.uid = 1
+        userBeanOne.head = R.mipmap.head1
+        userBeanOne.nickName = "南京街坊"
+        userBeanOne.sign = "你们喜欢的话题，就是我们采访的内容"
+        userBeanOne.subCount = 119323
+        userBeanOne.focusCount = 482
+        userBeanOne.fansCount = 32823
+        userBeanOne.workCount = 42
+        userBeanOne.dynamicCount = 42
+        userBeanOne.likeCount = 821
+        userList.add(userBeanOne)
+        videoBeanOne.userBean = userBeanOne
+
+        val videoBeanTwo = VideoBean()
+        videoBeanTwo.coverRes = R.mipmap.cover2
+        videoBeanTwo.content = "400 户摊主开进济南环联夜市，你们要的烟火气终于来了！"
+        videoBeanTwo.videoRes = R.raw.video2
+        videoBeanTwo.distance = 19.7f
+        videoBeanTwo.isFocused = true
+        videoBeanTwo.isLiked = false
+        videoBeanTwo.likeCount = 1938230
+        videoBeanTwo.commentCount = 8923
+        videoBeanTwo.shareCount = 5892
+
+        val userBeanTwo = UserBean()
+        userBeanTwo.uid = 2
+        userBeanTwo.head = R.mipmap.head2
+        userBeanTwo.nickName = "民生直通车"
+        userBeanTwo.sign = "直通现场新闻，直击社会热点，深入事件背后，探寻事实真相"
+        userBeanTwo.subCount = 20323234
+        userBeanTwo.focusCount = 244
+        userBeanTwo.fansCount = 1938232
+        userBeanTwo.workCount = 123
+        userBeanTwo.dynamicCount = 123
+        userBeanTwo.likeCount = 344
+        userList.add(userBeanTwo)
+        videoBeanTwo.userBean = userBeanTwo
+
+        val videoBeanThree = VideoBean()
+        videoBeanThree.coverRes = R.mipmap.cover3
+        videoBeanThree.content = "科比生涯霸气庆祝动作，最后动作诠释了一生荣耀 #科比 @路人王篮球 "
+        videoBeanThree.videoRes = R.raw.video3
+        videoBeanThree.distance = 15.9f
+        videoBeanThree.isFocused = false
+        videoBeanThree.isLiked = false
+        videoBeanThree.likeCount = 592032
+        videoBeanThree.commentCount = 9221
+        videoBeanThree.shareCount = 982
+
+        val userBeanThree = UserBean()
+        userBeanThree.uid = 3
+        userBeanThree.head = R.mipmap.head3
+        userBeanThree.nickName = "七叶篮球"
+        userBeanThree.sign = "老科的视频会一直保留，想他了就回来看看"
+        userBeanThree.subCount = 1039232
+        userBeanThree.focusCount = 159
+        userBeanThree.fansCount = 29232323
+        userBeanThree.workCount = 171
+        userBeanThree.dynamicCount = 173
+        userBeanThree.likeCount = 1724
+        userList.add(userBeanThree)
+        videoBeanThree.userBean = userBeanThree
+
+        val videoBeanFour = VideoBean()
+        videoBeanFour.coverRes = R.mipmap.cover4
+        videoBeanFour.content = "美好的一天，从发现美开始 #莉莉柯林斯 "
+        videoBeanFour.videoRes = R.raw.video4
+        videoBeanFour.distance = 25.2f
+        videoBeanFour.isFocused = false
+        videoBeanFour.isLiked = false
+        videoBeanFour.likeCount = 887232
+        videoBeanFour.commentCount = 2731
+        videoBeanFour.shareCount = 8924
+
+        val userBeanFour = UserBean()
+        userBeanFour.uid = 4
+        userBeanFour.head = R.mipmap.head4
+        userBeanFour.nickName = "一只爱修图的剪辑师"
+        userBeanFour.sign = "接剪辑，活动拍摄，修图单\n 合作私信"
+        userBeanFour.subCount = 2689424
+        userBeanFour.focusCount = 399
+        userBeanFour.fansCount = 360829
+        userBeanFour.workCount = 562
+        userBeanFour.dynamicCount = 570
+        userBeanFour.likeCount = 4310
+        userList.add(userBeanFour)
+        videoBeanFour.userBean = userBeanFour
+
+        val videoBeanFive = VideoBean()
+        videoBeanFive.coverRes = R.mipmap.cover5
+        videoBeanFive.content = "有梦就去追吧，我说到做到。 #网球  #网球小威 "
+        videoBeanFive.videoRes = R.raw.video5
+        videoBeanFive.distance = 9.2f
+        videoBeanFive.isFocused = false
+        videoBeanFive.isLiked = false
+        videoBeanFive.likeCount = 8293241
+        videoBeanFive.commentCount = 982
+        videoBeanFive.shareCount = 8923
+
+        val userBeanFive = UserBean()
+        userBeanFive.uid = 5
+        userBeanFive.head = R.mipmap.head5
+        userBeanFive.nickName = "国际网球联合会"
+        userBeanFive.sign = "ITF国际网球联合会负责制定统一的网球规则，在世界范围内普及网球运动"
+        userBeanFive.subCount = 1002342
+        userBeanFive.focusCount = 87
+        userBeanFive.fansCount = 520232
+        userBeanFive.workCount = 89
+        userBeanFive.dynamicCount = 122
+        userBeanFive.likeCount = 9
+        userList.add(userBeanFive)
+        videoBeanFive.userBean = userBeanFive
+
+        val videoBeanSix = VideoBean()
+        videoBeanSix.coverRes = R.mipmap.cover6
+        videoBeanSix.content = "能力越大，责任越大，英雄可能会迟到，但永远不会缺席  #蜘蛛侠 "
+        videoBeanSix.videoRes = R.raw.video6
+        videoBeanSix.distance = 16.4f
+        videoBeanSix.isFocused = true
+        videoBeanSix.isLiked = true
+        videoBeanSix.likeCount = 2109823
+        videoBeanSix.commentCount = 9723
+        videoBeanFive.shareCount = 424
+
+        val userBeanSix = UserBean()
+        userBeanSix.uid = 6
+        userBeanSix.head = R.mipmap.head6
+        userBeanSix.nickName = "罗鑫颖"
+        userBeanSix.sign = "一个行走在Tr与剪辑之间的人\n 有什么不懂的可以来直播间问我"
+        userBeanSix.subCount = 29342320
+        userBeanSix.focusCount = 67
+        userBeanSix.fansCount = 7028323
+        userBeanSix.workCount = 5133
+        userBeanSix.dynamicCount = 5159
+        userBeanSix.likeCount = 0
+        userList.add(userBeanSix)
+        videoBeanSix.userBean = userBeanSix
+
+        val videoBeanSeven = VideoBean()
+        videoBeanSeven.coverRes = R.mipmap.cover7
+        videoBeanSeven.content = "真的拍不出来你的神颜！现场看大屏帅疯！#陈情令南京演唱会 #王一博 😭"
+        videoBeanSeven.videoRes = R.raw.video7
+        videoBeanSeven.distance = 16.4f
+        videoBeanSeven.isFocused = false
+        videoBeanSeven.isLiked = false
+        videoBeanSeven.likeCount = 185782
+        videoBeanSeven.commentCount = 2452
+        videoBeanSeven.shareCount = 3812
+
+        val userBeanSeven = UserBean()
+        userBeanSeven.uid = 7
+        userBeanSeven.head = R.mipmap.head7
+        userBeanSeven.nickName = "Sean"
+        userBeanSeven.sign = "云深不知处"
+        userBeanSeven.subCount = 471932
+        userBeanSeven.focusCount = 482
+        userBeanSeven.fansCount = 371423
+        userBeanSeven.workCount = 242
+        userBeanSeven.dynamicCount = 245
+        userBeanSeven.likeCount = 839
+        userList.add(userBeanSeven)
+        videoBeanSeven.userBean = userBeanSeven
+
+        val videoBeanEight = VideoBean()
+        videoBeanEight.coverRes = R.mipmap.cover8
+        videoBeanEight.content = "逆序只是想告诉大家，学了舞蹈的她气质开了挂！"
+        videoBeanEight.videoRes = R.raw.video8
+        videoBeanEight.distance = 8.4f
+        videoBeanEight.isFocused = false
+        videoBeanEight.isLiked = false
+        videoBeanEight.likeCount = 1708324
+        videoBeanEight.commentCount = 8372
+        videoBeanEight.shareCount = 982
+
+        val userBeanEight = UserBean()
+        userBeanEight.uid = 8
+        userBeanEight.head = R.mipmap.head8
+        userBeanEight.nickName = "曹小宝"
+        userBeanEight.sign = "一个晒娃狂魔麻麻，平日里没啥爱好！喜欢拿着手机记录孩子成长片段，风格不喜勿喷！"
+        userBeanEight.subCount = 1832342
+        userBeanEight.focusCount = 397
+        userBeanEight.fansCount = 1394232
+        userBeanEight.workCount = 164
+        userBeanEight.dynamicCount = 167
+        userBeanEight.likeCount = 0
+        userList.add(userBeanEight)
+        videoBeanEight.userBean = userBeanEight
+
+        datas.add(videoBeanOne)
+        datas.add(videoBeanTwo)
+        datas.add(videoBeanThree)
+        datas.add(videoBeanFour)
+        datas.add(videoBeanFive)
+        datas.add(videoBeanSix)
+        datas.add(videoBeanSeven)
+        datas.add(videoBeanEight)
+        datas.add(videoBeanOne)
+        datas.add(videoBeanTwo)
+        datas.add(videoBeanThree)
+        datas.add(videoBeanFour)
+        datas.add(videoBeanFive)
+        datas.add(videoBeanSix)
+        datas.add(videoBeanSeven)
+        datas.add(videoBeanEight)
+    }
+
+    companion object {
+        @JvmField
+        var datas = ArrayList<VideoBean>()
+        @JvmField
+        var userList = ArrayList<UserBean>()
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/entity/CurUserBean.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/entity/CurUserBean.kt b/app/src/main/java/com/qxy/siegelions/entity/CurUserBean.kt
new file mode 100644
--- /dev/null	(date 1661103872623)
+++ b/app/src/main/java/com/qxy/siegelions/entity/CurUserBean.kt	(date 1661103872623)
@@ -0,0 +1,10 @@
+package com.qxy.siegelions.bean
+
+import com.qxy.siegelions.bean.VideoBean.UserBean
+
+/**
+ * create by libo
+ * create on 2020-06-04
+ * description 当前播放视频的作者Userbean切换
+ */
+class CurUserBean(var userBean: UserBean)
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/entity/CommentBean.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/entity/CommentBean.kt b/app/src/main/java/com/qxy/siegelions/entity/CommentBean.kt
new file mode 100644
--- /dev/null	(date 1661103872550)
+++ b/app/src/main/java/com/qxy/siegelions/entity/CommentBean.kt	(date 1661103872550)
@@ -0,0 +1,16 @@
+package com.qxy.siegelions.bean
+
+import com.qxy.siegelions.bean.VideoBean.UserBean
+
+/**
+ * create by libo
+ * create on 2020-06-04
+ * description
+ */
+class CommentBean {
+    var content: String? = null
+        get() = if (field == null) "" else field
+    var userBean: UserBean? = null
+    var likeCount = 0
+    var isLiked = false
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/entity/VideoBean.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/entity/VideoBean.kt b/app/src/main/java/com/qxy/siegelions/entity/VideoBean.kt
new file mode 100644
--- /dev/null	(date 1661103872557)
+++ b/app/src/main/java/com/qxy/siegelions/entity/VideoBean.kt	(date 1661103872557)
@@ -0,0 +1,73 @@
+package com.qxy.siegelions.bean
+
+/**
+ * create by libo
+ * create on 2020-06-03
+ * description 视频实体类
+ */
+class VideoBean {
+    var videoId = 0
+
+    /** 视频播放资源  */
+    var videoRes = 0
+
+    /** 封面图片资源  */
+    var coverRes = 0
+
+    /** 视频文案内容  */
+    var content: String? = null
+        get() = if (field == null) "" else field
+
+    /** 作者  */
+    var userBean: UserBean? = null
+
+    /** 是否已点赞  */
+    var isLiked = false
+
+    /** 与视频发布距离  */
+    var distance = 0f
+
+    /** 是否已关注  */
+    var isFocused = false
+
+    /** 点赞数  */
+    var likeCount = 0
+
+    /** 评论数  */
+    var commentCount = 0
+
+    /** 转发数  */
+    var shareCount = 0
+
+    class UserBean {
+        var uid = 0
+        var nickName: String? = null
+            get() = if (field == null) "" else field
+        var head = 0
+
+        /** 座右铭  */
+        var sign: String? = null
+            get() = if (field == null) "" else field
+
+        /** 是否已关注  */
+        var isFocused = false
+
+        /** 获赞数量  */
+        var subCount = 0
+
+        /** 关注数量  */
+        var focusCount = 0
+
+        /** 粉丝数量  */
+        var fansCount = 0
+
+        /** 作品数量  */
+        var workCount = 0
+
+        /** 动态数量  */
+        var dynamicCount = 0
+
+        /** 喜欢数量  */
+        var likeCount = 0
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/entity/ShareBean.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/entity/ShareBean.kt b/app/src/main/java/com/qxy/siegelions/entity/ShareBean.kt
new file mode 100644
--- /dev/null	(date 1661103872505)
+++ b/app/src/main/java/com/qxy/siegelions/entity/ShareBean.kt	(date 1661103872505)
@@ -0,0 +1,8 @@
+package com.qxy.siegelions.bean
+
+/**
+ * create by libo
+ * create on 2020-06-04
+ * description
+ */
+class ShareBean(var iconRes: Int, var text: String, var bgRes: Int)
\ No newline at end of file
Index: app/src/main/res/layout/activity_tiktok.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/activity_tiktok.xml b/app/src/main/res/layout/activity_tiktok.xml
new file mode 100644
--- /dev/null	(date 1661103318590)
+++ b/app/src/main/res/layout/activity_tiktok.xml	(date 1661103318590)
@@ -0,0 +1,161 @@
+<?xml version="1.0" encoding="utf-8"?>
+<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent"
+    tools:context=".TiktokActivity">
+    <LinearLayout
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:orientation="vertical">
+
+        <TextView
+            android:id="@+id/title"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="授权"
+            android:layout_marginTop="100dp"
+            app:layout_constraintLeft_toLeftOf="parent"
+            app:layout_constraintRight_toRightOf="parent"
+            app:layout_constraintTop_toTopOf="parent" />
+
+        <Button
+            android:id="@+id/go_to_auth"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="抖音授权"
+            android:layout_marginTop="20dp" />
+
+        <Button
+            android:id="@+id/get_ranking"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:layout_marginTop="20dp"
+            android:text="查看榜单" />
+
+        <Button
+            android:id="@+id/require_mobile"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="必选电话"
+            android:layout_marginTop="20dp" />
+        <Button
+            android:id="@+id/option_mobile"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="可选电话"
+            android:layout_marginTop="20dp" />
+
+        <Button
+            android:id="@+id/is_support_mix_share_button"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="是否支持混合分享"/>
+
+        <Button
+            android:id="@+id/go_to_system_picture"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="@string/open_system_photo"
+            android:layout_marginTop="20dp" />
+
+        <Button
+            android:id="@+id/share_to_tiktok"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="@string/share_to_aweme"
+            app:layout_constraintLeft_toLeftOf="parent"
+            app:layout_constraintRight_toRightOf="parent"
+            app:layout_constraintTop_toBottomOf="@id/go_to_system_picture"
+            android:visibility="gone"/>
+        <Button
+            android:id="@+id/share_to_contact"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="分享到联系人图片" />
+        <Button
+            android:id="@+id/share_to_contact_html"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="分享到联系人html"
+            />
+        <Button
+            android:id="@+id/open_record"
+            android:text="测试打开拍摄页"
+            android:layout_width="wrap_content"
+            android:layout_marginTop="20dp"
+            android:layout_height="wrap_content"/>
+
+        <Button
+            android:id="@+id/use_file_provider"
+            android:text="使用FileProvider"
+            android:layout_width="wrap_content"
+            android:layout_marginTop="20dp"
+            android:layout_height="wrap_content"/>
+
+
+
+        <Button
+            android:id="@+id/share_to_douyin_with_shareid_no_callback"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="@string/share_to_aweme_with_shareid_no_callbacK"
+            android:visibility="gone"/>
+
+        <Button
+            android:id="@+id/microbutton"
+            android:layout_width="wrap_content"
+            android:text="分享携带小程序"
+            android:layout_height="wrap_content"
+            android:visibility="gone"/>
+
+        <Button
+            android:id="@+id/share_to_douyin_with_shareid_callback"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="@string/share_to_aweme_with_shareid_callback"
+            app:layout_constraintLeft_toLeftOf="parent"
+            app:layout_constraintRight_toRightOf="parent"
+            app:layout_constraintTop_toBottomOf="@id/share_to_douyin_with_shareid_no_callback"
+            android:visibility="gone"/>
+
+        <EditText
+            android:id="@+id/set_default_hashtag"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="@string/set_default_title"
+            android:visibility="gone"/>
+
+        <EditText
+            android:id="@+id/set_default_hashtag1"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="第二个默认话题"
+            android:visibility="gone"/>
+
+        <EditText
+            android:id="@+id/media_text"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="@string/media_path"
+            android:textSize="16sp"
+            app:layout_constraintLeft_toLeftOf="parent"
+            app:layout_constraintRight_toRightOf="parent"
+            app:layout_constraintTop_toBottomOf="@id/set_default_hashtag"
+            android:visibility="gone"/>
+
+
+        <Button
+            android:id="@+id/clear_media"
+            android:layout_width="wrap_content"
+            android:layout_height="wrap_content"
+            android:text="@string/clear"
+            android:layout_marginRight="20dp"
+            app:layout_constraintRight_toRightOf="parent"
+            app:layout_constraintTop_toBottomOf="@id/media_text"
+            android:visibility="gone"/>
+
+    </LinearLayout>
+
+</ScrollView>
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/entity/PauseVideoEvent.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/entity/PauseVideoEvent.kt b/app/src/main/java/com/qxy/siegelions/entity/PauseVideoEvent.kt
new file mode 100644
--- /dev/null	(date 1661103872355)
+++ b/app/src/main/java/com/qxy/siegelions/entity/PauseVideoEvent.kt	(date 1661103872355)
@@ -0,0 +1,8 @@
+package com.qxy.siegelions.bean
+
+/**
+ * create by libo
+ * create on 2020-05-21
+ * description
+ */
+class PauseVideoEvent(val isPlayOrPause: Boolean)
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/entity/MainPageChangeEvent.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/entity/MainPageChangeEvent.kt b/app/src/main/java/com/qxy/siegelions/entity/MainPageChangeEvent.kt
new file mode 100644
--- /dev/null	(date 1661103872521)
+++ b/app/src/main/java/com/qxy/siegelions/entity/MainPageChangeEvent.kt	(date 1661103872521)
@@ -0,0 +1,8 @@
+package com.qxy.siegelions.bean
+
+/**
+ * create by libo
+ * create on 2020-05-21
+ * description
+ */
+class MainPageChangeEvent(var page: Int)
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/ui/movie/MovieFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.qxy.siegelions.ui.movie\r\n\r\nimport android.graphics.Color\r\nimport android.os.Bundle\r\nimport android.util.Log\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.ImageButton\r\nimport android.widget.ListView\r\nimport android.widget.TextView\r\nimport androidx.fragment.app.Fragment\r\nimport androidx.lifecycle.ViewModelProvider\r\nimport androidx.room.Room\r\nimport androidx.swiperefreshlayout.widget.SwipeRefreshLayout\r\nimport androidx.swiperefreshlayout.widget.SwipeRefreshLayout.OnRefreshListener\r\nimport com.qxy.siegelions.R\r\nimport com.qxy.siegelions.database.RankingEntryDatabase\r\nimport com.qxy.siegelions.database.RankingVersionDatabase\r\nimport com.qxy.siegelions.databinding.FragmentMovieBinding\r\nimport com.qxy.siegelions.ui.EntryAdapter\r\nimport com.qxy.siegelions.util.RankingGetUtil\r\nimport com.qxy.siegelions.util.RankingVersionGetUtil\r\nimport java.text.SimpleDateFormat\r\nimport java.util.*\r\n\r\nclass MovieFragment : Fragment() {\r\n    private var binding: FragmentMovieBinding? = null\r\n    private lateinit var listView: ListView\r\n    private lateinit var refreshLayout: SwipeRefreshLayout\r\n    private lateinit var showPrev: ImageButton\r\n    private lateinit var showNext: ImageButton\r\n    private lateinit var refreshTime: TextView\r\n    private var entryAdapter: EntryAdapter? = null\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater,\r\n        container: ViewGroup?, savedInstanceState: Bundle?\r\n    ): View? {\r\n        ViewModelProvider(this).get(\r\n            MovieViewModel::class.java\r\n        )\r\n\r\n        binding = FragmentMovieBinding.inflate(inflater, container, false)\r\n        val root: View = binding!!.root\r\n        val view = inflater.inflate(R.layout.fragment_movie, container, false)\r\n        listView = view.findViewById(R.id.list_view)\r\n\r\n        val rankingVersionGetUtil = RankingVersionGetUtil(context)\r\n        rankingVersionGetUtil.saveRankingVersion(1)\r\n\r\n        val rankingEntryDatabase = context?.let {\r\n            Room.databaseBuilder(\r\n                it,\r\n                RankingEntryDatabase::class.java, \"ranking_entry_database\"\r\n            ) //new a database\r\n                .allowMainThreadQueries()\r\n                .build()\r\n        }\r\n        val rankingEntryDao = rankingEntryDatabase?.entryDao\r\n\r\n        val fmt = SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\").format(Date())\r\n        refreshTime = view.findViewById(R.id.info_refresh_date)\r\n        refreshTime.text = \"$fmt 更新\"\r\n\r\n        val rankingVersionDatabase = context?.let {\r\n            Room.databaseBuilder(\r\n                it,\r\n                RankingVersionDatabase::class.java, \"ranking_version_database\"\r\n            ) //new a database\r\n                .allowMainThreadQueries()\r\n                .build()\r\n        }\r\n        val rankingVersionDao = rankingVersionDatabase?.versionDao\r\n\r\n        refreshLayout = view.findViewById(R.id.refresh_layout)\r\n        refreshLayout.setProgressBackgroundColorSchemeColor(Color.LTGRAY) //刷新控件的背景\r\n\r\n        refreshLayout.setOnRefreshListener(OnRefreshListener {\r\n            val rankingGetUtil = RankingGetUtil(context)\r\n            val versionView = view.findViewById(R.id.version_id) as TextView\r\n            val version = versionView.text.toString().toInt()\r\n            val entries = rankingGetUtil.getRankingEntry(1, version)\r\n            val fmt = SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\").format(Date())\r\n            refreshTime = view.findViewById(R.id.info_refresh_date)\r\n            refreshTime.text = \"$fmt 更新\"\r\n            //在获取数据后重新调用适配器设置数据显示\r\n            entryAdapter = EntryAdapter(entries, context)\r\n            listView.adapter = entryAdapter\r\n            //在适配器类中设置数据完毕时，关闭动画\r\n            refreshLayout.isRefreshing = false //关闭刷新动画\r\n        })\r\n\r\n        showPrev = view.findViewById(R.id.show_prev)\r\n        showNext = view.findViewById(R.id.show_next)\r\n\r\n        showPrev.setOnClickListener(View.OnClickListener {\r\n            val rankingGetUtil = RankingGetUtil(context)\r\n            val versionView = view.findViewById(R.id.version_id) as TextView\r\n            val version = versionView.text.toString().toInt()\r\n            val entries = rankingGetUtil.getRankingEntry(1, version - 1)\r\n            versionView.text = (version-1).toString()\r\n            //在获取数据后重新调用适配器设置数据显示\r\n            entryAdapter = EntryAdapter(entries, context)\r\n            listView.adapter = entryAdapter\r\n        })\r\n\r\n        showNext.setOnClickListener(View.OnClickListener {\r\n            val rankingGetUtil = RankingGetUtil(context)\r\n            val versionView = view.findViewById(R.id.version_id) as TextView\r\n            val version = versionView.text.toString().toInt()\r\n            val entries = rankingGetUtil.getRankingEntry(1, version+1)\r\n            versionView.text = (version-1).toString()\r\n            //在获取数据后重新调用适配器设置数据显示\r\n            entryAdapter = EntryAdapter(entries, context)\r\n            listView.adapter = entryAdapter\r\n        })\r\n\r\n        val rankingGetUtil = RankingGetUtil(context)\r\n        val entries = rankingGetUtil.getRankingEntry(1)\r\n\r\n        entryAdapter = EntryAdapter(entries, context)\r\n        listView.adapter = entryAdapter\r\n\r\n        return view\r\n    }\r\n\r\n\r\n    private fun buttonDateClicked(v: View) {\r\n        Log.d(\"Date_button_test\", \"Pressed\")\r\n    }\r\n\r\n    override fun onDestroyView() {\r\n        super.onDestroyView()\r\n        binding = null\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/ui/movie/MovieFragment.kt b/app/src/main/java/com/qxy/siegelions/ui/movie/MovieFragment.kt
--- a/app/src/main/java/com/qxy/siegelions/ui/movie/MovieFragment.kt	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/app/src/main/java/com/qxy/siegelions/ui/movie/MovieFragment.kt	(date 1661103406283)
@@ -19,8 +19,8 @@
 import com.qxy.siegelions.database.RankingVersionDatabase
 import com.qxy.siegelions.databinding.FragmentMovieBinding
 import com.qxy.siegelions.ui.EntryAdapter
-import com.qxy.siegelions.util.RankingGetUtil
-import com.qxy.siegelions.util.RankingVersionGetUtil
+import com.qxy.siegelions.utils.RankingGetUtil
+import com.qxy.siegelions.utils.RankingVersionGetUtil
 import java.text.SimpleDateFormat
 import java.util.*
 
Index: app/src/main/java/com/qxy/siegelions/web/RankingNetGet.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.qxy.siegelions.web\r\n\r\nimport android.annotation.SuppressLint\r\nimport android.content.Context\r\nimport android.os.Build\r\nimport android.util.Log\r\nimport androidx.annotation.RequiresApi\r\nimport com.qxy.siegelions.util.CommonUtil.getSettingNote\r\nimport com.qxy.siegelions.util.CommonUtil.saveSettingNote\r\nimport okhttp3.OkHttpClient\r\nimport org.json.JSONObject\r\nimport org.json.JSONException\r\nimport com.qxy.siegelions.entity.RankingEntry\r\nimport com.google.gson.GsonBuilder\r\nimport com.qxy.siegelions.config.DateDeserializer\r\nimport com.qxy.siegelions.entity.RankingEntryReq\r\nimport com.qxy.siegelions.entity.RankingVersion\r\nimport com.qxy.siegelions.entity.RankingVersionReq\r\nimport com.qxy.siegelions.util.CLIENT_KEY\r\nimport com.qxy.siegelions.util.CLIENT_SECRET\r\nimport okhttp3.Request\r\nimport okhttp3.Response\r\nimport java.io.IOException\r\nimport java.text.SimpleDateFormat\r\nimport java.time.LocalDate\r\nimport java.time.format.DateTimeFormatter\r\nimport java.util.*\r\n\r\n/**\r\n * 榜单接口数据获取及JSON反序列化类\r\n *\r\n * @author MadSamurai\r\n */\r\nclass RankingNetGet(private val context: Context) {\r\n    private fun clientTokenRequest(forceRequest: Boolean): String? {\r\n        var clientToken = getSettingNote(context, \"client_info\", \"client_token\")\r\n        val clientTokenTimeString = getSettingNote(context, \"client_info\", \"client_token_time\")\r\n        val clientTokenTime: Long = clientTokenTimeString?.toLong() ?: 0\r\n        Log.d(\"siegeLions\", \"client_token$clientToken\")\r\n        Log.d(\r\n            \"siegeLions\",\r\n            \"client_token_time\" + clientTokenTime + \" \" + System.currentTimeMillis()\r\n        )\r\n        if (forceRequest\r\n            || System.currentTimeMillis() - clientTokenTime > 7200000L || clientToken == null || clientToken == \"\"\r\n        ) {\r\n            try {\r\n                val client = OkHttpClient() //创建OkHttpClient对象\r\n                val request = Request.Builder()\r\n                    .url(\r\n                        \"https://open.douyin.com/oauth/client_token/?client_key=\" + CLIENT_KEY\r\n                                + \"&client_secret=\" + CLIENT_SECRET + \"&grant_type=client_credential\"\r\n                    )\r\n                    .build()\r\n                val response: Response = client.newCall(request).execute()\r\n                if (response.isSuccessful) {\r\n                    Log.d(\"siegeLions\", \"response.code()==\" + response.code())\r\n                    Log.d(\"siegeLions\", \"response.message()==\" + response.message())\r\n                    assert(response.body() != null)\r\n                    val accessJson = response.body()!!.string()\r\n                    Log.d(\"siegeLions\", \"res==$accessJson\")\r\n                    val jsonObject = JSONObject(accessJson)\r\n                    clientToken = jsonObject.getJSONObject(\"data\").getString(\"access_token\")\r\n                    val dataMap = HashMap<String?, String?>()\r\n                    dataMap[\"client_token\"] = clientToken\r\n                    dataMap[\"client_token_time\"] = System.currentTimeMillis().toString() + \"\"\r\n                    saveSettingNote(context, \"client_info\", dataMap)\r\n                }\r\n            } catch (e: IOException) {\r\n                e.printStackTrace()\r\n            } catch (e: JSONException) {\r\n                e.printStackTrace()\r\n            }\r\n        }\r\n        return clientToken\r\n    }\r\n\r\n    /**\r\n     * 从抖音接口获取排名信息\r\n     *\r\n     * @param type    榜单类型\r\n     * @param version 榜单的版本号（可为空，即查询当前榜单）\r\n     */\r\n    @SuppressLint(\"SimpleDateFormat\")\r\n    fun getRanking(type: Int, version: Int): RankingEntryReq? {\r\n        val accessToken = clientTokenRequest(false)\r\n        var rankingJson: String? = null\r\n        try {\r\n            val client = OkHttpClient()\r\n            var request = accessToken?.let {\r\n                Request.Builder()\r\n                    .header(\"Content-Type\", \"application/json\")\r\n                    .header(\"access-token\", it)\r\n                    .url(\"https://open.douyin.com/discovery/ent/rank/item/?type=$type&version=$version\")\r\n                    .build()\r\n            }\r\n            var response: Response\r\n            response = request?.let { client.newCall(it).execute() }!! //得到Response 对象\r\n            if (response.isSuccessful) {\r\n                Log.d(\"siegeLions\", \"response.code()==\" + response.code())\r\n                Log.d(\"siegeLions\", \"response.message()==\" + response.message())\r\n                assert(response.body() != null)\r\n                rankingJson = response.body()!!.string()\r\n                Log.d(\"siegeLions\", \"res==$rankingJson\")\r\n            } else {\r\n                clientTokenRequest(true)\r\n                if(version == -1) {\r\n                    request = accessToken?.let {\r\n                        Request.Builder()\r\n                            .header(\"Content-Type\", \"application/json\")\r\n                            .header(\"access-token\", it)\r\n                            .url(\"https://open.douyin.com/discovery/ent/rank/item/?type=$type&version=\")\r\n                            .build()\r\n                    }\r\n                } else {\r\n                    request = accessToken?.let {\r\n                        Request.Builder()\r\n                            .header(\"Content-Type\", \"application/json\")\r\n                            .header(\"access-token\", it)\r\n                            .url(\"https://open.douyin.com/discovery/ent/rank/item/?type=$type&version=$version\")\r\n                            .build()\r\n                    }\r\n                }\r\n                response = request?.let { client.newCall(it).execute() }!! //得到Response 对象\r\n                if (response.isSuccessful) {\r\n                    Log.d(\"siegeLions\", \"response.code()==\" + response.code())\r\n                    Log.d(\"siegeLions\", \"response.message()==\" + response.message())\r\n                    assert(response.body() != null)\r\n                    rankingJson = response.body()!!.string()\r\n                    Log.d(\"siegeLions\", \"res==$rankingJson\")\r\n                }\r\n            }\r\n        } catch (e: IOException) {\r\n            e.printStackTrace()\r\n        }\r\n        var listJson: String? = null\r\n        var activeTime = Date()\r\n        try {\r\n            assert(rankingJson != null)\r\n            val dataJson = rankingJson?.let { JSONObject(it) }?.get(\"data\") as JSONObject\r\n            listJson = dataJson[\"list\"].toString()\r\n            val simpleDateFormat = SimpleDateFormat(\"yyyy-MM-dd\")\r\n            activeTime = simpleDateFormat.parse(dataJson[\"active_time\"].toString()) as Date\r\n\r\n            Log.d(\"get listJson\", \"list: $listJson\")\r\n            Log.d(\"get activeTime\", \"activeTime: $activeTime\")\r\n        } catch (e: JSONException) {\r\n            e.printStackTrace()\r\n        }\r\n        val gsonBuilder = GsonBuilder()\r\n        gsonBuilder.registerTypeAdapter(Date::class.java, DateDeserializer())\r\n        val gson = gsonBuilder\r\n            .setDateFormat(\"yyyy-MM-dd\")\r\n            .create()\r\n        val rankingEntries = gson.fromJson(listJson, Array<RankingEntry>::class.java)\r\n            ?: return null\r\n        for (i in rankingEntries.indices) {\r\n            rankingEntries[i].rank = i + 1\r\n        }\r\n        return RankingEntryReq(\r\n            activeTime,\r\n            rankingEntries\r\n        )\r\n    }\r\n\r\n    /**\r\n     * 从抖音接口获取当前排名信息\r\n     *\r\n     * @param type 榜单类型\r\n     */\r\n    fun getRanking(type: Int): RankingEntryReq? {\r\n        return this.getRanking(type, -1)\r\n    }\r\n\r\n    /**\r\n     * 从抖音接口获取榜单对应编号信息\r\n     *\r\n     * @param cursor 获取起点\r\n     * @param count  获取个数，不建议太大\r\n     * @param type   榜单类型\r\n     */\r\n    fun getRankingVersion(cursor: Long, count: Int, type: Int): RankingVersionReq {\r\n        val accessToken = clientTokenRequest(false)\r\n        var rankingJson: String? = null\r\n        try {\r\n            val client = OkHttpClient()\r\n            var request = accessToken?.let {\r\n                Request.Builder()\r\n                    .header(\"Content-Type\", \"application/json\")\r\n                    .header(\"access-token\", it)\r\n                    .url(\"https://open.douyin.com/discovery/ent/rank/version/?cursor=$cursor&count=$count&type=$type\")\r\n                    .build()\r\n            }\r\n            var response: Response\r\n            response = request?.let { client.newCall(it).execute() }!!\r\n            if (response.isSuccessful) {\r\n                Log.d(\"siegeLions\", \"response.code()==\" + response.code())\r\n                Log.d(\"siegeLions\", \"response.message()==\" + response.message())\r\n                assert(response.body() != null)\r\n                rankingJson = response.body()!!.string()\r\n                Log.d(\"siegeLions\", \"res==$rankingJson\")\r\n            } else {\r\n                clientTokenRequest(true)\r\n                request = accessToken?.let {\r\n                    Request.Builder()\r\n                        .header(\"Content-Type\", \"application/json\")\r\n                        .header(\"access-token\", it)\r\n                        .url(\"https://open.douyin.com/discovery/ent/rank/version/?cursor=$cursor&count=$count&type=$type\")\r\n                        .build()\r\n                }\r\n                response = request?.let { client.newCall(it).execute() }!!\r\n                if (response.isSuccessful) {\r\n                    Log.d(\"siegeLions\", \"response.code()==\" + response.code())\r\n                    Log.d(\"siegeLions\", \"response.message()==\" + response.message())\r\n                    assert(response.body() != null)\r\n                    rankingJson = response.body()!!.string()\r\n                    Log.d(\"siegeLions\", \"res==$rankingJson\")\r\n                }\r\n            }\r\n        } catch (e: IOException) {\r\n            e.printStackTrace()\r\n        }\r\n        var listJson: String? = null\r\n        var cursorGet = 0\r\n        var hasMore: Boolean? = null\r\n        try {\r\n            assert(rankingJson != null)\r\n            val dataJson = rankingJson?.let { JSONObject(it) }?.get(\"data\") as JSONObject\r\n            listJson = dataJson[\"list\"].toString()\r\n            Log.d(\"siegeLions\", \"list$listJson\")\r\n            cursorGet = dataJson[\"cursor\"] as Int\r\n            hasMore = dataJson[\"has_more\"] as Boolean\r\n        } catch (e: JSONException) {\r\n            e.printStackTrace()\r\n        }\r\n\r\n        val gsonBuilder = GsonBuilder()\r\n        gsonBuilder.registerTypeAdapter(Date::class.java, DateDeserializer())\r\n        val gson = gsonBuilder\r\n            .setDateFormat(\"yyyy-MM-dd\")\r\n            .create()\r\n        return RankingVersionReq(\r\n            cursorGet,\r\n            hasMore,\r\n            gson.fromJson(listJson, Array<RankingVersion>::class.java)\r\n        )\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/web/RankingNetGet.kt b/app/src/main/java/com/qxy/siegelions/web/RankingNetGet.kt
--- a/app/src/main/java/com/qxy/siegelions/web/RankingNetGet.kt	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/app/src/main/java/com/qxy/siegelions/web/RankingNetGet.kt	(date 1661103406381)
@@ -2,11 +2,9 @@
 
 import android.annotation.SuppressLint
 import android.content.Context
-import android.os.Build
 import android.util.Log
-import androidx.annotation.RequiresApi
-import com.qxy.siegelions.util.CommonUtil.getSettingNote
-import com.qxy.siegelions.util.CommonUtil.saveSettingNote
+import com.qxy.siegelions.utils.CommonUtil.getSettingNote
+import com.qxy.siegelions.utils.CommonUtil.saveSettingNote
 import okhttp3.OkHttpClient
 import org.json.JSONObject
 import org.json.JSONException
@@ -16,14 +14,12 @@
 import com.qxy.siegelions.entity.RankingEntryReq
 import com.qxy.siegelions.entity.RankingVersion
 import com.qxy.siegelions.entity.RankingVersionReq
-import com.qxy.siegelions.util.CLIENT_KEY
-import com.qxy.siegelions.util.CLIENT_SECRET
+import com.qxy.siegelions.utils.CLIENT_KEY
+import com.qxy.siegelions.utils.CLIENT_SECRET
 import okhttp3.Request
 import okhttp3.Response
 import java.io.IOException
 import java.text.SimpleDateFormat
-import java.time.LocalDate
-import java.time.format.DateTimeFormatter
 import java.util.*
 
 /**
Index: app/src/main/java/com/qxy/siegelions/ui/EntryAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.qxy.siegelions.ui;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.graphics.Bitmap;\r\nimport android.graphics.BitmapFactory;\r\nimport android.os.Handler;\r\nimport android.os.Message;\r\nimport android.text.TextUtils;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.BaseAdapter;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport com.qxy.siegelions.R;\r\nimport com.qxy.siegelions.entity.RankingEntry;\r\nimport com.qxy.siegelions.util.ImageCacheUtil;\r\n\r\nimport java.io.BufferedInputStream;\r\nimport java.io.BufferedOutputStream;\r\nimport java.io.ByteArrayOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.net.URL;\r\nimport java.util.Objects;\r\n\r\npublic class EntryAdapter extends BaseAdapter {\r\n    private RankingEntry[] mRankingEntry;\r\n    private Context mContext;\r\n\r\n    public EntryAdapter(RankingEntry[] mRankingEntry, Context mContext) {\r\n        this.mRankingEntry = mRankingEntry;\r\n        this.mContext = mContext;\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n        return mRankingEntry.length;\r\n    }\r\n\r\n    @Override\r\n    public Object getItem(int position) {\r\n        return mRankingEntry[position];\r\n    }\r\n\r\n    @Override\r\n    public long getItemId(int position) {\r\n        return position;\r\n    }\r\n\r\n    @SuppressLint(\"SetTextI18n\")\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        ViewHolder viewHolder;\r\n        if (convertView == null) {\r\n            convertView = LayoutInflater.from(mContext).inflate(R.layout.list_item, parent, false);\r\n            viewHolder = new ViewHolder();\r\n            viewHolder.info_item_title = (TextView) convertView.findViewById(R.id.info_item_title);\r\n            viewHolder.info_en_title = (TextView) convertView.findViewById(R.id.info_en_title);\r\n            viewHolder.info_director = (TextView) convertView.findViewById(R.id.info_director);\r\n            viewHolder.poster = (ImageView) convertView.findViewById(R.id.poster);\r\n            viewHolder.info_date = (TextView) convertView.findViewById(R.id.info_date);\r\n            viewHolder.info_hot = (TextView) convertView.findViewById(R.id.info_hot);\r\n            viewHolder.tags = (TextView) convertView.findViewById(R.id.info_tags);\r\n            convertView.setTag(viewHolder);\r\n        } else {\r\n            viewHolder = (ViewHolder) convertView.getTag();\r\n        }\r\n        RankingEntry rankingEntry = mRankingEntry[position];\r\n\r\n        StringBuilder directors = new StringBuilder(\"\");\r\n        if (rankingEntry.getDirectors() == null)\r\n            directors = new StringBuilder(\"未知\");\r\n        else\r\n            for (String director : Objects.requireNonNull(rankingEntry.getDirectors())) {\r\n                if (directors.length()+director.length() > 11) {\r\n                    directors.append(director).append(\"等\");\r\n                    break;\r\n                }\r\n                directors.append(director).append(\" \");\r\n            }\r\n        viewHolder.info_item_title.setText(rankingEntry.getNameCN());\r\n        setTextMarquee(viewHolder.info_item_title);\r\n\r\n        viewHolder.info_en_title.setText(rankingEntry.getNameEN());\r\n        setTextMarquee(viewHolder.info_en_title);\r\n\r\n        viewHolder.info_director.setText(\"导演：\" + directors);\r\n\r\n        String date = String.format(\"%tF\", rankingEntry.getReleaseDate());\r\n        viewHolder.info_date.setText((date.equals(\"null\")) ? \"上映日期未知\" : date + \" 上映\");\r\n        viewHolder.info_hot.setText(\"热度：\" + String.format(\"%.1f\", rankingEntry.getHot() / 10000.00) + \"万\");\r\n\r\n        viewHolder.poster.setTag(rankingEntry.getPoster());\r\n        viewHolder.poster.setImageResource(R.drawable.ic_launcher_foreground);\r\n\r\n        asyncLoadImage(viewHolder.poster, rankingEntry.getPoster());\r\n        Log.d(\"movie: \", rankingEntry.getNameCN()+rankingEntry.getPoster());\r\n\r\n        StringBuilder tags = new StringBuilder(\"\");\r\n        if (rankingEntry.getTags() == null)\r\n            tags.append(\"未知\");\r\n        else {\r\n            for (String tag : Objects.requireNonNull(rankingEntry.getTags())) {\r\n                if (tags.length()+tag.length() > 12) {\r\n                    tags.append(tag).append(\"等\");\r\n                    break;\r\n                }\r\n                tags.append(tag).append(\"/\");\r\n            }\r\n            viewHolder.tags.setText(tags.substring(0, tags.length() - 1));\r\n        }\r\n\r\n        return convertView;\r\n    }\r\n\r\n    private class ViewHolder {\r\n        TextView info_item_title;\r\n        TextView info_en_title;\r\n        TextView info_director;\r\n        ImageView poster;\r\n        TextView info_date;\r\n        TextView info_hot;\r\n        ImageView rank_image;\r\n        TextView tags;\r\n    }\r\n\r\n    public static void setTextMarquee(TextView textView) {\r\n        if (textView != null) {\r\n            textView.setEllipsize(TextUtils.TruncateAt.MARQUEE);\r\n            textView.setSingleLine(true);\r\n            textView.setSelected(true);\r\n            textView.setFocusable(true);\r\n            textView.setFocusableInTouchMode(true);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * @param url 　本地或网络的url\r\n     * @return url的bitmap\r\n     */\r\n    public Bitmap getLocalOrNetBitmap(String url) {\r\n        Bitmap bitmap = BitmapFactory.decodeResource(this.mContext.getResources(), R.drawable.ic_launcher_foreground);\r\n        if (url != null) {\r\n            InputStream in = null;\r\n            BufferedOutputStream out = null;\r\n            try {\r\n                in = new BufferedInputStream(new URL(url).openStream(), 2 * 1024);\r\n                final ByteArrayOutputStream dataStream = new ByteArrayOutputStream();\r\n                out = new BufferedOutputStream(dataStream, 2 * 1024);\r\n                byte[] b = new byte[1024];\r\n                int read;\r\n                while ((read = in.read(b)) != -1) {\r\n                    out.write(b, 0, read);\r\n                }\r\n                out.flush();\r\n                byte[] data = dataStream.toByteArray();\r\n                bitmap = BitmapFactory.decodeByteArray(data, 0, data.length);\r\n                data = null;\r\n                return bitmap;\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                return bitmap;\r\n            }\r\n        }\r\n        return bitmap;\r\n    }\r\n\r\n    private void asyncLoadImage(final ImageView imageView, final String uri) {\r\n        final Handler mHandler = new Handler() {\r\n            @Override\r\n            public void handleMessage(Message msg) {\r\n                super.handleMessage(msg);\r\n                if (msg.what == 1) {\r\n                    Bitmap bitmap = (Bitmap) msg.obj;\r\n                    if (imageView.getTag() != null && imageView.getTag().equals(uri)) {\r\n                        imageView.setImageBitmap(bitmap);\r\n                    }\r\n\r\n                }\r\n            }\r\n        };\r\n        // 子线程，开启子线程去下载或者去缓存目录找图片，并且返回图片在缓存目录的地址\r\n        Runnable runnable = () -> {\r\n            try {\r\n                //这个URI是图片下载到本地后的缓存目录中的URI\r\n                ImageCacheUtil imageCacheUtil = new ImageCacheUtil(mContext);\r\n                if (uri != null) {\r\n                    Bitmap bitmap = imageCacheUtil.getBitmap(uri);\r\n                    if (bitmap == null) {\r\n                        bitmap = getLocalOrNetBitmap(uri);\r\n                        imageCacheUtil.putBitmap(uri, bitmap);\r\n                    }\r\n                    Message msg = new Message();\r\n                    msg.what = 1;\r\n                    msg.obj = bitmap;\r\n                    mHandler.sendMessage(msg);\r\n                }\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        };\r\n        new Thread(runnable).start();\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/ui/EntryAdapter.java b/app/src/main/java/com/qxy/siegelions/ui/EntryAdapter.java
--- a/app/src/main/java/com/qxy/siegelions/ui/EntryAdapter.java	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/app/src/main/java/com/qxy/siegelions/ui/EntryAdapter.java	(date 1661103406361)
@@ -17,7 +17,7 @@
 
 import com.qxy.siegelions.R;
 import com.qxy.siegelions.entity.RankingEntry;
-import com.qxy.siegelions.util.ImageCacheUtil;
+import com.qxy.siegelions.utils.ImageCacheUtil;
 
 import java.io.BufferedInputStream;
 import java.io.BufferedOutputStream;
Index: app/src/main/res/drawable/shape_round_halfwhite.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/drawable/shape_round_halfwhite.xml b/app/src/main/res/drawable/shape_round_halfwhite.xml
new file mode 100644
--- /dev/null	(date 1624607919000)
+++ b/app/src/main/res/drawable/shape_round_halfwhite.xml	(date 1624607919000)
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android">
+    <solid android:color="#1fff"/>
+
+    <corners android:radius="2dp"/>
+</shape>
\ No newline at end of file
Index: app/src/main/res/drawable/shape_circle_halfwhite.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/drawable/shape_circle_halfwhite.xml b/app/src/main/res/drawable/shape_circle_halfwhite.xml
new file mode 100644
--- /dev/null	(date 1624607919000)
+++ b/app/src/main/res/drawable/shape_circle_halfwhite.xml	(date 1624607919000)
@@ -0,0 +1,6 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android">
+    <solid android:color="#2fff"/>
+
+    <corners android:radius="16dp"/>
+</shape>
\ No newline at end of file
Index: app/src/main/res/drawable/shape_top_round_white.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/drawable/shape_top_round_white.xml b/app/src/main/res/drawable/shape_top_round_white.xml
new file mode 100644
--- /dev/null	(date 1624607919000)
+++ b/app/src/main/res/drawable/shape_top_round_white.xml	(date 1624607919000)
@@ -0,0 +1,7 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape xmlns:android="http://schemas.android.com/apk/res/android">
+    <solid android:color="@color/white"/>
+
+    <corners android:topLeftRadius="12dp" android:topRightRadius="12dp"
+        android:bottomLeftRadius="0dp" android:bottomRightRadius="0dp"/>
+</shape>
\ No newline at end of file
Index: gradle.properties
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+># Project-wide Gradle settings.\r\n# IDE (e.g. Android Studio) users:\r\n# Gradle settings configured through the IDE *will override*\r\n# any settings specified in this file.\r\n# For more details on how to configure your build environment visit\r\n# http://www.gradle.org/docs/current/userguide/build_environment.html\r\n# Specifies the JVM arguments used for the daemon process.\r\n# The setting is particularly useful for tweaking memory settings.\r\norg.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8\r\n# When configured, Gradle will run in incubating parallel mode.\r\n# This option should only be used with decoupled projects. More details, visit\r\n# http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects\r\n# org.gradle.parallel=true\r\n# AndroidX package structure to make it clearer which packages are bundled with the\r\n# Android operating system, and which are packaged with your app\"s APK\r\n# https://developer.android.com/topic/libraries/support-library/androidx-rn\r\nandroid.useAndroidX=true\r\n# Kotlin code style for this project: \"official\" or \"obsolete\":\r\nkotlin.code.style=official\r\n# Enables namespacing of each library's R class so that its R class includes only the\r\n# resources declared in the library itself and none from the library's dependencies,\r\n# thereby reducing the size of the R class for that library\r\nandroid.nonTransitiveRClass=true\r\n\r\nandroid.injected.testOnly=false\r\n\r\norg.gradle.parallel=true\r\norg.gradle.configureondemand=true
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>ISO-8859-1
===================================================================
diff --git a/gradle.properties b/gradle.properties
--- a/gradle.properties	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/gradle.properties	(date 1661109268347)
@@ -1,28 +1,21 @@
-# Project-wide Gradle settings.
-# IDE (e.g. Android Studio) users:
-# Gradle settings configured through the IDE *will override*
-# any settings specified in this file.
-# For more details on how to configure your build environment visit
+## For more details on how to configure your build environment visit
 # http://www.gradle.org/docs/current/userguide/build_environment.html
+#
 # Specifies the JVM arguments used for the daemon process.
 # The setting is particularly useful for tweaking memory settings.
-org.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8
+# Default value: -Xmx1024m -XX:MaxPermSize=256m
+# org.gradle.jvmargs=-Xmx2048m -XX:MaxPermSize=512m -XX:+HeapDumpOnOutOfMemoryError -Dfile.encoding=UTF-8
+#
 # When configured, Gradle will run in incubating parallel mode.
 # This option should only be used with decoupled projects. More details, visit
 # http://www.gradle.org/docs/current/userguide/multi_project_builds.html#sec:decoupled_projects
 # org.gradle.parallel=true
-# AndroidX package structure to make it clearer which packages are bundled with the
-# Android operating system, and which are packaged with your app"s APK
-# https://developer.android.com/topic/libraries/support-library/androidx-rn
-android.useAndroidX=true
-# Kotlin code style for this project: "official" or "obsolete":
-kotlin.code.style=official
-# Enables namespacing of each library's R class so that its R class includes only the
-# resources declared in the library itself and none from the library's dependencies,
-# thereby reducing the size of the R class for that library
+#Mon Aug 22 03:14:28 CST 2022
 android.nonTransitiveRClass=true
-
-android.injected.testOnly=false
-
+kotlin.code.style=official
 org.gradle.parallel=true
-org.gradle.configureondemand=true
\ No newline at end of file
+android.injected.testOnly=false
+org.gradle.jvmargs=-Xmx2048m -Dfile.encoding\=UTF-8
+org.gradle.configureondemand=true
+android.useAndroidX=true
+android.enableJetifier=true
Index: app/src/main/res/drawable/shape_round_red.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/drawable/shape_round_red.xml b/app/src/main/res/drawable/shape_round_red.xml
new file mode 100644
--- /dev/null	(date 1624607919000)
+++ b/app/src/main/res/drawable/shape_round_red.xml	(date 1624607919000)
@@ -0,0 +1,8 @@
+<?xml version="1.0" encoding="utf-8"?>
+<shape
+    xmlns:android="http://schemas.android.com/apk/res/android">
+    <corners android:radius="2dp"/>
+
+    <solid android:color="@color/color_FF0041"/>
+
+</shape>
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/util/RankingGetUtil.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/util/RankingGetUtil.java b/app/src/main/java/com/qxy/siegelions/utils/RankingGetUtil.java
rename from app/src/main/java/com/qxy/siegelions/util/RankingGetUtil.java
rename to app/src/main/java/com/qxy/siegelions/utils/RankingGetUtil.java
--- a/app/src/main/java/com/qxy/siegelions/util/RankingGetUtil.java	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/app/src/main/java/com/qxy/siegelions/utils/RankingGetUtil.java	(date 1661103406299)
@@ -1,7 +1,6 @@
-package com.qxy.siegelions.util;
+package com.qxy.siegelions.utils;
 
 import android.content.Context;
-import android.os.Looper;
 import android.util.Log;
 import android.widget.Toast;
 
@@ -16,7 +15,6 @@
 import com.qxy.siegelions.web.RankingNetGet;
 
 import java.util.Date;
-import java.util.Objects;
 
 public class RankingGetUtil {
     private final Context mContext;
Index: app/src/main/java/com/qxy/siegelions/util/Key.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/util/Key.kt b/app/src/main/java/com/qxy/siegelions/utils/Key.kt
rename from app/src/main/java/com/qxy/siegelions/util/Key.kt
rename to app/src/main/java/com/qxy/siegelions/utils/Key.kt
--- a/app/src/main/java/com/qxy/siegelions/util/Key.kt	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/app/src/main/java/com/qxy/siegelions/utils/Key.kt	(date 1661103406401)
@@ -1,4 +1,4 @@
-package com.qxy.siegelions.util
+package com.qxy.siegelions.utils
 
 const val CLIENT_KEY = "aw3y7e71ayi4b23h"
 const val CLIENT_SECRET = "9a169c079dd4a023e9273b817e805fa7"
Index: app/src/main/java/com/qxy/siegelions/adapter/WorkAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/adapter/WorkAdapter.java b/app/src/main/java/com/qxy/siegelions/adapter/WorkAdapter.java
new file mode 100644
--- /dev/null	(date 1661103872360)
+++ b/app/src/main/java/com/qxy/siegelions/adapter/WorkAdapter.java	(date 1661103872360)
@@ -0,0 +1,64 @@
+package com.qxy.siegelions.adapter;
+
+import android.content.Context;
+import android.content.Intent;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.ImageView;
+import android.widget.TextView;
+
+import androidx.annotation.NonNull;
+
+import com.qxy.siegelions.R;
+import com.qxy.siegelions.activity.PlayListActivity;
+import com.qxy.siegelions.base.BaseRvAdapter;
+import com.qxy.siegelions.base.BaseRvViewHolder;
+import com.qxy.siegelions.bean.VideoBean;
+import com.qxy.siegelions.utils.NumUtils;
+
+import java.util.List;
+
+import butterknife.BindView;
+
+/**
+ * create by libo
+ * create on 2020-05-21
+ * description
+ */
+public class WorkAdapter extends BaseRvAdapter<VideoBean, WorkAdapter.WorkViewHolder> {
+
+    public WorkAdapter(Context context, List<VideoBean> datas) {
+        super(context, datas);
+    }
+
+    @Override
+    protected void onBindData(WorkViewHolder holder, VideoBean videoBean, int position) {
+        holder.ivCover.setImageResource(videoBean.getCoverRes());
+        holder.tvLikeCount.setText(NumUtils.numberFilter(videoBean.getLikeCount()));
+
+        holder.itemView.setOnClickListener(v -> {
+            PlayListActivity.initPos = position;
+            getContext().startActivity(new Intent(getContext(), PlayListActivity.class));
+        });
+    }
+
+    @NonNull
+    @Override
+    public WorkViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
+        View rooView = LayoutInflater.from(getContext()).inflate(R.layout.item_work, parent, false);
+        return new WorkViewHolder(rooView);
+    }
+
+    public class WorkViewHolder extends BaseRvViewHolder {
+        @BindView(R.id.iv_cover)
+        ImageView ivCover;
+        @BindView(R.id.tv_likecount)
+        TextView tvLikeCount;
+
+        public WorkViewHolder(View itemView) {
+            super(itemView);
+        }
+    }
+
+}
Index: app/src/main/res/values/colors.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<resources>\r\n    <color name=\"purple_200\">#FFBB86FC</color>\r\n    <color name=\"purple_500\">#FF6200EE</color>\r\n    <color name=\"purple_700\">#FF3700B3</color>\r\n    <color name=\"teal_200\">#FF03DAC5</color>\r\n    <color name=\"teal_700\">#FF018786</color>\r\n    <color name=\"black\">#FF000000</color>\r\n    <color name=\"white\">#FFFFFFFF</color>\r\n    <color name=\"colorPrimary\">#008577</color>\r\n    <color name=\"colorPrimaryDark\">#00574B</color>\r\n    <color name=\"colorAccent\">#D81B60</color>\r\n\r\n    <color name=\"gray\">#21252a</color>\r\n    <color name=\"orange\">#ff8c6a</color>\r\n    <color name=\"blue\">#ff14445a</color>\r\n</resources>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/colors.xml b/app/src/main/res/values/colors.xml
--- a/app/src/main/res/values/colors.xml	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/app/src/main/res/values/colors.xml	(date 1661108985861)
@@ -14,4 +14,18 @@
     <color name="gray">#21252a</color>
     <color name="orange">#ff8c6a</color>
     <color name="blue">#ff14445a</color>
+
+    <color name="color_bg_theme">#161924</color>
+    <color name="transparent">#00000000</color>
+    <color name="color_FF0041">#ff2c54</color>
+    <color name="color_tag">#9B9B9B</color>
+    <color name="color_link">#FFDDA4</color>
+    <color name="color_00BC1B">#00BC1B</color>
+    <color name="light_gray">#fff5f5f5</color>
+
+    <color name="color_weibo_iconbg">#EF1200</color>
+    <color name="color_wechat_iconbg">#00BC1B</color>
+    <color name="color_qq_iconbg">#12B7F5</color>
+    <color name="color_qqzone_iconbg">#FF9F00</color>
+    <color name="color_more_iconbg">#256EB2</color>
 </resources>
\ No newline at end of file
Index: app/src/main/res/values/styles.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><resources>\r\n\r\n    <!-- Base application theme. -->\r\n    <style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\">\r\n        <!-- Customize your theme here. -->\r\n    </style>\r\n\r\n    <style name=\"TextViewProfileToolbarTitle\">\r\n        <item name=\"android:textStyle\">bold</item>\r\n        <item name=\"android:layout_gravity\">center</item>\r\n        <item name=\"android:textSize\">@dimen/text_size_profile_toolbar_title</item>\r\n        <item name=\"android:layout_width\">100dp</item>\r\n        <item name=\"android:gravity\">center</item>\r\n        <item name=\"android:layout_height\">match_parent</item>\r\n    </style>\r\n\r\n</resources>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/values/styles.xml b/app/src/main/res/values/styles.xml
--- a/app/src/main/res/values/styles.xml	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/app/src/main/res/values/styles.xml	(date 1661111663892)
@@ -3,6 +3,9 @@
     <!-- Base application theme. -->
     <style name="AppTheme" parent="Theme.AppCompat.Light.NoActionBar">
         <!-- Customize your theme here. -->
+        <item name="colorPrimary">@color/color_bg_theme</item>
+        <item name="colorPrimaryDark">@color/color_bg_theme</item>
+        <item name="colorAccent">@color/colorAccent</item>
     </style>
 
     <style name="TextViewProfileToolbarTitle">
@@ -13,5 +16,32 @@
         <item name="android:gravity">center</item>
         <item name="android:layout_height">match_parent</item>
     </style>
+
+    <style name="MyDialog" parent="AlertDialog.AppCompat">
+        <item name="android:windowIsFloating">false</item>
+        <item name="android:windowFrame">@null</item>
+        <item name="android:windowIsTranslucent">true</item>
+        <item name="android:background">@color/transparent</item>
+        <item name="android:windowBackground">@color/transparent</item>
+        <item name="android:backgroundDimEnabled">false</item>
+        <item name="android:windowAnimationStyle">@style/dialog_animation</item>
+        <item name="android:statusBarColor">@color/transparent</item>
+    </style>
+
+    <style name="dialog_animation" parent="android:Animation">
+        <item name="android:windowEnterAnimation">@anim/dialog_enter</item>
+        <item name="android:windowExitAnimation">@anim/dialog_exit</item>
+    </style>
+
+    <style name="basedialog_style" parent="@android:style/Theme.Dialog">
+        <item name="android:windowFrame">@null</item>
+        <item name="android:windowIsFloating">true</item>
+        <item name="android:windowIsTranslucent">true</item>
+        <item name="android:windowNoTitle">true</item>
+        <item name="android:background">@color/transparent</item>
+        <item name="android:windowBackground">@color/transparent</item>
+        <item name="android:backgroundDimAmount">0.6</item>
+        <item name="android:backgroundDimEnabled">true</item>
+    </style>
 
 </resources>
Index: app/src/main/java/com/qxy/siegelions/adapter/PrivateLetterAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/adapter/PrivateLetterAdapter.java b/app/src/main/java/com/qxy/siegelions/adapter/PrivateLetterAdapter.java
new file mode 100644
--- /dev/null	(date 1661103872457)
+++ b/app/src/main/java/com/qxy/siegelions/adapter/PrivateLetterAdapter.java	(date 1661103872457)
@@ -0,0 +1,55 @@
+package com.qxy.siegelions.adapter;
+
+import android.content.Context;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.ImageView;
+import android.widget.TextView;
+
+import androidx.annotation.NonNull;
+
+import com.qxy.siegelions.R;
+import com.qxy.siegelions.base.BaseRvAdapter;
+import com.qxy.siegelions.base.BaseRvViewHolder;
+import com.qxy.siegelions.bean.VideoBean;
+
+import java.util.List;
+
+import butterknife.BindView;
+
+/**
+ * create by libo
+ * create on 2020-05-25
+ * description
+ */
+public class PrivateLetterAdapter extends BaseRvAdapter<VideoBean.UserBean, PrivateLetterAdapter.PrivateLetterViewHolder> {
+
+    public PrivateLetterAdapter(Context context, List<VideoBean.UserBean> datas) {
+        super(context, datas);
+    }
+
+    @Override
+    protected void onBindData(PrivateLetterViewHolder holder, VideoBean.UserBean userBean, int position) {
+        holder.ivHead.setImageResource(userBean.getHead());
+        holder.tvName.setText(userBean.getNickName());
+    }
+
+    @NonNull
+    @Override
+    public PrivateLetterViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
+        View view = LayoutInflater.from(getContext()).inflate(R.layout.item_private_letter,parent, false);
+        return new PrivateLetterViewHolder(view);
+    }
+
+    public class PrivateLetterViewHolder extends BaseRvViewHolder {
+        @BindView(R.id.iv_head)
+        ImageView ivHead;
+        @BindView(R.id.tv_nickname)
+        TextView tvName;
+
+        public PrivateLetterViewHolder(View itemView) {
+            super(itemView);
+        }
+    }
+}
Index: app/src/main/java/com/qxy/siegelions/adapter/CommentAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/adapter/CommentAdapter.java b/app/src/main/java/com/qxy/siegelions/adapter/CommentAdapter.java
new file mode 100644
--- /dev/null	(date 1661103918183)
+++ b/app/src/main/java/com/qxy/siegelions/adapter/CommentAdapter.java	(date 1661103918183)
@@ -0,0 +1,62 @@
+package com.qxy.siegelions.adapter;
+
+import android.content.Context;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.TextView;
+
+import androidx.annotation.NonNull;
+
+import com.qxy.siegelions.R;
+import com.qxy.siegelions.base.BaseRvAdapter;
+import com.qxy.siegelions.base.BaseRvViewHolder;
+import com.qxy.siegelions.bean.CommentBean;
+import com.qxy.siegelions.utils.NumUtils;
+import com.qxy.siegelions.view.CircleImageView;
+
+import java.util.List;
+
+import butterknife.BindView;
+
+/**
+ * create by libo
+ * create on 2020-05-24
+ * description
+ */
+public class CommentAdapter extends BaseRvAdapter<CommentBean, CommentAdapter.CommentViewHolder> {
+
+    public CommentAdapter(Context context, List<CommentBean> datas) {
+        super(context, datas);
+    }
+
+    @Override
+    protected void onBindData(CommentViewHolder holder, CommentBean commentBean, int position) {
+        holder.ivHead.setImageResource(commentBean.getUserBean().getHead());
+        holder.tvNickname.setText(commentBean.getUserBean().getNickName());
+        holder.tvContent.setText(commentBean.getContent());
+        holder.tvLikecount.setText(NumUtils.numberFilter(commentBean.getLikeCount()));
+    }
+
+    @NonNull
+    @Override
+    public CommentViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
+        View view = LayoutInflater.from(getContext()).inflate(R.layout.item_comment, parent, false);
+        return new CommentViewHolder(view);
+    }
+
+    public class CommentViewHolder extends BaseRvViewHolder {
+        @BindView(R.id.iv_head)
+        CircleImageView ivHead;
+        @BindView(R.id.tv_nickname)
+        TextView tvNickname;
+        @BindView(R.id.tv_content)
+        TextView tvContent;
+        @BindView(R.id.tv_likecount)
+        TextView tvLikecount;
+
+        public CommentViewHolder(View itemView) {
+            super(itemView);
+        }
+    }
+}
Index: app/src/main/java/com/qxy/siegelions/adapter/VideoAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/adapter/VideoAdapter.java b/app/src/main/java/com/qxy/siegelions/adapter/VideoAdapter.java
new file mode 100644
--- /dev/null	(date 1661103872391)
+++ b/app/src/main/java/com/qxy/siegelions/adapter/VideoAdapter.java	(date 1661103872391)
@@ -0,0 +1,69 @@
+package com.qxy.siegelions.adapter;
+
+import android.content.Context;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.ImageView;
+
+import androidx.annotation.NonNull;
+
+import com.qxy.siegelions.R;
+import com.qxy.siegelions.base.BaseRvAdapter;
+import com.qxy.siegelions.base.BaseRvViewHolder;
+import com.qxy.siegelions.bean.VideoBean;
+import com.qxy.siegelions.view.ControllerView;
+import com.qxy.siegelions.view.LikeView;
+
+import java.util.List;
+
+import butterknife.BindView;
+import butterknife.ButterKnife;
+
+/**
+ * create by libo
+ * create on 2020-05-20
+ * description
+ */
+public class VideoAdapter extends BaseRvAdapter<VideoBean, VideoAdapter.VideoViewHolder> {
+
+    public VideoAdapter(Context context, List<VideoBean> datas) {
+        super(context, datas);
+    }
+
+    @Override
+    protected void onBindData(VideoViewHolder holder, VideoBean videoBean, int position) {
+        holder.controllerView.setVideoData(videoBean);
+
+        holder.ivCover.setImageResource(videoBean.getCoverRes());
+
+        holder.likeView.setOnLikeListener(() -> {
+            if (!videoBean.isLiked()) {  //未点赞，会有点赞效果，否则无
+                holder.controllerView.like();
+            }
+
+        });
+    }
+
+    @NonNull
+    @Override
+    public VideoViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
+        View view = LayoutInflater.from(getContext()).inflate(R.layout.item_video, parent, false);
+        return new VideoViewHolder(view);
+    }
+
+    public class VideoViewHolder extends BaseRvViewHolder {
+        @BindView(R.id.likeview)
+        LikeView likeView;
+        @BindView(R.id.controller)
+        ControllerView controllerView;
+        @BindView(R.id.iv_cover)
+        ImageView ivCover;
+
+        public VideoViewHolder(View itemView) {
+            super(itemView);
+
+            ButterKnife.bind(this, itemView);
+        }
+    }
+}
Index: app/src/main/java/com/qxy/siegelions/adapter/FansAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/adapter/FansAdapter.java b/app/src/main/java/com/qxy/siegelions/adapter/FansAdapter.java
new file mode 100644
--- /dev/null	(date 1661103872516)
+++ b/app/src/main/java/com/qxy/siegelions/adapter/FansAdapter.java	(date 1661103872516)
@@ -0,0 +1,70 @@
+package com.qxy.siegelions.adapter;
+
+import android.content.Context;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.TextView;
+
+import androidx.annotation.NonNull;
+
+import com.qxy.siegelions.R;
+import com.qxy.siegelions.base.BaseRvAdapter;
+import com.qxy.siegelions.base.BaseRvViewHolder;
+import com.qxy.siegelions.bean.VideoBean;
+import com.qxy.siegelions.view.CircleImageView;
+
+import java.util.List;
+
+import butterknife.BindView;
+
+/**
+ * create by libo
+ * create on 2020-05-24
+ * description
+ */
+public class FansAdapter extends BaseRvAdapter<VideoBean.UserBean, FansAdapter.FansViewHolder> {
+
+    public FansAdapter(Context context, List<VideoBean.UserBean> datas) {
+        super(context, datas);
+    }
+
+    @Override
+    protected void onBindData(FansViewHolder holder, VideoBean.UserBean userBean, int position) {
+        holder.ivHead.setImageResource(userBean.getHead());
+        holder.tvNickname.setText(userBean.getNickName());
+        holder.tvFocus.setText(userBean.isFocused() ? "已关注" : "关注");
+
+        holder.tvFocus.setOnClickListener(v -> {
+            if (!userBean.isFocused()) {
+                holder.tvFocus.setText("已关注");
+                holder.tvFocus.setBackgroundResource(R.drawable.shape_round_halfwhite);
+            } else {
+                holder.tvFocus.setText("关注");
+                holder.tvFocus.setBackgroundResource(R.drawable.shape_round_red);
+            }
+
+            userBean.setFocused(!userBean.isFocused());
+        });
+    }
+
+    @NonNull
+    @Override
+    public FansViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
+        View view = LayoutInflater.from(getContext()).inflate(R.layout.item_fans, parent, false);
+        return new FansViewHolder(view);
+    }
+
+    public class FansViewHolder extends BaseRvViewHolder {
+        @BindView(R.id.iv_head)
+        CircleImageView ivHead;
+        @BindView(R.id.tv_nickname)
+        TextView tvNickname;
+        @BindView(R.id.tv_focus)
+        TextView tvFocus;
+
+        public FansViewHolder(View itemView) {
+            super(itemView);
+        }
+    }
+}
Index: app/src/main/java/com/qxy/siegelions/ui/FansFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/ui/FansFragment.kt b/app/src/main/java/com/qxy/siegelions/ui/FansFragment.kt
new file mode 100644
--- /dev/null	(date 1661105422870)
+++ b/app/src/main/java/com/qxy/siegelions/ui/FansFragment.kt	(date 1661105422870)
@@ -0,0 +1,22 @@
+package com.qxy.siegelions.ui
+
+import androidx.recyclerview.widget.LinearLayoutManager
+import com.qxy.siegelions.R
+import com.qxy.siegelions.adapter.FansAdapter
+import com.qxy.siegelions.base.BaseFragment
+import com.qxy.siegelions.bean.DataCreate
+import kotlinx.android.synthetic.main.fragment_fans.*
+
+class FansFragment : BaseFragment() {
+    private var fansAdapter: FansAdapter? = null
+
+    override fun setLayoutId(): Int {
+        return R.layout.fragment_fans
+    }
+
+    override fun init() {
+        recyclerview!!.layoutManager = LinearLayoutManager(context)
+        fansAdapter = FansAdapter(context, DataCreate.userList)
+        recyclerview!!.adapter = fansAdapter
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/ui/CurrentLocationFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/ui/CurrentLocationFragment.kt b/app/src/main/java/com/qxy/siegelions/ui/CurrentLocationFragment.kt
new file mode 100644
--- /dev/null	(date 1661105422863)
+++ b/app/src/main/java/com/qxy/siegelions/ui/CurrentLocationFragment.kt	(date 1661105422863)
@@ -0,0 +1,38 @@
+package com.qxy.siegelions.ui
+
+import android.os.CountDownTimer
+import androidx.recyclerview.widget.StaggeredGridLayoutManager
+import com.qxy.siegelions.R
+import com.qxy.siegelions.adapter.GridVideoAdapter
+import com.qxy.siegelions.base.BaseFragment
+import com.qxy.siegelions.bean.DataCreate
+import kotlinx.android.synthetic.main.fragment_current_location.*
+
+/**
+ * create by libo
+ * create on 2020-05-19
+ * description 附近的人fragment
+ */
+class CurrentLocationFragment : BaseFragment() {
+    private var adapter: GridVideoAdapter? = null
+
+    override fun setLayoutId(): Int {
+        return R.layout.fragment_current_location
+    }
+
+    override fun init() {
+        DataCreate().initData()
+        recyclerView!!.layoutManager = StaggeredGridLayoutManager(2, StaggeredGridLayoutManager.VERTICAL)
+        adapter = GridVideoAdapter(activity, DataCreate.datas)
+        recyclerView!!.adapter = adapter
+        refreshLayout!!.setColorSchemeResources(R.color.color_link)
+        refreshLayout!!.setOnRefreshListener {
+            object : CountDownTimer(1000, 1000) {
+                override fun onTick(millisUntilFinished: Long) {}
+                override fun onFinish() {
+                    refreshLayout!!.isRefreshing = false
+                }
+            }.start()
+        }
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/adapter/GridVideoAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/adapter/GridVideoAdapter.java b/app/src/main/java/com/qxy/siegelions/adapter/GridVideoAdapter.java
new file mode 100644
--- /dev/null	(date 1661103872395)
+++ b/app/src/main/java/com/qxy/siegelions/adapter/GridVideoAdapter.java	(date 1661103872395)
@@ -0,0 +1,72 @@
+package com.qxy.siegelions.adapter;
+
+import android.content.Context;
+import android.content.Intent;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.ImageView;
+import android.widget.TextView;
+
+import androidx.annotation.NonNull;
+
+import com.qxy.siegelions.R;
+import com.qxy.siegelions.activity.PlayListActivity;
+import com.qxy.siegelions.base.BaseRvAdapter;
+import com.qxy.siegelions.base.BaseRvViewHolder;
+import com.qxy.siegelions.bean.VideoBean;
+import com.qxy.siegelions.view.IconFontTextView;
+
+import java.util.List;
+
+import butterknife.BindView;
+import butterknife.ButterKnife;
+
+/**
+ * create by libo
+ * create on 2020-05-20
+ * description
+ */
+public class GridVideoAdapter extends BaseRvAdapter<VideoBean, GridVideoAdapter.GridVideoViewHolder> {
+
+    public GridVideoAdapter(Context context, List<VideoBean> datas) {
+        super(context, datas);
+    }
+
+    @Override
+    protected void onBindData(GridVideoViewHolder holder, VideoBean videoBean, int position) {
+        holder.ivCover.setBackgroundResource(videoBean.getCoverRes());
+        holder.tvContent.setText(videoBean.getContent());
+        holder.tvDistance.setText(videoBean.getDistance() + " km");
+        holder.ivHead.setImageResource(videoBean.getUserBean().getHead());
+
+        holder.itemView.setOnClickListener(v -> {
+            PlayListActivity.initPos = position;
+            getContext().startActivity(new Intent(getContext(), PlayListActivity.class));
+        });
+    }
+
+    @NonNull
+    @Override
+    public GridVideoViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
+        View view = LayoutInflater.from(getContext()).inflate(R.layout.item_gridvideo, parent, false);
+        return new GridVideoViewHolder(view);
+    }
+
+    public class GridVideoViewHolder extends BaseRvViewHolder {
+        @BindView(R.id.iv_cover)
+        ImageView ivCover;
+        @BindView(R.id.tv_content)
+        TextView tvContent;
+        @BindView(R.id.tv_distance)
+        IconFontTextView tvDistance;
+        @BindView(R.id.iv_head)
+        ImageView ivHead;
+
+        public GridVideoViewHolder(View itemView) {
+            super(itemView);
+
+            ButterKnife.bind(this, itemView);
+        }
+    }
+}
Index: app/src/main/java/com/qxy/siegelions/adapter/ShareAdapter.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/adapter/ShareAdapter.java b/app/src/main/java/com/qxy/siegelions/adapter/ShareAdapter.java
new file mode 100644
--- /dev/null	(date 1661103872636)
+++ b/app/src/main/java/com/qxy/siegelions/adapter/ShareAdapter.java	(date 1661103872636)
@@ -0,0 +1,57 @@
+package com.qxy.siegelions.adapter;
+
+import android.content.Context;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.TextView;
+
+import androidx.annotation.NonNull;
+
+import com.qxy.siegelions.R;
+import com.qxy.siegelions.base.BaseRvAdapter;
+import com.qxy.siegelions.base.BaseRvViewHolder;
+import com.qxy.siegelions.bean.ShareBean;
+
+import java.util.List;
+
+import butterknife.BindView;
+
+/**
+ * create by libo
+ * create on 2020-05-25
+ * description
+ */
+public class ShareAdapter extends BaseRvAdapter<ShareBean, ShareAdapter.ShareViewHolder> {
+
+    public ShareAdapter(Context context, List<ShareBean> datas) {
+        super(context, datas);
+    }
+
+    @Override
+    protected void onBindData(ShareViewHolder holder, ShareBean shareBean, int position) {
+        holder.tvIcon.setText(shareBean.getIconRes());
+        holder.tvText.setText(shareBean.getText());
+        holder.viewBg.setBackgroundResource(shareBean.getBgRes());
+    }
+
+    @NonNull
+    @Override
+    public ShareViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {
+        View view = LayoutInflater.from(getContext()).inflate(R.layout.item_share, parent, false);
+        return new ShareViewHolder(view);
+    }
+
+    public class ShareViewHolder extends BaseRvViewHolder {
+        @BindView(R.id.tv_icon)
+        TextView tvIcon;
+        @BindView(R.id.tv_text)
+        TextView tvText;
+        @BindView(R.id.view_bg)
+        View viewBg;
+
+        public ShareViewHolder(View itemView) {
+            super(itemView);
+        }
+    }
+}
Index: app/src/main/java/com/qxy/siegelions/ui/WorkFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/ui/WorkFragment.kt b/app/src/main/java/com/qxy/siegelions/ui/WorkFragment.kt
new file mode 100644
--- /dev/null	(date 1661103872451)
+++ b/app/src/main/java/com/qxy/siegelions/ui/WorkFragment.kt	(date 1661103872451)
@@ -0,0 +1,29 @@
+package com.qxy.siegelions.fragment
+
+import androidx.recyclerview.widget.GridLayoutManager
+import androidx.recyclerview.widget.RecyclerView
+import butterknife.BindView
+import com.qxy.siegelions.R
+import com.qxy.siegelions.adapter.WorkAdapter
+import com.qxy.siegelions.base.BaseFragment
+import com.qxy.siegelions.bean.DataCreate
+import kotlinx.android.synthetic.main.fragment_work.*
+
+/**
+ * create by libo
+ * create on 2020-05-19
+ * description 个人作品fragment
+ */
+class WorkFragment : BaseFragment() {
+    private var workAdapter: WorkAdapter? = null
+
+    override fun setLayoutId(): Int {
+        return R.layout.fragment_work
+    }
+
+    override fun init() {
+        recyclerview!!.layoutManager = GridLayoutManager(activity, 3)
+        workAdapter = WorkAdapter(activity, DataCreate.datas)
+        recyclerview!!.adapter = workAdapter
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/ui/RecommendFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/ui/RecommendFragment.kt b/app/src/main/java/com/qxy/siegelions/ui/RecommendFragment.kt
new file mode 100644
--- /dev/null	(date 1661103872568)
+++ b/app/src/main/java/com/qxy/siegelions/ui/RecommendFragment.kt	(date 1661103872568)
@@ -0,0 +1,205 @@
+package com.qxy.siegelions.fragment
+
+import android.media.MediaPlayer
+import android.os.CountDownTimer
+import android.view.View
+import android.view.ViewGroup
+import android.widget.ImageView
+import com.qxy.siegelions.R
+import com.qxy.siegelions.activity.MainActivity
+import com.qxy.siegelions.activity.PlayListActivity
+import com.qxy.siegelions.adapter.VideoAdapter
+import com.qxy.siegelions.base.BaseFragment
+import com.qxy.siegelions.bean.CurUserBean
+import com.qxy.siegelions.bean.DataCreate
+import com.qxy.siegelions.bean.MainPageChangeEvent
+import com.qxy.siegelions.bean.PauseVideoEvent
+import com.qxy.siegelions.utils.OnVideoControllerListener
+import com.qxy.siegelions.utils.RxBus
+import com.qxy.siegelions.view.*
+import com.qxy.siegelions.view.viewpagerlayoutmanager.OnViewPagerListener
+import com.qxy.siegelions.view.viewpagerlayoutmanager.ViewPagerLayoutManager
+import kotlinx.android.synthetic.main.fragment_recommend.*
+import rx.functions.Action1
+
+/**
+ * create by libo
+ * create on 2020-05-19
+ * description 推荐播放页
+ */
+class RecommendFragment : BaseFragment() {
+    private var adapter: VideoAdapter? = null
+    private var viewPagerLayoutManager: ViewPagerLayoutManager? = null
+
+    /** 当前播放视频位置  */
+    private var curPlayPos = -1
+    private var videoView: FullScreenVideoView? = null
+
+    private var ivCurCover: ImageView? = null
+
+    override fun setLayoutId(): Int {
+        return R.layout.fragment_recommend
+    }
+
+    override fun init() {
+        adapter = VideoAdapter(activity, DataCreate.datas)
+        recyclerView!!.adapter = adapter
+        videoView = FullScreenVideoView(activity)
+        setViewPagerLayoutManager()
+        setRefreshEvent()
+
+        //监听播放或暂停事件
+        val subscribe = RxBus.getDefault().toObservable(PauseVideoEvent::class.java)
+                .subscribe(Action1 { event: PauseVideoEvent ->
+                    if (event.isPlayOrPause) {
+                        videoView!!.start()
+                    } else {
+                        videoView!!.pause()
+                    }
+                } as Action1<PauseVideoEvent>)
+//        subscribe.unsubscribe()
+    }
+
+    override fun onResume() {
+        super.onResume()
+
+        //返回时，推荐页面可见，则继续播放视频
+        if (MainActivity.curMainPage == 0 && MainFragment.Companion.curPage == 1) {
+            videoView!!.start()
+        }
+    }
+
+    override fun onPause() {
+        super.onPause()
+        videoView!!.pause()
+    }
+
+    override fun onStop() {
+        super.onStop()
+        videoView!!.stopPlayback()
+    }
+
+    private fun setViewPagerLayoutManager() {
+        viewPagerLayoutManager = ViewPagerLayoutManager(activity)
+        recyclerView!!.layoutManager = viewPagerLayoutManager
+        recyclerView!!.scrollToPosition(PlayListActivity.initPos)
+        viewPagerLayoutManager!!.setOnViewPagerListener(object : OnViewPagerListener {
+            override fun onInitComplete() {
+                playCurVideo(PlayListActivity.initPos)
+            }
+
+            override fun onPageRelease(isNext: Boolean, position: Int) {
+                if (ivCurCover != null) {
+                    ivCurCover!!.visibility = View.VISIBLE
+                }
+            }
+
+            override fun onPageSelected(position: Int, isBottom: Boolean) {
+                playCurVideo(position)
+            }
+        })
+    }
+
+    private fun setRefreshEvent() {
+        refreshLayout!!.setColorSchemeResources(R.color.color_link)
+        refreshLayout!!.setOnRefreshListener {
+            object : CountDownTimer(1000, 1000) {
+                override fun onTick(millisUntilFinished: Long) {}
+                override fun onFinish() {
+                    refreshLayout!!.isRefreshing = false
+                }
+            }.start()
+        }
+    }
+
+    private fun playCurVideo(position: Int) {
+        if (position == curPlayPos) {
+            return
+        }
+        val itemView = viewPagerLayoutManager!!.findViewByPosition(position) ?: return
+        val rootView = itemView.findViewById<ViewGroup>(R.id.rl_container)
+        val likeView: LikeView = rootView.findViewById(R.id.likeview)
+        val controllerView: ControllerView = rootView.findViewById(R.id.controller)
+        val ivPlay = rootView.findViewById<ImageView>(R.id.iv_play)
+        val ivCover = rootView.findViewById<ImageView>(R.id.iv_cover)
+        ivPlay.alpha = 0.4f
+
+        //播放暂停事件
+        likeView.setOnPlayPauseListener(object: LikeView.OnPlayPauseListener {
+            override fun onPlayOrPause() {
+                if (videoView!!.isPlaying) {
+                    videoView!!.pause()
+                    ivPlay.visibility = View.VISIBLE
+                } else {
+                    videoView!!.start()
+                    ivPlay.visibility = View.GONE
+                }
+            }
+
+        })
+
+        //评论点赞事件
+        likeShareEvent(controllerView)
+
+        //切换播放视频的作者主页数据
+        RxBus.getDefault().post(CurUserBean(DataCreate.datas[position].userBean!!))
+        curPlayPos = position
+
+        //切换播放器位置
+        dettachParentView(rootView)
+        autoPlayVideo(curPlayPos, ivCover)
+    }
+
+    /**
+     * 移除videoview父view
+     */
+    private fun dettachParentView(rootView: ViewGroup) {
+        //1.添加videoview到当前需要播放的item中,添加进item之前，保证ijkVideoView没有父view
+        videoView?.parent?.let {
+            (it as ViewGroup).removeView(videoView)
+        }
+        rootView.addView(videoView, 0)
+    }
+
+    /**
+     * 自动播放视频
+     */
+    private fun autoPlayVideo(position: Int, ivCover: ImageView) {
+        val bgVideoPath = "android.resource://" + activity!!.packageName + "/" + DataCreate.datas[position].videoRes
+        videoView!!.setVideoPath(bgVideoPath)
+        videoView!!.start()
+        videoView!!.setOnPreparedListener { mp: MediaPlayer ->
+            mp.isLooping = true
+
+            //延迟取消封面，避免加载视频黑屏
+            object : CountDownTimer(200, 200) {
+                override fun onTick(millisUntilFinished: Long) {}
+                override fun onFinish() {
+                    ivCover.visibility = View.GONE
+                    ivCurCover = ivCover
+                }
+            }.start()
+        }
+    }
+
+    /**
+     * 用户操作事件
+     */
+    private fun likeShareEvent(controllerView: ControllerView) {
+        controllerView.setListener(object : OnVideoControllerListener {
+            override fun onHeadClick() {
+                RxBus.getDefault().post(MainPageChangeEvent(1))
+            }
+
+            override fun onLikeClick() {}
+            override fun onCommentClick() {
+                val commentDialog = CommentDialog()
+                commentDialog.show(childFragmentManager, "")
+            }
+
+            override fun onShareClick() {
+                ShareDialog().show(childFragmentManager, "")
+            }
+        })
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/ui/PersonalHomeFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/ui/PersonalHomeFragment.kt b/app/src/main/java/com/qxy/siegelions/ui/PersonalHomeFragment.kt
new file mode 100644
--- /dev/null	(date 1661108241950)
+++ b/app/src/main/java/com/qxy/siegelions/ui/PersonalHomeFragment.kt	(date 1661108241950)
@@ -0,0 +1,159 @@
+package com.qxy.siegelions.ui
+
+import android.content.Intent
+import android.view.View
+import androidx.coordinatorlayout.widget.CoordinatorLayout
+import androidx.core.app.ActivityCompat
+import androidx.core.app.ActivityOptionsCompat
+import androidx.fragment.app.Fragment
+import com.qxy.siegelions.R
+import com.qxy.siegelions.FocusActivity
+import com.qxy.siegelions.activity.ShowImageActivity
+import com.qxy.siegelions.base.BaseFragment
+import com.qxy.siegelions.base.CommPagerAdapter
+import com.qxy.siegelions.bean.CurUserBean
+import com.qxy.siegelions.bean.MainPageChangeEvent
+import com.qxy.siegelions.bean.VideoBean.UserBean
+import com.qxy.siegelions.utils.NumUtils
+import com.qxy.siegelions.utils.RxBus
+import com.google.android.material.appbar.AppBarLayout
+import com.qxy.siegelions.fragment.WorkFragment
+import kotlinx.android.synthetic.main.fragment_personal_home.*
+import kotlinx.android.synthetic.main.personal_home_header.*
+import rx.Subscription
+import rx.functions.Action1
+import java.util.*
+
+/**
+ * create by libo
+ * create on 2020-05-19
+ * description 个人主页fragment
+ */
+class PersonalHomeFragment : BaseFragment(), View.OnClickListener {
+    private val fragments = ArrayList<Fragment>()
+    private var pagerAdapter: CommPagerAdapter? = null
+    private var curUserBean: UserBean? = null
+    private var subscription: Subscription? = null
+
+    override fun setLayoutId(): Int {
+        return R.layout.fragment_personal_home
+    }
+
+    override fun init() {
+
+        //解决toolbar左边距问题
+        toolbar!!.setContentInsetsAbsolute(0, 0)
+        setappbarlayoutPercent()
+        ivReturn!!.setOnClickListener(this)
+        ivHead!!.setOnClickListener(this)
+        ivBg!!.setOnClickListener(this)
+        llFocus!!.setOnClickListener(this)
+        llFans!!.setOnClickListener(this)
+        setUserInfo()
+    }
+
+    /**
+     * 过渡动画跳转页面
+     *
+     * @param view
+     */
+    fun transitionAnim(view: View?, res: Int) {
+        val compat = ActivityOptionsCompat.makeSceneTransitionAnimation(requireActivity(), requireView(), getString(R.string.trans))
+        val intent = Intent(activity, ShowImageActivity::class.java)
+        intent.putExtra("res", res)
+        ActivityCompat.startActivity(requireActivity(), intent, compat.toBundle())
+    }
+
+    fun setUserInfo() {
+        subscription = RxBus.getDefault().toObservable(CurUserBean::class.java).subscribe(Action1 { curUserBean: CurUserBean ->
+            coordinatorLayoutBackTop()
+            this.curUserBean = curUserBean.userBean
+            ivBg!!.setImageResource(curUserBean.userBean.head)
+            ivHead!!.setImageResource(curUserBean.userBean.head)
+            tvNickname!!.text = curUserBean.userBean.nickName
+            tvSign!!.text = curUserBean.userBean.sign
+            tvTitle!!.text = curUserBean.userBean.nickName
+            val subCount = NumUtils.numberFilter(curUserBean.userBean.subCount)
+            val focusCount = NumUtils.numberFilter(curUserBean.userBean.focusCount)
+            val fansCount = NumUtils.numberFilter(curUserBean.userBean.fansCount)
+
+            //获赞 关注 粉丝
+            tvGetLikeCount!!.text = subCount
+            tvFocusCount!!.text = focusCount
+            tvFansCount!!.text = fansCount
+
+            //关注状态
+            if (curUserBean.userBean.isFocused) {
+                tvAddfocus!!.text = "已关注"
+                tvAddfocus!!.setBackgroundResource(R.drawable.shape_round_halfwhite)
+            } else {
+                tvAddfocus!!.text = "关注"
+                tvAddfocus!!.setBackgroundResource(R.drawable.shape_round_red)
+            }
+            setTabLayout()
+        } as Action1<CurUserBean>)
+    }
+
+    private fun setTabLayout() {
+        val titles = arrayOf("作品 " + curUserBean!!.workCount, "动态 " + curUserBean!!.dynamicCount, "喜欢 " + curUserBean!!.likeCount)
+        fragments.clear()
+        for (i in titles.indices) {
+            fragments.add(WorkFragment())
+            tabLayout!!.addTab(tabLayout!!.newTab().setText(titles[i]))
+        }
+        pagerAdapter = CommPagerAdapter(childFragmentManager, fragments, titles)
+        viewPager!!.adapter = pagerAdapter
+        tabLayout!!.setupWithViewPager(viewPager)
+    }
+
+    /**
+     * 根据滚动比例渐变view
+     */
+    private fun setappbarlayoutPercent() {
+        appbarlayout.addOnOffsetChangedListener(AppBarLayout.OnOffsetChangedListener { appbarlayout, verticalOffset ->
+            val percent = Math.abs(verticalOffset * 1.0f) / appbarlayout.totalScrollRange //滑动比例
+            if (percent > 0.8) {
+                tvTitle!!.visibility = View.VISIBLE
+                tvFocus!!.visibility = View.VISIBLE
+                val alpha = 1 - (1 - percent) * 5 //渐变变换
+                tvTitle!!.alpha = alpha
+                tvFocus!!.alpha = alpha
+            } else {
+                tvTitle!!.visibility = View.GONE
+                tvFocus!!.visibility = View.GONE
+            }
+        })
+    }
+
+    /**
+     * 自动回顶部
+     */
+    private fun coordinatorLayoutBackTop() {
+        val behavior = (appbarlayout!!.layoutParams as CoordinatorLayout.LayoutParams).behavior
+        if (behavior is AppBarLayout.Behavior) {
+            val appbarlayoutBehavior = behavior
+            val topAndBottomOffset = appbarlayoutBehavior.topAndBottomOffset
+            if (topAndBottomOffset != 0) {
+                appbarlayoutBehavior.topAndBottomOffset = 0
+            }
+        }
+    }
+
+    override fun onClick(v: View) {
+        when (v.id) {
+            R.id.ivReturn -> RxBus.getDefault().post(MainPageChangeEvent(0))
+            R.id.ivHead -> transitionAnim(ivHead, curUserBean!!.head)
+            R.id.ivBg -> {
+            }
+            R.id.llFocus -> startActivity(Intent(activity, FocusActivity::class.java))
+            R.id.llFans -> startActivity(Intent(activity, FocusActivity::class.java))
+        }
+    }
+
+    override fun onDestroy() {
+        super.onDestroy()
+        if (subscription != null) {
+            subscription!!.unsubscribe()
+        }
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/ui/MainFragment.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/ui/MainFragment.kt b/app/src/main/java/com/qxy/siegelions/ui/MainFragment.kt
new file mode 100644
--- /dev/null	(date 1661105422858)
+++ b/app/src/main/java/com/qxy/siegelions/ui/MainFragment.kt	(date 1661105422858)
@@ -0,0 +1,75 @@
+package com.qxy.siegelions.fragment
+
+import androidx.fragment.app.Fragment
+import androidx.viewpager.widget.ViewPager.OnPageChangeListener
+import com.qxy.siegelions.R
+import com.qxy.siegelions.base.BaseFragment
+import com.qxy.siegelions.base.CommPagerAdapter
+import com.qxy.siegelions.bean.PauseVideoEvent
+import com.qxy.siegelions.ui.CurrentLocationFragment
+import com.qxy.siegelions.utils.RxBus
+import kotlinx.android.synthetic.main.fragment_main.*
+import java.util.*
+
+/**
+ * create by libo
+ * create on 2020-05-19
+ * description 主页fragment
+ */
+class MainFragment : BaseFragment() {
+    private var currentLocationFragment: CurrentLocationFragment? = null
+    private var recommendFragment: RecommendFragment? = null
+
+    private val fragments = ArrayList<Fragment>()
+    private var pagerAdapter: CommPagerAdapter? = null
+
+    override fun setLayoutId(): Int {
+        return R.layout.fragment_main
+    }
+
+    override fun init() {
+        setFragments()
+        setMainMenu()
+    }
+
+    private fun setFragments() {
+        currentLocationFragment = CurrentLocationFragment()
+        recommendFragment = RecommendFragment()
+        fragments.add(currentLocationFragment!!)
+        fragments.add(recommendFragment!!)
+        tabTitle!!.addTab(tabTitle!!.newTab().setText("海淀"))
+        tabTitle!!.addTab(tabTitle!!.newTab().setText("推荐"))
+        pagerAdapter = CommPagerAdapter(childFragmentManager, fragments, arrayOf("海淀", "推荐"))
+        viewPager!!.adapter = pagerAdapter
+        tabTitle!!.setupWithViewPager(viewPager)
+        tabTitle!!.getTabAt(1)!!.select()
+        viewPager!!.addOnPageChangeListener(object : OnPageChangeListener {
+            override fun onPageScrolled(position: Int, positionOffset: Float, positionOffsetPixels: Int) {}
+            override fun onPageSelected(position: Int) {
+                curPage = position
+                if (position == 1) {
+                    //继续播放
+                    RxBus.getDefault().post(PauseVideoEvent(true))
+                } else {
+                    //切换到其他页面，需要暂停视频
+                    RxBus.getDefault().post(PauseVideoEvent(false))
+                }
+            }
+
+            override fun onPageScrollStateChanged(state: Int) {}
+        })
+    }
+
+    private fun setMainMenu() {
+        tabMainMenu!!.addTab(tabMainMenu!!.newTab().setText("首页"))
+        tabMainMenu!!.addTab(tabMainMenu!!.newTab().setText("好友"))
+        tabMainMenu!!.addTab(tabMainMenu!!.newTab().setText(""))
+        tabMainMenu!!.addTab(tabMainMenu!!.newTab().setText("消息"))
+        tabMainMenu!!.addTab(tabMainMenu!!.newTab().setText("我"))
+    }
+
+    companion object {
+        /** 默认显示第一页推荐页  */
+        var curPage = 1
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/utils/autolinktextview/LinkTouchMovementMethod.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/LinkTouchMovementMethod.java b/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/LinkTouchMovementMethod.java
new file mode 100644
--- /dev/null	(date 1661103406388)
+++ b/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/LinkTouchMovementMethod.java	(date 1661103406388)
@@ -0,0 +1,75 @@
+package com.qxy.siegelions.utils.autolinktextview;
+
+import android.text.Layout;
+import android.text.Selection;
+import android.text.Spannable;
+import android.text.method.LinkMovementMethod;
+import android.view.MotionEvent;
+import android.view.ViewGroup;
+import android.view.ViewParent;
+import android.widget.TextView;
+
+class LinkTouchMovementMethod extends LinkMovementMethod {
+
+    private TouchableSpan pressedSpan;
+
+    @Override
+    public boolean onTouchEvent(TextView textView, final Spannable spannable, MotionEvent event) {
+        int action = event.getAction();
+        boolean isConsume = super.onTouchEvent(textView, spannable, event);
+        if (action == MotionEvent.ACTION_DOWN) {
+            pressedSpan = getPressedSpan(textView, spannable, event);
+            if (pressedSpan != null) {
+                pressedSpan.setPressed(true);
+                Selection.setSelection(spannable, spannable.getSpanStart(pressedSpan),
+                        spannable.getSpanEnd(pressedSpan));
+            }
+        } else if (action == MotionEvent.ACTION_MOVE) {
+            TouchableSpan touchedSpan = getPressedSpan(textView, spannable, event);
+            if (pressedSpan != null && touchedSpan != pressedSpan) {
+                pressedSpan.setPressed(false);
+                pressedSpan = null;
+                Selection.removeSelection(spannable);
+            }
+        } else {
+            if (pressedSpan != null) {
+                pressedSpan.setPressed(false);
+                textView.setClickable(false);
+            }
+            pressedSpan = null;
+            Selection.removeSelection(spannable);
+            // 解决clickable与textview 本身click点击事件的冲突。
+            if (!isConsume && event.getAction() == MotionEvent.ACTION_UP) {
+                ViewParent parent = textView.getParent();
+                if (parent instanceof ViewGroup) {
+                    // 获取被点击控件的父容器，让父容器执行点击；
+                    ((ViewGroup) parent).performClick();
+                }
+            }
+        }
+        return isConsume;
+    }
+
+    private TouchableSpan getPressedSpan(TextView textView, Spannable spannable, MotionEvent event) {
+
+        int x = (int) event.getX();
+        int y = (int) event.getY();
+
+        x -= textView.getTotalPaddingLeft();
+        y -= textView.getTotalPaddingTop();
+
+        x += textView.getScrollX();
+        y += textView.getScrollY();
+
+        Layout layout = textView.getLayout();
+        int verticalLine = layout.getLineForVertical(y);
+        int horizontalOffset = layout.getOffsetForHorizontal(verticalLine, x);
+
+        TouchableSpan[] link = spannable.getSpans(horizontalOffset, horizontalOffset, TouchableSpan.class);
+        TouchableSpan touchedSpan = null;
+        if (link.length > 0) {
+            touchedSpan = link[0];
+        }
+        return touchedSpan;
+    }
+}
Index: app/src/main/java/com/qxy/siegelions/utils/autolinktextview/AutoLinkItem.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/AutoLinkItem.java b/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/AutoLinkItem.java
new file mode 100644
--- /dev/null	(date 1661103406406)
+++ b/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/AutoLinkItem.java	(date 1661103406406)
@@ -0,0 +1,33 @@
+package com.qxy.siegelions.utils.autolinktextview;
+
+class AutoLinkItem {
+
+    private AutoLinkMode autoLinkMode;
+
+    private String matchedText;
+
+    private int startPoint,endPoint;
+
+    AutoLinkItem(int startPoint, int endPoint, String matchedText, AutoLinkMode autoLinkMode) {
+        this.startPoint = startPoint;
+        this.endPoint = endPoint;
+        this.matchedText = matchedText;
+        this.autoLinkMode = autoLinkMode;
+    }
+
+    AutoLinkMode getAutoLinkMode() {
+        return autoLinkMode;
+    }
+
+    String getMatchedText() {
+        return matchedText;
+    }
+
+    int getStartPoint() {
+        return startPoint;
+    }
+
+    int getEndPoint() {
+        return endPoint;
+    }
+}
Index: app/src/main/java/com/qxy/siegelions/utils/autolinktextview/AutolinkUtils.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/AutolinkUtils.java b/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/AutolinkUtils.java
new file mode 100644
--- /dev/null	(date 1661103406306)
+++ b/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/AutolinkUtils.java	(date 1661103406306)
@@ -0,0 +1,35 @@
+package com.qxy.siegelions.utils.autolinktextview;
+
+import android.util.Log;
+
+class AutolinkUtils {
+
+    private static boolean isValidRegex(String regex){
+        return regex != null && !regex.isEmpty() && regex.length() > 2;
+    }
+
+    static String getRegexByAutoLinkMode(AutoLinkMode anAutoLinkMode, String customRegex) {
+        switch (anAutoLinkMode) {
+            case MODE_HASHTAG:
+                return RegexParser.HASHTAG_PATTERN;
+            case MODE_MENTION:
+                return RegexParser.MENTION_PATTERN;
+            case MODE_URL:
+                return RegexParser.URL_PATTERN;
+            case MODE_PHONE:
+                return RegexParser.PHONE_PATTERN;
+            case MODE_EMAIL:
+                return RegexParser.EMAIL_PATTERN;
+            case MODE_CUSTOM:
+                if (!AutolinkUtils.isValidRegex(customRegex)) {
+                    Log.e(AutoLinkTextView.TAG, "Your custom regex is null, returning URL_PATTERN");
+                    return RegexParser.URL_PATTERN;
+                } else {
+                    return customRegex;
+                }
+            default:
+                return RegexParser.URL_PATTERN;
+        }
+    }
+
+}
Index: app/src/main/java/com/qxy/siegelions/utils/autolinktextview/AutoLinkTextView.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/AutoLinkTextView.java b/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/AutoLinkTextView.java
new file mode 100644
--- /dev/null	(date 1661103872471)
+++ b/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/AutoLinkTextView.java	(date 1661103872471)
@@ -0,0 +1,284 @@
+package com.qxy.siegelions.utils.autolinktextview;
+
+import android.content.Context;
+import android.content.res.TypedArray;
+import android.graphics.Color;
+import android.graphics.Typeface;
+import android.os.Build;
+import android.text.DynamicLayout;
+import android.text.Spannable;
+import android.text.SpannableString;
+import android.text.StaticLayout;
+import android.text.TextUtils;
+import android.text.style.StyleSpan;
+import android.util.AttributeSet;
+import android.view.View;
+
+import androidx.annotation.ColorInt;
+import androidx.appcompat.widget.AppCompatTextView;
+
+import com.qxy.siegelions.R;
+
+import java.lang.reflect.Field;
+import java.util.ArrayList;
+import java.util.Arrays;
+import java.util.LinkedList;
+import java.util.List;
+import java.util.regex.Matcher;
+import java.util.regex.Pattern;
+
+/**
+ * create by libo
+ * create on 2020/5/21
+ * description 高亮带有@ # herf标签的TextView
+ */
+public class AutoLinkTextView extends AppCompatTextView {
+
+    static final String TAG = AutoLinkTextView.class.getSimpleName();
+
+    private static final int MIN_PHONE_NUMBER_LENGTH = 8;
+
+    private AutoLinkOnClickListener autoLinkOnClickListener;
+
+    private AutoLinkMode[] autoLinkModes;
+    private List<AutoLinkMode> mBoldAutoLinkModes;
+
+    private String customRegex;
+
+    private boolean isUnderLineEnabled = false;
+
+    /**
+     * 高亮文字颜色
+     */
+    private int highLightColor;
+    /**
+     * 默认文字颜色
+     */
+    private int defaultSelectedColor;
+    //自定义各种高亮文字颜色
+    private int mentionModeColor;
+    private int hashtagModeColor;
+    private int urlModeColor;
+    private int phoneModeColor;
+    private int emailModeColor;
+    private int customModeColor;
+
+    public AutoLinkTextView(Context context) {
+        super(context);
+    }
+
+    public AutoLinkTextView(Context context, AttributeSet attrs) {
+        super(context, attrs);
+
+        TypedArray array = context.obtainStyledAttributes(attrs, R.styleable.AutoLinkTextView);
+        highLightColor = array.getColor(R.styleable.AutoLinkTextView_highlight_textcolor, Color.BLUE);
+        defaultSelectedColor = array.getColor(R.styleable.AutoLinkTextView_default_textcolor, Color.WHITE);
+        setHighLightColor();
+    }
+
+    @Override
+    public void setText(CharSequence text, BufferType type) {
+        if (TextUtils.isEmpty(text)) {
+            super.setText(text, type);
+            return;
+        }
+        setTextColor(defaultSelectedColor);
+        SpannableString spannableString = makeSpannableString(text);
+        setMovementMethod(new LinkTouchMovementMethod());
+        super.setText(spannableString, type);
+    }
+
+    /**
+     * 设置高亮颜色
+     */
+    public void setHighLightColor() {
+        mentionModeColor = highLightColor;
+        hashtagModeColor = highLightColor;
+        urlModeColor = highLightColor;
+        phoneModeColor = highLightColor;
+        emailModeColor = highLightColor;
+        customModeColor = highLightColor;
+    }
+
+    private SpannableString makeSpannableString(CharSequence text) {
+
+        final SpannableString spannableString = new SpannableString(text);
+
+        List<AutoLinkItem> autoLinkItems = matchedRanges(text);
+        for (final AutoLinkItem autoLinkItem : autoLinkItems) {
+            int currentColor = getColorByMode(autoLinkItem.getAutoLinkMode());
+
+            TouchableSpan clickableSpan = new TouchableSpan(currentColor, defaultSelectedColor, isUnderLineEnabled) {
+                @Override
+                public void onClick(View widget) {
+                    if (autoLinkOnClickListener != null)
+                        autoLinkOnClickListener.onAutoLinkTextClick(
+                                autoLinkItem.getAutoLinkMode(),
+                                autoLinkItem.getMatchedText());
+                }
+            };
+
+            spannableString.setSpan(
+                    clickableSpan,
+                    autoLinkItem.getStartPoint(),
+                    autoLinkItem.getEndPoint(),
+                    Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);
+
+            if (mBoldAutoLinkModes != null && mBoldAutoLinkModes.contains(autoLinkItem.getAutoLinkMode())) {
+
+                spannableString.setSpan(
+                        new StyleSpan(Typeface.BOLD),
+                        autoLinkItem.getStartPoint(),
+                        autoLinkItem.getEndPoint(),
+                        Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);
+
+            }
+
+        }
+
+        return spannableString;
+    }
+
+    private List<AutoLinkItem> matchedRanges(CharSequence text) {
+
+        List<AutoLinkItem> autoLinkItems = new LinkedList<>();
+
+        if (autoLinkModes == null) {
+            return null;
+        }
+
+        for (AutoLinkMode anAutoLinkMode : autoLinkModes) {
+            String regex = AutolinkUtils.getRegexByAutoLinkMode(anAutoLinkMode, customRegex);
+            Pattern pattern = Pattern.compile(regex);
+            Matcher matcher = pattern.matcher(text);
+
+            if (anAutoLinkMode == AutoLinkMode.MODE_PHONE) {
+                while (matcher.find()) {
+                    if (matcher.group().length() > MIN_PHONE_NUMBER_LENGTH)
+                        autoLinkItems.add(new AutoLinkItem(
+                                matcher.start(),
+                                matcher.end(),
+                                matcher.group(),
+                                anAutoLinkMode));
+                }
+            } else {
+                while (matcher.find()) {
+                    autoLinkItems.add(new AutoLinkItem(
+                            matcher.start(),
+                            matcher.end(),
+                            matcher.group(),
+                            anAutoLinkMode));
+                }
+            }
+        }
+
+        return autoLinkItems;
+    }
+
+    private int getColorByMode(AutoLinkMode autoLinkMode) {
+        switch (autoLinkMode) {
+            case MODE_HASHTAG:
+                return hashtagModeColor;
+            case MODE_MENTION:
+                return mentionModeColor;
+            case MODE_URL:
+                return urlModeColor;
+            case MODE_PHONE:
+                return phoneModeColor;
+            case MODE_EMAIL:
+                return emailModeColor;
+            case MODE_CUSTOM:
+                return customModeColor;
+            default:
+                return highLightColor;
+        }
+    }
+
+    public void setMentionModeColor(@ColorInt int mentionModeColor) {
+        this.mentionModeColor = mentionModeColor;
+    }
+
+    public void setHashtagModeColor(@ColorInt int hashtagModeColor) {
+        this.hashtagModeColor = hashtagModeColor;
+    }
+
+    public void setUrlModeColor(@ColorInt int urlModeColor) {
+        this.urlModeColor = urlModeColor;
+    }
+
+    public void setPhoneModeColor(@ColorInt int phoneModeColor) {
+        this.phoneModeColor = phoneModeColor;
+    }
+
+    public void setEmailModeColor(@ColorInt int emailModeColor) {
+        this.emailModeColor = emailModeColor;
+    }
+
+    public void setCustomModeColor(@ColorInt int customModeColor) {
+        this.customModeColor = customModeColor;
+    }
+
+    public void setSelectedStateColor(@ColorInt int defaultSelectedColor) {
+        this.defaultSelectedColor = defaultSelectedColor;
+    }
+
+    public void addAutoLinkMode(AutoLinkMode... autoLinkModes) {
+        this.autoLinkModes = autoLinkModes;
+    }
+
+    public void setBoldAutoLinkModes(AutoLinkMode... autoLinkModes) {
+        mBoldAutoLinkModes = new ArrayList<>();
+        mBoldAutoLinkModes.addAll(Arrays.asList(autoLinkModes));
+    }
+
+    public void setCustomRegex(String regex) {
+        this.customRegex = regex;
+    }
+
+    public void setAutoLinkOnClickListener(AutoLinkOnClickListener autoLinkOnClickListener) {
+        this.autoLinkOnClickListener = autoLinkOnClickListener;
+    }
+    @Override
+    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
+        if (Build.VERSION.SDK_INT >= 16) {
+            StaticLayout layout = null;
+            Field field = null;
+            try {
+                Field staticField = DynamicLayout.class.getDeclaredField("sStaticLayout");
+                staticField.setAccessible(true);
+                layout = (StaticLayout) staticField.get(DynamicLayout.class);
+            } catch (NoSuchFieldException e) {
+                e.printStackTrace();
+            } catch (IllegalAccessException e) {
+                e.printStackTrace();
+            }
+
+            if (layout != null) {
+                try {
+                    field = StaticLayout.class.getDeclaredField("mMaximumVisibleLineCount");
+                    field.setAccessible(true);
+                    field.setInt(layout, getMaxLines());
+                } catch (NoSuchFieldException e) {
+                    e.printStackTrace();
+                } catch (IllegalAccessException e) {
+                    e.printStackTrace();
+                }
+            }
+            super.onMeasure(widthMeasureSpec, heightMeasureSpec);
+            if (layout != null && field != null) {
+                try {
+                    field.setInt(layout, Integer.MAX_VALUE);
+                } catch (IllegalAccessException e) {
+                    e.printStackTrace();
+                }
+            }
+        } else {
+            super.onMeasure(widthMeasureSpec, heightMeasureSpec);
+        }
+    }
+
+    public void enableUnderLine() {
+        isUnderLineEnabled = true;
+    }
+
+}
Index: app/src/main/java/com/qxy/siegelions/utils/autolinktextview/AutoLinkMode.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/AutoLinkMode.java b/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/AutoLinkMode.java
new file mode 100644
--- /dev/null	(date 1661103406313)
+++ b/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/AutoLinkMode.java	(date 1661103406313)
@@ -0,0 +1,22 @@
+package com.qxy.siegelions.utils.autolinktextview;
+
+public enum AutoLinkMode {
+
+    MODE_HASHTAG("Hashtag"),
+    MODE_MENTION("Mention"),
+    MODE_URL("Url"),
+    MODE_PHONE("Phone"),
+    MODE_EMAIL("Email"),
+    MODE_CUSTOM("Custom");
+
+    private String name;
+
+    AutoLinkMode(String name) {
+        this.name = name;
+    }
+
+    @Override
+    public String toString() {
+        return name;
+    }
+}
Index: app/src/main/java/com/qxy/siegelions/util/ImageCacheUtil.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/util/ImageCacheUtil.java b/app/src/main/java/com/qxy/siegelions/utils/ImageCacheUtil.java
rename from app/src/main/java/com/qxy/siegelions/util/ImageCacheUtil.java
rename to app/src/main/java/com/qxy/siegelions/utils/ImageCacheUtil.java
--- a/app/src/main/java/com/qxy/siegelions/util/ImageCacheUtil.java	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/app/src/main/java/com/qxy/siegelions/utils/ImageCacheUtil.java	(date 1661103406372)
@@ -1,4 +1,4 @@
-package com.qxy.siegelions.util;
+package com.qxy.siegelions.utils;
 
 import java.io.File;
 import java.io.FileInputStream;
Index: app/src/main/java/com/qxy/siegelions/utils/RxBus.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/utils/RxBus.java b/app/src/main/java/com/qxy/siegelions/utils/RxBus.java
new file mode 100644
--- /dev/null	(date 1661103406337)
+++ b/app/src/main/java/com/qxy/siegelions/utils/RxBus.java	(date 1661103406337)
@@ -0,0 +1,46 @@
+package com.qxy.siegelions.utils;
+
+import rx.Observable;
+import rx.subjects.PublishSubject;
+import rx.subjects.SerializedSubject;
+import rx.subjects.Subject;
+
+/**
+ * create by libo
+ * create on 2020/5/21
+ * description RxBus管理类
+ */
+public class RxBus {
+    private static volatile RxBus instance;
+    private Subject<Object, Object> bus;
+
+    private RxBus() {
+        bus = new SerializedSubject<>(PublishSubject.create());
+    }
+
+    public static RxBus getDefault() {
+        if (instance == null) {
+            synchronized (RxBus.class) {
+                instance = new RxBus();
+            }
+        }
+        return instance;
+    }
+
+    /**
+     * 发送事件
+     * @param object
+     */
+    public void post(Object object) {
+        bus.onNext(object);
+    }
+
+    /**
+     * 根据类型接收相应类型事件
+     * @param eventType
+     */
+    public <T> Observable toObservable(Class<T> eventType) {
+        return bus.ofType(eventType);
+    }
+
+}
Index: app/src/main/java/com/qxy/siegelions/utils/autolinktextview/TouchableSpan.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/TouchableSpan.java b/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/TouchableSpan.java
new file mode 100644
--- /dev/null	(date 1661103406367)
+++ b/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/TouchableSpan.java	(date 1661103406367)
@@ -0,0 +1,32 @@
+package com.qxy.siegelions.utils.autolinktextview;
+
+import android.graphics.Color;
+import android.text.TextPaint;
+import android.text.style.ClickableSpan;
+
+abstract class TouchableSpan extends ClickableSpan {
+
+    private boolean isPressed;
+    private int normalTextColor;
+    private int pressedTextColor;
+    private boolean isUnderLineEnabled;
+
+    TouchableSpan(int normalTextColor, int pressedTextColor, boolean isUnderLineEnabled) {
+        this.normalTextColor = normalTextColor;
+        this.pressedTextColor = pressedTextColor;
+        this.isUnderLineEnabled = isUnderLineEnabled;
+    }
+
+    void setPressed(boolean isSelected) {
+        isPressed = isSelected;
+    }
+
+    @Override
+    public void updateDrawState(TextPaint textPaint) {
+        super.updateDrawState(textPaint);
+        int textColor = isPressed ? pressedTextColor : normalTextColor;
+        textPaint.setColor(textColor);
+        textPaint.bgColor = Color.TRANSPARENT;
+        textPaint.setUnderlineText(isUnderLineEnabled);
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/utils/AnimUtils.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/utils/AnimUtils.kt b/app/src/main/java/com/qxy/siegelions/utils/AnimUtils.kt
new file mode 100644
--- /dev/null	(date 1661103872420)
+++ b/app/src/main/java/com/qxy/siegelions/utils/AnimUtils.kt	(date 1661103872420)
@@ -0,0 +1,67 @@
+package com.qxy.siegelions.utils
+
+import android.view.animation.*
+
+/**
+ * create by libo
+ * create on 2020-05-20
+ * description
+ */
+object AnimUtils {
+    /**
+     * 以中心缩放动画
+     *
+     * @param from
+     * @param to
+     */
+    fun scaleAnim(time: Long, from: Float, to: Float, offsetTime: Long): ScaleAnimation {
+        val scaleAnimation = ScaleAnimation(from, to, from, to,
+                Animation.RELATIVE_TO_SELF, 0.5f, Animation.RELATIVE_TO_SELF, 0.5f)
+        scaleAnimation.startOffset = offsetTime
+        scaleAnimation.interpolator = DecelerateInterpolator()
+        scaleAnimation.duration = time
+        return scaleAnimation
+    }
+
+    /**
+     * 旋转动画
+     *
+     * @param time
+     */
+    fun rotateAnim(time: Long, fromDegrees: Int, toDegrees: Float): RotateAnimation {
+        val rotateAnimation = RotateAnimation(fromDegrees.toFloat(), toDegrees,
+                Animation.RELATIVE_TO_SELF, 0.5f, Animation.RELATIVE_TO_SELF, 0.5f)
+        rotateAnimation.duration = time
+        return rotateAnimation
+    }
+
+    /**
+     * 移动动画
+     *
+     * @param fromX
+     * @param toX
+     * @param fromY
+     * @param toY
+     */
+    fun translationAnim(time: Long, fromX: Float, toX: Float, fromY: Float, toY: Float, offsetTime: Long): TranslateAnimation {
+        val anim = TranslateAnimation(fromX, toX, fromY, toY)
+        anim.duration = time
+        anim.interpolator = DecelerateInterpolator()
+        anim.startOffset = offsetTime
+        return anim
+    }
+
+    /**
+     * 透明度动画
+     *
+     * @param fromAlpha
+     * @param toAlpha
+     * @param duration
+     */
+    fun alphaAnim(fromAlpha: Float, toAlpha: Float, duration: Long, offsetTime: Long): AlphaAnimation {
+        val anim = AlphaAnimation(fromAlpha, toAlpha)
+        anim.duration = duration
+        anim.startOffset = offsetTime
+        return anim
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/utils/autolinktextview/RegexParser.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/RegexParser.kt b/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/RegexParser.kt
new file mode 100644
--- /dev/null	(date 1661103872369)
+++ b/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/RegexParser.kt	(date 1661103872369)
@@ -0,0 +1,16 @@
+package com.qxy.siegelions.utils.autolinktextview
+
+import android.util.Patterns
+
+internal object RegexParser {
+    @JvmField
+    val PHONE_PATTERN = Patterns.PHONE.pattern()
+    @JvmField
+    val EMAIL_PATTERN = Patterns.EMAIL_ADDRESS.pattern()
+
+    //at、话题、链接匹配表达式
+    const val MENTION_PATTERN = "@.{1,15}?\\s"
+    const val HASHTAG_PATTERN = "#.{1,15}?\\s"
+    const val URL_PATTERN = "(http|https|ftp|svn)://([a-zA-Z0-9]+[/?.?])" +
+            "+[a-zA-Z0-9]*\\??([a-zA-Z0-9]*=[a-zA-Z0-9]*&?)*"
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/utils/autolinktextview/AutoLinkOnClickListener.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/AutoLinkOnClickListener.java b/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/AutoLinkOnClickListener.java
new file mode 100644
--- /dev/null	(date 1661103406393)
+++ b/app/src/main/java/com/qxy/siegelions/utils/autolinktextview/AutoLinkOnClickListener.java	(date 1661103406393)
@@ -0,0 +1,6 @@
+package com.qxy.siegelions.utils.autolinktextview;
+
+public interface AutoLinkOnClickListener {
+
+    void onAutoLinkTextClick(AutoLinkMode autoLinkMode, String matchedText);
+}
Index: app/src/main/java/com/qxy/siegelions/utils/AnrFileObserver.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/utils/AnrFileObserver.java b/app/src/main/java/com/qxy/siegelions/utils/AnrFileObserver.java
new file mode 100644
--- /dev/null	(date 1661103406319)
+++ b/app/src/main/java/com/qxy/siegelions/utils/AnrFileObserver.java	(date 1661103406319)
@@ -0,0 +1,39 @@
+package com.qxy.siegelions.utils;
+
+import android.os.FileObserver;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+
+import java.io.File;
+
+/**
+ * create by apple
+ * create on 2021/5/28
+ * description
+ */
+class AnrFileObserver extends FileObserver {
+
+    public AnrFileObserver(String path) {
+        super(path);
+    }
+
+    public AnrFileObserver(@NonNull File file) {
+        super(file);
+    }
+
+    @Override
+    public void onEvent(int event, @Nullable String path) {
+        switch (event) {
+            case FileObserver.ACCESS:
+
+                break;
+            case FileObserver.CREATE:
+
+                break;
+            case FileObserver.MODIFY:
+
+                break;
+        }
+    }
+}
Index: app/src/main/java/com/qxy/siegelions/utils/AppbarZoomBehavior.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/utils/AppbarZoomBehavior.kt b/app/src/main/java/com/qxy/siegelions/utils/AppbarZoomBehavior.kt
new file mode 100644
--- /dev/null	(date 1661103872443)
+++ b/app/src/main/java/com/qxy/siegelions/utils/AppbarZoomBehavior.kt	(date 1661103872443)
@@ -0,0 +1,171 @@
+package com.qxy.siegelions.utils
+
+import android.animation.ValueAnimator
+import android.content.Context
+import android.util.AttributeSet
+import android.view.View
+import android.widget.ImageView
+import androidx.coordinatorlayout.widget.CoordinatorLayout
+import androidx.core.view.ViewCompat
+import com.qxy.siegelions.R
+import com.google.android.material.appbar.AppBarLayout
+
+/**
+ * create by libo
+ * create on 2020-05-22
+ * description
+ */
+class AppbarZoomBehavior(context: Context?, attrs: AttributeSet?) : AppBarLayout.Behavior(context, attrs) {
+    private var mImageView: ImageView? = null
+    private var mAppbarHeight //记录AppbarLayout原始高度
+            = 0
+    private var mImageViewHeight //记录ImageView原始高度
+            = 0
+    private var mTotalDy //手指在Y轴滑动的总距离
+            = 0f
+    private var mScaleValue //图片缩放比例
+            = 0f
+    private var mLastBottom //Appbar的变化高度
+            = 0
+    private var isAnimate //是否做动画标志
+            = false
+
+    override fun onLayoutChild(parent: CoordinatorLayout, abl: AppBarLayout, layoutDirection: Int): Boolean {
+        val handled = super.onLayoutChild(parent, abl, layoutDirection)
+        init(abl)
+        return handled
+    }
+
+    /**
+     * 进行初始化操作，在这里获取到ImageView的引用，和Appbar的原始高度
+     *
+     * @param abl
+     */
+    private fun init(abl: AppBarLayout) {
+        abl.clipChildren = false
+        mAppbarHeight = abl.height
+        mImageView = abl.findViewById(R.id.ivBg)
+        if (mImageView != null) {
+            mImageViewHeight = mImageView!!.height
+        }
+    }
+
+    /**
+     * 是否处理嵌套滑动
+     *
+     * @param parent
+     * @param child
+     * @param directTargetChild
+     * @param target
+     * @param nestedScrollAxes
+     * @param type
+     * @return
+     */
+    override fun onStartNestedScroll(parent: CoordinatorLayout, child: AppBarLayout, directTargetChild: View, target: View, nestedScrollAxes: Int, type: Int): Boolean {
+        isAnimate = true
+        return true
+    }
+
+    /**
+     * 在这里做具体的滑动处理
+     *
+     * @param coordinatorLayout
+     * @param child
+     * @param target
+     * @param dx
+     * @param dy
+     * @param consumed
+     * @param type
+     */
+    override fun onNestedPreScroll(coordinatorLayout: CoordinatorLayout, child: AppBarLayout, target: View, dx: Int, dy: Int, consumed: IntArray, type: Int) {
+        if (mImageView != null && child.bottom >= mAppbarHeight && dy < 0 && type == ViewCompat.TYPE_TOUCH) {
+            zoomHeaderImageView(child, dy)
+        } else {
+            if (mImageView != null && child.bottom > mAppbarHeight && dy > 0 && type == ViewCompat.TYPE_TOUCH) {
+                consumed[1] = dy
+                zoomHeaderImageView(child, dy)
+            } else {
+                if (valueAnimator == null || !valueAnimator!!.isRunning) {
+                    super.onNestedPreScroll(coordinatorLayout, child, target, dx, dy, consumed, type)
+                }
+            }
+        }
+    }
+
+    /**
+     * 对ImageView进行缩放处理，对AppbarLayout进行高度的设置
+     *
+     * @param abl
+     * @param dy
+     */
+    private fun zoomHeaderImageView(abl: AppBarLayout, dy: Int) {
+        mTotalDy += -dy.toFloat()
+        mTotalDy = Math.min(mTotalDy, MAX_ZOOM_HEIGHT)
+        mScaleValue = Math.max(1f, 1f + mTotalDy / MAX_ZOOM_HEIGHT)
+        ViewCompat.setScaleX(mImageView, mScaleValue)
+        ViewCompat.setScaleY(mImageView, mScaleValue)
+        mLastBottom = mAppbarHeight + (mImageViewHeight / 2 * (mScaleValue - 1)).toInt()
+        abl.bottom = mLastBottom
+    }
+
+    /**
+     * 处理惯性滑动的情况
+     *
+     * @param coordinatorLayout
+     * @param child
+     * @param target
+     * @param velocityX
+     * @param velocityY
+     * @return
+     */
+    override fun onNestedPreFling(coordinatorLayout: CoordinatorLayout, child: AppBarLayout, target: View, velocityX: Float, velocityY: Float): Boolean {
+        if (velocityY > 100) {
+            isAnimate = false
+        }
+        return super.onNestedPreFling(coordinatorLayout, child, target, velocityX, velocityY)
+    }
+
+    /**
+     * 滑动停止的时候，恢复AppbarLayout、ImageView的原始状态
+     *
+     * @param coordinatorLayout
+     * @param abl
+     * @param target
+     * @param type
+     */
+    override fun onStopNestedScroll(coordinatorLayout: CoordinatorLayout, abl: AppBarLayout, target: View, type: Int) {
+        recovery(abl)
+        super.onStopNestedScroll(coordinatorLayout, abl, target, type)
+    }
+
+    var valueAnimator: ValueAnimator? = null
+
+    /**
+     * 通过属性动画的形式，恢复AppbarLayout、ImageView的原始状态
+     *
+     * @param abl
+     */
+    private fun recovery(abl: AppBarLayout) {
+        if (mTotalDy > 0) {
+            mTotalDy = 0f
+            if (isAnimate) {
+                valueAnimator = ValueAnimator.ofFloat(mScaleValue, 1f).setDuration(220)
+                valueAnimator?.addUpdateListener { animation ->
+                    val value = animation.animatedValue as Float
+                    ViewCompat.setScaleX(mImageView, value)
+                    ViewCompat.setScaleY(mImageView, value)
+                    abl.bottom = (mLastBottom - (mLastBottom - mAppbarHeight) * animation.animatedFraction).toInt()
+                }
+                valueAnimator?.start()
+            } else {
+                ViewCompat.setScaleX(mImageView, 1f)
+                ViewCompat.setScaleY(mImageView, 1f)
+                abl.bottom = mAppbarHeight
+            }
+        }
+    }
+
+    companion object {
+        private const val MAX_ZOOM_HEIGHT = 500f //放大最大高度
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/utils/NumUtils.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/utils/NumUtils.kt b/app/src/main/java/com/qxy/siegelions/utils/NumUtils.kt
new file mode 100644
--- /dev/null	(date 1661103872650)
+++ b/app/src/main/java/com/qxy/siegelions/utils/NumUtils.kt	(date 1661103872650)
@@ -0,0 +1,32 @@
+package com.qxy.siegelions.utils
+
+import java.text.DecimalFormat
+
+/**
+ * create by libo
+ * create on 2020-06-04
+ * description
+ */
+object NumUtils {
+
+    /**
+     * 数字上万过滤
+     * @return
+     */
+    @JvmStatic
+    fun numberFilter(number: Int): String {
+        return if (number in 10000..999999) {  //数字上万，小于百万，保留一位小数点
+            val df2 = DecimalFormat("##.#")
+            val format = df2.format((number.toFloat() / 10000).toDouble())
+            format + "万"
+        } else if (number in 1000000..99999998) {  //百万到千万不保留小数点
+            (number/10000).toString() + "万"
+        } else if (number > 99999999) { //上亿
+            val df2 = DecimalFormat("##.#")
+            val format = df2.format((number.toFloat() / 100000000).toDouble())
+            format + "亿"
+        } else {
+            number.toString() + ""
+        }
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/utils/AutoLinkHerfManager.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/utils/AutoLinkHerfManager.kt b/app/src/main/java/com/qxy/siegelions/utils/AutoLinkHerfManager.kt
new file mode 100644
--- /dev/null	(date 1661103872493)
+++ b/app/src/main/java/com/qxy/siegelions/utils/AutoLinkHerfManager.kt	(date 1661103872493)
@@ -0,0 +1,32 @@
+package com.qxy.siegelions.utils
+
+import android.text.TextUtils
+import android.util.Log
+import android.view.View
+import com.qxy.siegelions.utils.autolinktextview.AutoLinkMode
+import com.qxy.siegelions.utils.autolinktextview.AutoLinkTextView
+
+/**
+ * create by libo
+ * create on 2020-05-21
+ * description
+ */
+object AutoLinkHerfManager {
+    /**
+     * 设置正文内容
+     *
+     * @param content
+     */
+    fun setContent(content: String?, autoLinkTextView: AutoLinkTextView) {
+        if (TextUtils.isEmpty(content)) return
+        autoLinkTextView.visibility = View.VISIBLE
+        autoLinkTextView.addAutoLinkMode(AutoLinkMode.MODE_HASHTAG, AutoLinkMode.MODE_MENTION, AutoLinkMode.MODE_URL) //设置需要富文本的模式
+        autoLinkTextView.text = content
+        autoLinkTextView.setAutoLinkOnClickListener { autoLinkMode: AutoLinkMode?, matchedText: String ->
+            when (autoLinkMode) {
+                AutoLinkMode.MODE_HASHTAG -> Log.i("minfo", "话题 $matchedText")
+                AutoLinkMode.MODE_MENTION -> Log.i("minfo", "at $matchedText")
+            }
+        }
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/utils/OnVideoControllerListener.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/utils/OnVideoControllerListener.kt b/app/src/main/java/com/qxy/siegelions/utils/OnVideoControllerListener.kt
new file mode 100644
--- /dev/null	(date 1661103872483)
+++ b/app/src/main/java/com/qxy/siegelions/utils/OnVideoControllerListener.kt	(date 1661103872483)
@@ -0,0 +1,17 @@
+package com.qxy.siegelions.utils
+
+/**
+ * create by libo
+ * create on 2020-05-21
+ * description 视频控制器点击监听接口
+ */
+interface OnVideoControllerListener {
+
+    fun onHeadClick()
+
+    fun onLikeClick()
+
+    fun onCommentClick()
+
+    fun onShareClick()
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/view/CommentDialog.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/view/CommentDialog.kt b/app/src/main/java/com/qxy/siegelions/view/CommentDialog.kt
new file mode 100644
--- /dev/null	(date 1661103872415)
+++ b/app/src/main/java/com/qxy/siegelions/view/CommentDialog.kt	(date 1661103872415)
@@ -0,0 +1,57 @@
+package com.qxy.siegelions.view
+
+import android.os.Bundle
+import android.view.LayoutInflater
+import android.view.View
+import android.view.ViewGroup
+import androidx.recyclerview.widget.LinearLayoutManager
+import com.qxy.siegelions.R
+import com.qxy.siegelions.adapter.CommentAdapter
+import com.qxy.siegelions.bean.CommentBean
+import com.qxy.siegelions.bean.DataCreate
+import kotlinx.android.synthetic.main.dialog_comment.*
+import java.util.*
+
+/**
+ * create by libo
+ * create on 2020-05-24
+ * description 评论弹框
+ */
+class CommentDialog : BaseBottomSheetDialog() {
+
+    private var commentAdapter: CommentAdapter? = null
+    private val datas = ArrayList<CommentBean>()
+    private val likeArray = intArrayOf(4919, 334, 121, 423, 221, 23)
+    private val commentArray = arrayOf("我就说左脚踩右脚可以上天你们还不信！", "全是评论点赞，没人关注吗", "哈哈哈哈", "像谁，没看出来", "你这西安话真好听")
+
+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {
+        var view = inflater.inflate(R.layout.dialog_comment, container)
+        return view
+    }
+
+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
+        super.onViewCreated(view, savedInstanceState)
+        init()
+    }
+
+    private fun init() {
+        recyclerView!!.layoutManager = LinearLayoutManager(context)
+        commentAdapter = CommentAdapter(context, datas)
+        recyclerView!!.adapter = commentAdapter
+        loadData()
+    }
+
+    private fun loadData() {
+        for (i in DataCreate.userList.indices) {
+            val commentBean = CommentBean()
+            commentBean.userBean = DataCreate.userList[i]
+            commentBean.content = commentArray[(Math.random() * commentArray.size).toInt()]
+            commentBean.likeCount = likeArray[(Math.random() * likeArray.size).toInt()]
+            datas.add(commentBean)
+        }
+        commentAdapter!!.notifyDataSetChanged()
+    }
+
+    protected override val height: Int
+        protected get() = resources.displayMetrics.heightPixels - 600
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/view/ShareDialog.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/view/ShareDialog.kt b/app/src/main/java/com/qxy/siegelions/view/ShareDialog.kt
new file mode 100644
--- /dev/null	(date 1661103872407)
+++ b/app/src/main/java/com/qxy/siegelions/view/ShareDialog.kt	(date 1661103872407)
@@ -0,0 +1,59 @@
+package com.qxy.siegelions.view
+
+import android.os.Bundle
+import android.view.LayoutInflater
+import android.view.View
+import android.view.ViewGroup
+import androidx.recyclerview.widget.LinearLayoutManager
+import com.qxy.siegelions.R
+import com.qxy.siegelions.adapter.PrivateLetterAdapter
+import com.qxy.siegelions.adapter.ShareAdapter
+import com.qxy.siegelions.bean.DataCreate
+import com.qxy.siegelions.bean.ShareBean
+import kotlinx.android.synthetic.main.dialog_share.*
+import java.util.*
+
+/**
+ * create by libo
+ * create on 2020-05-25
+ * description 分享弹框
+ */
+class ShareDialog : BaseBottomSheetDialog() {
+
+    private var privateLetterAdapter: PrivateLetterAdapter? = null
+    private var shareAdapter: ShareAdapter? = null
+    private val shareBeans = ArrayList<ShareBean>()
+
+    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {
+        var view = inflater.inflate(R.layout.dialog_share, container)
+        return view
+    }
+
+    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {
+        super.onViewCreated(view, savedInstanceState)
+        init()
+    }
+
+    private fun init() {
+        rvPrivateLetter!!.layoutManager = LinearLayoutManager(context, LinearLayoutManager.HORIZONTAL, false)
+        privateLetterAdapter = PrivateLetterAdapter(context, DataCreate.userList)
+        rvPrivateLetter!!.adapter = privateLetterAdapter
+        rvShare!!.layoutManager = LinearLayoutManager(context, LinearLayoutManager.HORIZONTAL, false)
+        shareAdapter = ShareAdapter(context, shareBeans)
+        rvShare!!.adapter = shareAdapter
+        setShareDatas()
+    }
+
+    private fun setShareDatas() {
+        shareBeans.add(ShareBean(R.string.icon_friends, "朋友圈", R.color.color_wechat_iconbg))
+        shareBeans.add(ShareBean(R.string.icon_wechat, "微信", R.color.color_wechat_iconbg))
+        shareBeans.add(ShareBean(R.string.icon_qq, "QQ", R.color.color_qq_iconbg))
+        shareBeans.add(ShareBean(R.string.icon_qq_space, "QQ空间", R.color.color_qqzone_iconbg))
+        shareBeans.add(ShareBean(R.string.icon_weibo, "微博", R.color.color_weibo_iconbg))
+        shareBeans.add(ShareBean(R.string.icon_comment, "私信好友", R.color.color_FF0041))
+        shareAdapter!!.notifyDataSetChanged()
+    }
+
+    protected override val height: Int
+        protected get() = dp2px(context!!, 355f)
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/view/LikeView.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/view/LikeView.kt b/app/src/main/java/com/qxy/siegelions/view/LikeView.kt
new file mode 100644
--- /dev/null	(date 1661103872545)
+++ b/app/src/main/java/com/qxy/siegelions/view/LikeView.kt	(date 1661103872545)
@@ -0,0 +1,118 @@
+package com.qxy.siegelions.view
+
+import android.content.Context
+import android.os.Handler
+import android.util.AttributeSet
+import android.view.GestureDetector
+import android.view.GestureDetector.SimpleOnGestureListener
+import android.view.MotionEvent
+import android.view.View
+import android.view.animation.Animation
+import android.view.animation.AnimationSet
+import android.widget.ImageView
+import android.widget.RelativeLayout
+import com.qxy.siegelions.R
+import com.qxy.siegelions.utils.AnimUtils
+import java.util.*
+
+/**
+ * create by libo
+ * create on 2020-05-20
+ * description 点赞动画view
+ */
+class LikeView : RelativeLayout {
+    private var gestureDetector: GestureDetector? = null
+
+    /** 图片大小  */
+    private val likeViewSize = 330
+    private val angles = intArrayOf(-30, 0, 30)
+
+    /** 单击是否有点赞效果  */
+    private val canSingleTabShow = false
+    private var onPlayPauseListener: OnPlayPauseListener? = null
+    private var onLikeListener: OnLikeListener? = null
+
+    constructor(context: Context?) : super(context) {
+        init()
+    }
+
+    constructor(context: Context?, attrs: AttributeSet?) : super(context, attrs) {
+        init()
+    }
+
+    private fun init() {
+        gestureDetector = GestureDetector(object : SimpleOnGestureListener() {
+            override fun onDoubleTap(e: MotionEvent): Boolean {
+                addLikeView(e)
+                onLikeListener!!.onLikeListener()
+                return true
+            }
+
+            override fun onSingleTapConfirmed(e: MotionEvent): Boolean {
+                if (onPlayPauseListener != null) {
+                    onPlayPauseListener!!.onPlayOrPause()
+                }
+                return true
+            }
+        })
+        setOnTouchListener { v: View?, event: MotionEvent? ->
+            gestureDetector!!.onTouchEvent(event)
+            true
+        }
+    }
+
+    private fun addLikeView(e: MotionEvent) {
+        val imageView = ImageView(context)
+        imageView.setImageResource(R.mipmap.ic_like)
+        addView(imageView)
+        val layoutParams = LayoutParams(likeViewSize, likeViewSize)
+        layoutParams.leftMargin = e.x.toInt() - likeViewSize / 2
+        layoutParams.topMargin = e.y.toInt() - likeViewSize
+        imageView.layoutParams = layoutParams
+        playAnim(imageView)
+    }
+
+    private fun playAnim(view: View) {
+        val animationSet = AnimationSet(true)
+        val degrees = angles[Random().nextInt(3)]
+        animationSet.addAnimation(AnimUtils.rotateAnim(0, 0, degrees.toFloat()))
+        animationSet.addAnimation(AnimUtils.scaleAnim(100, 2f, 1f, 0))
+        animationSet.addAnimation(AnimUtils.alphaAnim(0f, 1f, 100, 0))
+        animationSet.addAnimation(AnimUtils.scaleAnim(500, 1f, 1.8f, 300))
+        animationSet.addAnimation(AnimUtils.alphaAnim(1f, 0f, 500, 300))
+        animationSet.addAnimation(AnimUtils.translationAnim(500, 0f, 0f, 0f, -400f, 300))
+        animationSet.setAnimationListener(object : Animation.AnimationListener {
+            override fun onAnimationStart(animation: Animation) {}
+            override fun onAnimationEnd(animation: Animation) {
+                Handler().post { removeView(view) }
+            }
+
+            override fun onAnimationRepeat(animation: Animation) {}
+        })
+        view.startAnimation(animationSet)
+    }
+
+    interface OnPlayPauseListener {
+        fun onPlayOrPause()
+    }
+
+    /**
+     * 设置单机播放暂停事件
+     * @param onPlayPauseListener
+     */
+    fun setOnPlayPauseListener(onPlayPauseListener: OnPlayPauseListener?) {
+        this.onPlayPauseListener = onPlayPauseListener
+    }
+
+    interface OnLikeListener {
+        fun onLikeListener()
+    }
+
+    /**
+     * 设置双击点赞事件
+     * @param onLikeListener
+     */
+    fun setOnLikeListener(onLikeListener: OnLikeListener?) {
+        this.onLikeListener = onLikeListener
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/view/IconFontTextView.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/view/IconFontTextView.kt b/app/src/main/java/com/qxy/siegelions/view/IconFontTextView.kt
new file mode 100644
--- /dev/null	(date 1661103872574)
+++ b/app/src/main/java/com/qxy/siegelions/view/IconFontTextView.kt	(date 1661103872574)
@@ -0,0 +1,26 @@
+package com.qxy.siegelions.view
+
+import android.content.Context
+import android.graphics.Typeface
+import android.util.AttributeSet
+import androidx.appcompat.widget.AppCompatTextView
+
+/**
+ * create by libo
+ * create on 2018/11/20
+ * description 用于加载iconfont的TextView
+ */
+class IconFontTextView : AppCompatTextView {
+    constructor(context: Context?) : super(context) {}
+    constructor(context: Context?, attrs: AttributeSet?) : super(context, attrs) {}
+
+    companion object {
+        /** 所有IconFontTextView公用typeface  */
+        private var typeface: Typeface? = null
+    }
+
+    init {
+        Companion.typeface = Typeface.createFromAsset(context.assets, "iconfont.ttf")
+        typeface = Companion.typeface
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/view/MarqueeTextView.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/view/MarqueeTextView.kt b/app/src/main/java/com/qxy/siegelions/view/MarqueeTextView.kt
new file mode 100644
--- /dev/null	(date 1661103872640)
+++ b/app/src/main/java/com/qxy/siegelions/view/MarqueeTextView.kt	(date 1661103872640)
@@ -0,0 +1,20 @@
+package com.qxy.siegelions.view
+
+import android.content.Context
+import android.util.AttributeSet
+import android.widget.TextView
+
+/**
+ * create by libo
+ * create on 2020-05-21
+ * description 跑马灯textview
+ */
+class MarqueeTextView : TextView {
+    constructor(context: Context?) : super(context) {}
+    constructor(context: Context?, attrs: AttributeSet?) : super(context, attrs) {}
+    constructor(context: Context?, attrs: AttributeSet?, defStyleAttr: Int) : super(context, attrs, defStyleAttr) {}
+
+    override fun isFocused(): Boolean {
+        return true
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/view/CircleImageView.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/view/CircleImageView.kt b/app/src/main/java/com/qxy/siegelions/view/CircleImageView.kt
new file mode 100644
--- /dev/null	(date 1661103872539)
+++ b/app/src/main/java/com/qxy/siegelions/view/CircleImageView.kt	(date 1661103872539)
@@ -0,0 +1,299 @@
+package com.qxy.siegelions.view
+
+import android.annotation.SuppressLint
+import android.content.Context
+import android.graphics.*
+import android.graphics.drawable.BitmapDrawable
+import android.graphics.drawable.Drawable
+import android.util.AttributeSet
+import android.view.MotionEvent
+import androidx.appcompat.widget.AppCompatImageView
+import com.qxy.siegelions.R
+
+class CircleImageView : AppCompatImageView {
+    // paint when user press
+    private var pressPaint: Paint? = null
+    private var width: Float = 0f
+    private var height: Float = 0f
+
+    // border color
+    private var borderColor = 0
+
+    // width of border
+    private var borderWidth = 0
+
+    // alpha when pressed
+    private var pressAlpha = 0
+
+    // color when pressed
+    private var pressColor = 0
+
+    // radius
+    private var radius = 0
+
+    // rectangle or round, 1 is circle, 2 is rectangle
+    private var shapeType = 0
+
+    constructor(context: Context) : super(context) {
+        init(context, null)
+    }
+
+    constructor(context: Context, attrs: AttributeSet?) : super(context, attrs) {
+        init(context, attrs)
+    }
+
+    constructor(context: Context, attrs: AttributeSet?, defStyleAttr: Int) : super(context, attrs, defStyleAttr) {
+        init(context, attrs)
+    }
+
+    private fun init(context: Context, attrs: AttributeSet?) {
+        //init the value
+        borderWidth = 0
+        borderColor = -0x22000001
+        pressAlpha = 0x42
+        pressColor = 0x42000000
+        radius = 16
+        shapeType = 0
+
+        // get attribute of EaseImageView
+        if (attrs != null) {
+            val array = context.obtainStyledAttributes(attrs, R.styleable.CircleImageView)
+            borderColor = array.getColor(R.styleable.CircleImageView_ease_border_color, borderColor)
+            borderWidth = array.getDimensionPixelOffset(R.styleable.CircleImageView_ease_border_width, borderWidth)
+            pressAlpha = array.getInteger(R.styleable.CircleImageView_ease_press_alpha, pressAlpha)
+            pressColor = array.getColor(R.styleable.CircleImageView_ease_press_color, pressColor)
+            radius = array.getDimensionPixelOffset(R.styleable.CircleImageView_ease_radius, radius)
+            shapeType = array.getInteger(R.styleable.CircleImageView_es_shape_type, shapeType)
+            array.recycle()
+        }
+
+        // set paint when pressed
+        pressPaint = Paint()
+        pressPaint!!.isAntiAlias = true
+        pressPaint!!.style = Paint.Style.FILL
+        pressPaint!!.color = pressColor
+        pressPaint!!.alpha = 0
+        pressPaint!!.flags = Paint.ANTI_ALIAS_FLAG
+        isDrawingCacheEnabled = true
+        setWillNotDraw(false)
+    }
+
+    override fun onDraw(canvas: Canvas) {
+        if (shapeType == 0) {
+            super.onDraw(canvas)
+            return
+        }
+        val drawable = drawable ?: return
+        // the width and height is in xml file
+        if (getWidth() == 0 || getHeight() == 0) {
+            return
+        }
+        val bitmap = getBitmapFromDrawable(drawable)
+        drawDrawable(canvas, bitmap)
+        if (isClickable) {
+            drawPress(canvas)
+        }
+        drawBorder(canvas)
+    }
+
+    /**
+     * draw Rounded Rectangle
+     *
+     * @param canvas
+     * @param bitmap
+     */
+    @SuppressLint("WrongConstant")
+    private fun drawDrawable(canvas: Canvas, bitmap: Bitmap?) {
+        var bitmap = bitmap
+        val paint = Paint()
+        paint.color = -0x1
+        paint.isAntiAlias = true //smooths out the edges of what is being drawn
+        val xfermode = PorterDuffXfermode(PorterDuff.Mode.SRC_IN)
+        // set flags
+        val saveFlags = Canvas.ALL_SAVE_FLAG
+        canvas.saveLayer(0f, 0f, width.toFloat(), height.toFloat(), null, saveFlags)
+        if (shapeType == 1) {
+            canvas.drawCircle((width / 2).toFloat(), (height / 2).toFloat(), (width / 2 - 1).toFloat(), paint)
+        } else if (shapeType == 2) {
+            val rectf = RectF(1f, 1f, (getWidth() - 1).toFloat(), (getHeight() - 1).toFloat())
+            canvas.drawRoundRect(rectf, (radius + 1).toFloat(), (radius + 1).toFloat(), paint)
+        }
+        paint.xfermode = xfermode
+        val scaleWidth = getWidth().toFloat() / bitmap!!.width
+        val scaleHeight = getHeight().toFloat() / bitmap.height
+        val matrix = Matrix()
+        matrix.postScale(scaleWidth, scaleHeight)
+
+        //bitmap scale
+        bitmap = Bitmap.createBitmap(bitmap, 0, 0, bitmap.width, bitmap.height, matrix, true)
+        canvas.drawBitmap(bitmap, 0f, 0f, paint)
+        canvas.restore()
+    }
+
+    /**
+     * draw the effect when pressed
+     *
+     * @param canvas
+     */
+    private fun drawPress(canvas: Canvas) {
+        // check is rectangle or circle
+        if (shapeType == 1) {
+            canvas.drawCircle((width / 2).toFloat(), (height / 2).toFloat(), (width / 2 - 1).toFloat(), pressPaint!!)
+        } else if (shapeType == 2) {
+            val rectF = RectF(1f, 1f, (width - 1).toFloat(), (height - 1).toFloat())
+            canvas.drawRoundRect(rectF, (radius + 1).toFloat(), (radius + 1).toFloat(), pressPaint!!)
+        }
+    }
+
+    /**
+     * draw customized border
+     *
+     * @param canvas
+     */
+    private fun drawBorder(canvas: Canvas) {
+        if (borderWidth > 0) {
+            val paint = Paint()
+            paint.strokeWidth = borderWidth.toFloat()
+            paint.style = Paint.Style.STROKE
+            paint.color = borderColor
+            paint.isAntiAlias = true
+            // // check is rectangle or circle
+            if (shapeType == 1) {
+                canvas.drawCircle((width / 2).toFloat(), (height / 2).toFloat(), ((width - borderWidth) / 2).toFloat(), paint)
+            } else if (shapeType == 2) {
+                val rectf = RectF((borderWidth / 2).toFloat(), (borderWidth / 2).toFloat(), (getWidth() - borderWidth / 2).toFloat(),
+                        (getHeight() - borderWidth / 2).toFloat())
+                canvas.drawRoundRect(rectf, radius.toFloat(), radius.toFloat(), paint)
+            }
+        }
+    }
+
+    /**
+     * monitor the size change
+     *
+     * @param w
+     * @param h
+     * @param oldw
+     * @param oldh
+     */
+    override fun onSizeChanged(w: Int, h: Int, oldw: Int, oldh: Int) {
+        super.onSizeChanged(w, h, oldw, oldh)
+        width = w.toFloat()
+        height = h.toFloat()
+    }
+
+    /**
+     * monitor if touched
+     *
+     * @param event
+     * @return
+     */
+    override fun onTouchEvent(event: MotionEvent): Boolean {
+        when (event.action) {
+            MotionEvent.ACTION_DOWN -> {
+                pressPaint!!.alpha = pressAlpha
+                invalidate()
+            }
+            MotionEvent.ACTION_UP -> {
+                pressPaint!!.alpha = 0
+                invalidate()
+            }
+            MotionEvent.ACTION_MOVE -> {
+            }
+            else -> {
+                pressPaint!!.alpha = 0
+                invalidate()
+            }
+        }
+        return super.onTouchEvent(event)
+    }
+
+    /**
+     * @param drawable
+     * @return
+     */
+    private fun getBitmapFromDrawable(drawable: Drawable?): Bitmap? {
+        if (drawable == null) {
+            return null
+        }
+        if (drawable is BitmapDrawable) {
+            return drawable.bitmap
+        }
+        var bitmap: Bitmap?
+        val width = Math.max(drawable.intrinsicWidth, 2)
+        val height = Math.max(drawable.intrinsicHeight, 2)
+        try {
+            bitmap = Bitmap.createBitmap(width, height, BITMAP_CONFIG)
+            val canvas = Canvas(bitmap)
+            drawable.setBounds(0, 0, canvas.width, canvas.height)
+            drawable.draw(canvas)
+        } catch (e: IllegalArgumentException) {
+            e.printStackTrace()
+            bitmap = null
+        }
+        return bitmap
+    }
+
+    /**
+     * set border color
+     *
+     * @param borderColor
+     */
+    fun setBorderColor(borderColor: Int) {
+        this.borderColor = borderColor
+        invalidate()
+    }
+
+    /**
+     * set border width
+     *
+     * @param borderWidth
+     */
+    fun setBorderWidth(borderWidth: Int) {
+        this.borderWidth = borderWidth
+    }
+
+    /**
+     * set alpha when pressed
+     *
+     * @param pressAlpha
+     */
+    fun setPressAlpha(pressAlpha: Int) {
+        this.pressAlpha = pressAlpha
+    }
+
+    /**
+     * set color when pressed
+     *
+     * @param pressColor
+     */
+    fun setPressColor(pressColor: Int) {
+        this.pressColor = pressColor
+    }
+
+    /**
+     * set radius
+     *
+     * @param radius
+     */
+    fun setRadius(radius: Int) {
+        this.radius = radius
+        invalidate()
+    }
+
+    /**
+     * set shape,1 is circle, 2 is rectangle
+     *
+     * @param shapeType
+     */
+    fun setShapeType(shapeType: Int) {
+        this.shapeType = shapeType
+        invalidate()
+    }
+
+    companion object {
+        // default bitmap config
+        private val BITMAP_CONFIG = Bitmap.Config.ARGB_8888
+        private const val COLORDRAWABLE_DIMENSION = 1
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/view/ControllerView.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/view/ControllerView.kt b/app/src/main/java/com/qxy/siegelions/view/ControllerView.kt
new file mode 100644
--- /dev/null	(date 1661103872499)
+++ b/app/src/main/java/com/qxy/siegelions/view/ControllerView.kt	(date 1661103872499)
@@ -0,0 +1,120 @@
+package com.qxy.siegelions.view
+
+import android.content.Context
+import android.util.AttributeSet
+import android.view.LayoutInflater
+import android.view.View
+import android.view.animation.Animation
+import android.view.animation.LinearInterpolator
+import android.view.animation.RotateAnimation
+import android.widget.RelativeLayout
+import butterknife.ButterKnife
+import com.qxy.siegelions.R
+import com.qxy.siegelions.bean.VideoBean
+import com.qxy.siegelions.utils.AutoLinkHerfManager
+import com.qxy.siegelions.utils.NumUtils
+import com.qxy.siegelions.utils.OnVideoControllerListener
+import kotlinx.android.synthetic.main.view_controller.view.*
+
+/**
+ * create by libo
+ * create on 2020-05-20
+ * description
+ */
+class ControllerView(context: Context?, attrs: AttributeSet?) : RelativeLayout(context, attrs), View.OnClickListener {
+    private var listener: OnVideoControllerListener? = null
+    private var videoData: VideoBean? = null
+
+    private fun init() {
+        val rootView = LayoutInflater.from(context).inflate(R.layout.view_controller, this)
+        ButterKnife.bind(this, rootView)
+        ivHead!!.setOnClickListener(this)
+        ivComment!!.setOnClickListener(this)
+        ivShare!!.setOnClickListener(this)
+        rlLike!!.setOnClickListener(this)
+        ivFocus!!.setOnClickListener(this)
+        setRotateAnim()
+    }
+
+    fun setVideoData(videoData: VideoBean) {
+        this.videoData = videoData
+        ivHead!!.setImageResource(videoData.userBean!!.head)
+        tvNickname!!.text = "@" + videoData.userBean!!.nickName
+        AutoLinkHerfManager.setContent(videoData.content, autoLinkTextView)
+        ivHeadAnim!!.setImageResource(videoData.userBean!!.head)
+        tvLikecount!!.text = NumUtils.numberFilter(videoData.likeCount)
+        tvCommentcount!!.text = NumUtils.numberFilter(videoData.commentCount)
+        tvSharecount!!.text = NumUtils.numberFilter(videoData.shareCount)
+        animationView!!.setAnimation("like.json")
+
+        //点赞状态
+        if (videoData.isLiked) {
+            ivLike!!.setTextColor(resources.getColor(R.color.color_FF0041))
+        } else {
+            ivLike!!.setTextColor(resources.getColor(R.color.white))
+        }
+
+        //关注状态
+        if (videoData.isFocused) {
+            ivFocus!!.visibility = GONE
+        } else {
+            ivFocus!!.visibility = VISIBLE
+        }
+    }
+
+    fun setListener(listener: OnVideoControllerListener?) {
+        this.listener = listener
+    }
+
+    override fun onClick(v: View) {
+        if (listener == null) {
+            return
+        }
+        when (v.id) {
+            R.id.ivHead -> listener!!.onHeadClick()
+            R.id.rlLike -> {
+                listener!!.onLikeClick()
+                like()
+            }
+            R.id.ivComment -> listener!!.onCommentClick()
+            R.id.ivShare -> listener!!.onShareClick()
+            R.id.ivFocus -> if (!videoData!!.isFocused) {
+                videoData!!.isLiked = true
+                ivFocus!!.visibility = GONE
+            }
+        }
+    }
+
+    /**
+     * 点赞动作
+     */
+    fun like() {
+        if (!videoData!!.isLiked) {
+            //点赞
+            animationView!!.visibility = VISIBLE
+            animationView!!.playAnimation()
+            ivLike!!.setTextColor(resources.getColor(R.color.color_FF0041))
+        } else {
+            //取消点赞
+            animationView!!.visibility = INVISIBLE
+            ivLike!!.setTextColor(resources.getColor(R.color.white))
+        }
+        videoData!!.isLiked = !videoData!!.isLiked
+    }
+
+    /**
+     * 循环旋转动画
+     */
+    private fun setRotateAnim() {
+        val rotateAnimation = RotateAnimation(0f, 359f,
+                Animation.RELATIVE_TO_SELF, 0.5f, Animation.RELATIVE_TO_SELF, 0.5f)
+        rotateAnimation.repeatCount = Animation.INFINITE
+        rotateAnimation.duration = 8000
+        rotateAnimation.interpolator = LinearInterpolator()
+        rlRecord!!.startAnimation(rotateAnimation)
+    }
+
+    init {
+        init()
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/view/viewpagerlayoutmanager/ViewPagerLayoutManager.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/view/viewpagerlayoutmanager/ViewPagerLayoutManager.kt b/app/src/main/java/com/qxy/siegelions/view/viewpagerlayoutmanager/ViewPagerLayoutManager.kt
new file mode 100644
--- /dev/null	(date 1661103872534)
+++ b/app/src/main/java/com/qxy/siegelions/view/viewpagerlayoutmanager/ViewPagerLayoutManager.kt	(date 1661103872534)
@@ -0,0 +1,128 @@
+package com.qxy.siegelions.view.viewpagerlayoutmanager
+
+import android.content.Context
+import android.view.View
+import androidx.recyclerview.widget.LinearLayoutManager
+import androidx.recyclerview.widget.PagerSnapHelper
+import androidx.recyclerview.widget.RecyclerView
+import androidx.recyclerview.widget.RecyclerView.OnChildAttachStateChangeListener
+import androidx.recyclerview.widget.RecyclerView.Recycler
+
+/**
+ * create on 2018/11/23
+ * description  ViewPager页面切换类型LayoutManager，监听了item的进入和退出并回调
+ */
+class ViewPagerLayoutManager : LinearLayoutManager {
+    private var mPagerSnapHelper: PagerSnapHelper? = null
+    private var mOnViewPagerListener: OnViewPagerListener? = null
+    private var mRecyclerView: RecyclerView? = null
+
+    /**
+     * 位移，用来判断移动方向
+     */
+    private var mDrift = 0
+
+    constructor(context: Context?) : super(context) {
+        init()
+    }
+
+    constructor(context: Context?, orientation: Int, reverseLayout: Boolean) : super(context, orientation, reverseLayout) {
+        init()
+    }
+
+    private fun init() {
+        mPagerSnapHelper = PagerSnapHelper()
+    }
+
+    override fun onAttachedToWindow(view: RecyclerView) {
+        super.onAttachedToWindow(view)
+        mPagerSnapHelper!!.attachToRecyclerView(view)
+        this.mRecyclerView = view
+        mRecyclerView!!.addOnChildAttachStateChangeListener(mChildAttachStateChangeListener)
+    }
+
+    override fun onLayoutChildren(recycler: Recycler, state: RecyclerView.State) {
+        super.onLayoutChildren(recycler, state)
+    }
+
+    /**
+     * 滑动状态的改变
+     *
+     * @param state
+     */
+    override fun onScrollStateChanged(state: Int) {
+        when (state) {
+            RecyclerView.SCROLL_STATE_IDLE -> {
+                val viewIdle = mPagerSnapHelper!!.findSnapView(this) ?: return
+                val positionIdle = getPosition(viewIdle)
+                if (mOnViewPagerListener != null && childCount == 1) {
+                    mOnViewPagerListener!!.onPageSelected(positionIdle, positionIdle == itemCount - 1)
+                }
+            }
+            RecyclerView.SCROLL_STATE_DRAGGING -> {
+                val viewDrag = mPagerSnapHelper!!.findSnapView(this)
+                if (viewDrag != null) {
+                    val positionDrag = getPosition(viewDrag)
+                }
+            }
+            RecyclerView.SCROLL_STATE_SETTLING -> {
+                val viewSettling = mPagerSnapHelper!!.findSnapView(this)
+                if (viewSettling != null) {
+                    val positionSettling = getPosition(viewSettling)
+                }
+            }
+        }
+    }
+
+    /**
+     * 监听竖直方向的相对偏移量
+     *
+     * @param dy
+     * @param recycler
+     * @param state
+     * @return
+     */
+    override fun scrollVerticallyBy(dy: Int, recycler: Recycler, state: RecyclerView.State): Int {
+        mDrift = dy
+        return super.scrollVerticallyBy(dy, recycler, state)
+    }
+
+    /**
+     * 监听水平方向的相对偏移量
+     *
+     * @param dx
+     * @param recycler
+     * @param state
+     * @return
+     */
+    override fun scrollHorizontallyBy(dx: Int, recycler: Recycler, state: RecyclerView.State): Int {
+        mDrift = dx
+        return super.scrollHorizontallyBy(dx, recycler, state)
+    }
+
+    /**
+     * 设置监听
+     *
+     * @param listener
+     */
+    fun setOnViewPagerListener(listener: OnViewPagerListener?) {
+        mOnViewPagerListener = listener
+    }
+
+    private val mChildAttachStateChangeListener: OnChildAttachStateChangeListener = object : OnChildAttachStateChangeListener {
+        override fun onChildViewAttachedToWindow(view: View) {
+            if (mOnViewPagerListener != null && childCount == 1) {
+                mOnViewPagerListener!!.onInitComplete()
+            }
+        }
+
+        override fun onChildViewDetachedFromWindow(view: View) {
+            if (mDrift >= 0) {
+                if (mOnViewPagerListener != null) mOnViewPagerListener!!.onPageRelease(true, getPosition(view))
+            } else {
+                if (mOnViewPagerListener != null) mOnViewPagerListener!!.onPageRelease(false, getPosition(view))
+            }
+            mOnViewPagerListener!!.onPageRelease(true, getPosition(view))
+        }
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/view/viewpagerlayoutmanager/OnViewPagerListener.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/view/viewpagerlayoutmanager/OnViewPagerListener.kt b/app/src/main/java/com/qxy/siegelions/view/viewpagerlayoutmanager/OnViewPagerListener.kt
new file mode 100644
--- /dev/null	(date 1661103872432)
+++ b/app/src/main/java/com/qxy/siegelions/view/viewpagerlayoutmanager/OnViewPagerListener.kt	(date 1661103872432)
@@ -0,0 +1,23 @@
+package com.qxy.siegelions.view.viewpagerlayoutmanager
+
+/**
+ * create by libo
+ * create on 2018/11/22
+ * description
+ */
+interface OnViewPagerListener {
+    /**
+     * 初始化完成
+     */
+    fun onInitComplete()
+
+    /**
+     * 释放的监听
+     */
+    fun onPageRelease(isNext: Boolean, position: Int)
+
+    /**
+     * 选中的监听以及判断是否滑动到底部
+     */
+    fun onPageSelected(position: Int, isBottom: Boolean)
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/view/FullScreenVideoView.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/view/FullScreenVideoView.kt b/app/src/main/java/com/qxy/siegelions/view/FullScreenVideoView.kt
new file mode 100644
--- /dev/null	(date 1661103872562)
+++ b/app/src/main/java/com/qxy/siegelions/view/FullScreenVideoView.kt	(date 1661103872562)
@@ -0,0 +1,20 @@
+package com.qxy.siegelions.view
+
+import android.content.Context
+import android.util.AttributeSet
+import android.widget.VideoView
+
+/**
+ * create by libo
+ * create on 2018/12/20
+ * description 全屏播放Videoview
+ */
+class FullScreenVideoView : VideoView {
+    constructor(context: Context?) : super(context) {}
+    constructor(context: Context?, attrs: AttributeSet?) : super(context, attrs) {}
+    constructor(context: Context?, attrs: AttributeSet?, defStyleAttr: Int) : super(context, attrs, defStyleAttr) {}
+
+    override fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {
+        setMeasuredDimension(getDefaultSize(0, widthMeasureSpec), getDefaultSize(0, heightMeasureSpec))
+    }
+}
\ No newline at end of file
Index: gradle/wrapper/gradle-wrapper.properties
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>#Sat Jul 23 15:12:41 CST 2022\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-bin.zip\r\ndistributionPath=wrapper/dists\r\nzipStorePath=wrapper/dists\r\nzipStoreBase=GRADLE_USER_HOME\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>ISO-8859-1
===================================================================
diff --git a/gradle/wrapper/gradle-wrapper.properties b/gradle/wrapper/gradle-wrapper.properties
--- a/gradle/wrapper/gradle-wrapper.properties	(revision a018a9249efc1e2168adb912f1ae2fa549202775)
+++ b/gradle/wrapper/gradle-wrapper.properties	(date 1661108720495)
@@ -1,4 +1,4 @@
-#Sat Jul 23 15:12:41 CST 2022
+#Mon Aug 22 03:05:20 CST 2022
 distributionBase=GRADLE_USER_HOME
 distributionUrl=https\://services.gradle.org/distributions/gradle-7.3.3-bin.zip
 distributionPath=wrapper/dists
Index: app/src/main/java/com/qxy/siegelions/view/BaseBottomSheetDialog.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/view/BaseBottomSheetDialog.kt b/app/src/main/java/com/qxy/siegelions/view/BaseBottomSheetDialog.kt
new file mode 100644
--- /dev/null	(date 1661103872617)
+++ b/app/src/main/java/com/qxy/siegelions/view/BaseBottomSheetDialog.kt	(date 1661103872617)
@@ -0,0 +1,55 @@
+package com.qxy.siegelions.view
+
+import android.content.Context
+import android.os.Bundle
+import android.widget.FrameLayout
+import androidx.coordinatorlayout.widget.CoordinatorLayout
+import com.qxy.siegelions.R
+import com.google.android.material.bottomsheet.BottomSheetBehavior
+import com.google.android.material.bottomsheet.BottomSheetDialog
+import com.google.android.material.bottomsheet.BottomSheetDialogFragment
+
+/**
+ * create by libo
+ * create on 2020-05-27
+ * description
+ */
+open class BaseBottomSheetDialog : BottomSheetDialogFragment() {
+    private var bottomSheet: FrameLayout? = null
+    var behavior: BottomSheetBehavior<FrameLayout>? = null
+    override fun onStart() {
+        super.onStart()
+        val dialog = dialog as BottomSheetDialog
+        bottomSheet = dialog.delegate.findViewById(com.google.android.material.R.id.design_bottom_sheet)
+        if (bottomSheet != null) {
+            val layoutParams = bottomSheet!!.layoutParams as CoordinatorLayout.LayoutParams
+            layoutParams.height = height
+            bottomSheet!!.layoutParams = layoutParams
+            behavior = BottomSheetBehavior.from(bottomSheet)
+            behavior?.peekHeight = height
+            // 初始为展开状态
+            behavior?.state = BottomSheetBehavior.STATE_EXPANDED
+        }
+    }
+
+    override fun onCreate(savedInstanceState: Bundle?) {
+        super.onCreate(savedInstanceState)
+        setStyle(STYLE_NORMAL, R.style.MyDialog)
+        isCancelable = true
+    }
+
+    protected open val height: Int
+        protected get() = resources.displayMetrics.heightPixels
+
+    /**
+     * dp转px
+     *
+     * @param context
+     * @param dpValue
+     * @return
+     */
+    protected fun dp2px(context: Context, dpValue: Float): Int {
+        val scale = context.resources.displayMetrics.density
+        return (dpValue * scale + 0.5f).toInt()
+    }
+}
\ No newline at end of file
Index: app/src/main/java/com/qxy/siegelions/view/SquareWidthImageView.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/qxy/siegelions/view/SquareWidthImageView.kt b/app/src/main/java/com/qxy/siegelions/view/SquareWidthImageView.kt
new file mode 100644
--- /dev/null	(date 1661103872426)
+++ b/app/src/main/java/com/qxy/siegelions/view/SquareWidthImageView.kt	(date 1661103872426)
@@ -0,0 +1,19 @@
+package com.qxy.siegelions.view
+
+import android.content.Context
+import android.util.AttributeSet
+import androidx.appcompat.widget.AppCompatImageView
+
+/**
+ * create by libo
+ * create on 2020/5/21
+ * description 高等于宽的imageview
+ */
+class SquareWidthImageView : AppCompatImageView {
+    constructor(context: Context?) : super(context) {}
+    constructor(context: Context?, attrs: AttributeSet?) : super(context, attrs) {}
+
+    override fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {
+        super.onMeasure(widthMeasureSpec, widthMeasureSpec) //设置高度始终等于宽度，即为正方形
+    }
+}
\ No newline at end of file
